<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<![endif]-->
<title>VIM: vim_faq</title>
<link rel="stylesheet" href="vim-stylesheet.css" type="text/css" />
</head>
<body>
<nav id=banner>
<a href="help.html">帮助总览</a> &middot;
<hr/>
<a href="quickref.html">快速参考</a> &middot;
<a href="index.html">命令索引</a> &middot;
<a href="eval.html#functions">函数列表</a> &middot;
<a href="quickref.html#option-list">选项列表</a> &middot;
<a href="tags.html">标签索引</a> &middot;
<hr/>
<a href="usr_toc.html">用户手册</a> &middot;
<a href="help.html#reference_toc">参考手册</a>
</nav>

<header>
<h2>vim_faq</h2>
</header>
<article id=outer>
<section class=inner>
<b class="vimtag"> <a name="vim_faq.txt">vim_faq.txt</a> </b>   常见问题解答

Last updated on: 12 December 2019

          VIM FAQ by: Christian Brabandt &lt;cb@256bit.org&gt;
                                <code class="vim">译者</code>: Willis

常见问题解答                                             <b class="vimtag"> <a name="vim-faq">vim-faq</a> </b> <b class="vimtag"> <a name="Vim-FAQ">Vim-FAQ</a> </b>

本 Vim FAQ 创建自 vim@vim.org 用户邮件列表和 comp.editors 新闻组的问与答。在
Vim 中有几种解决问题的方法。本 FAQ 提供了若干可能性中的一种解决方案。可用本
FAQ 提供的信息和链接来探索其它的方法。本 FAQ 的答案归功于 Peppe、Benji、
Charles Campbell 和许多其他人士。本 FAQ 的线上版本可见
<a href="https://vimhelp.appspot.com/vim_faq.txt.html">https://vimhelp.appspot.com/vim_faq.txt.html</a>。
                                                                <b class="vimtag"> <a name="faq-index">faq-index</a> </b>
<code class="section">索引</code>
                                                <b class="vimtag"> <a name="faq-general-information">faq-general-information</a> </b>
<code class="section">第一节 - 通用信息</code>
 <a href="vim_faq.html#faq-1.1">faq-1.1</a>    什么是 Vim？
 <a href="vim_faq.html#faq-1.2">faq-1.2</a>    谁编写了 Vim？
 <a href="vim_faq.html#faq-1.3">faq-1.3</a>    Vim 是否和 Vi 兼容？
 <a href="vim_faq.html#faq-1.4">faq-1.4</a>    Vim 在 Vi 之上有什么改进？
 <a href="vim_faq.html#faq-1.5">faq-1.5</a>    Vim 是免费的吗？
                                                        <b class="vimtag"> <a name="faq-resources">faq-resources</a> </b>
<code class="section">第二节 - 资源</code>
 <a href="vim_faq.html#faq-2.1">faq-2.1</a>    我去哪里可以学到更多关于 Vim 的知识？
 <a href="vim_faq.html#faq-2.2">faq-2.2</a>    有没有可用的邮件列表？
 <a href="vim_faq.html#faq-2.3">faq-2.3</a>    Vim 邮件列表有没有可用的归档？
 <a href="vim_faq.html#faq-2.4">faq-2.4</a>    哪里可以找到 HTML/PDF/PS 格式的 Vim 用户手册？
 <a href="vim_faq.html#faq-2.5">faq-2.5</a>    我有 Vim 上的 "xyz" (一些) 问题。如何判别是我个人设置的问题还是
          Vim 的问题？
 <a href="vim_faq.html#faq-2.6">faq-2.6</a>    我去哪里汇报漏洞？
 <a href="vim_faq.html#faq-2.7">faq-2.7</a>    哪里能找到本 FAQ？
 <a href="vim_faq.html#faq-2.8">faq-2.8</a>    在本 FAQ 找不到答案怎么办？
 <a href="vim_faq.html#faq-2.9">faq-2.9</a>    我有实现 Vim 某功能的补丁。如何发送补丁？
 <a href="vim_faq.html#faq-2.10">faq-2.10</a>   我有 Vim 的小窍门或开发了新的 Vim 语法/缩进/文件类型/编译器插件或
          开发了新脚本或色彩方案。有没有公共网站可以上传这些？
                                                        <b class="vimtag"> <a name="faq-availability">faq-availability</a> </b>
<code class="section">第三节 - 如何获取</code>
 <a href="vim_faq.html#faq-3.1">faq-3.1</a>    Vim 的最新版本是什么？
 <a href="vim_faq.html#faq-3.2">faq-3.2</a>    哪里可以找到最新的 Vim 版本？
 <a href="vim_faq.html#faq-3.3">faq-3.3</a>    它在什么平台上运行？
 <a href="vim_faq.html#faq-3.4">faq-3.4</a>    哪里可以下载最新版本的 Vim 的运行时文件？
                                                                <b class="vimtag"> <a name="faq-help">faq-help</a> </b>
<code class="section">第四节 - 帮助</code>
 <a href="vim_faq.html#faq-4.1">faq-4.1</a>    如何使用帮助文件？
 <a href="vim_faq.html#faq-4.2">faq-4.2</a>    如果在 Vim 帮助文件中搜索某关键字？
 <a href="vim_faq.html#faq-4.3">faq-4.3</a>    我得到了错误信息 E123，我做错什么了？
 <a href="vim_faq.html#faq-4.4">faq-4.4</a>    在哪里可以了解 Vim 的各种模式？
 <a href="vim_faq.html#faq-4.5">faq-4.5</a>    加入新 Vim 帮助文件后，如何生成 Vim 帮助标签文件呢？
 <a href="vim_faq.html#faq-4.6">faq-4.6</a>    可以用帮助文件的压缩版本吗？
                                                        <b class="vimtag"> <a name="faq-editing-a-file">faq-editing-a-file</a> </b>
<code class="section">第五节 - 编辑文件</code>
 <a href="vim_faq.html#faq-5.1">faq-5.1</a>    如何在 Vim 中载入文件用于编辑？
 <a href="vim_faq.html#faq-5.2">faq-5.2</a>    如何把当前文件丰用其它名字保存 (另存为) 并编辑新文件？
 <a href="vim_faq.html#faq-5.3">faq-5.3</a>    如何改变当前目录为当前文件的目录？
 <a href="vim_faq.html#faq-5.4">faq-5.4</a>    如何在写入文件时不在文件尾加上换行符 (EOL)？
 <a href="vim_faq.html#faq-5.5">faq-5.5</a>    如何配置 Vim 打开文件时回到之前编辑所在的位置？
 <a href="vim_faq.html#faq-5.6">faq-5.6</a>    在 Vim 中编辑文件时，文件被外部应用修改了，每次检测到改变发生时，
          Vim 都会弹出<code class="note">警告</code>窗口 (像确认对话框)。如果屏蔽此<code class="note">警告</code>？
 <a href="vim_faq.html#faq-5.7">faq-5.7</a>    如何编辑光标所在的文件名对应的文件？
 <a href="vim_faq.html#faq-5.8">faq-5.8</a>    如何重载/重新编辑当前文件？
 <a href="vim_faq.html#faq-5.9">faq-5.9</a>    如何周期性地自动保存文件？
 <a href="vim_faq.html#faq-5.10">faq-5.10</a>   如何以只读方式打开文件？
 <a href="vim_faq.html#faq-5.11">faq-5.11</a>   如何打开文件用于编辑而不保存当前文件的修改？
 <a href="vim_faq.html#faq-5.12">faq-5.12</a>   如何减少 Vim 中超大文件的载入时间？
                                                <b class="vimtag"> <a name="faq-editing-multiple-files">faq-editing-multiple-files</a> </b>
<code class="section">第六节 - 编辑多个文件</code>
 <a href="vim_faq.html#faq-6.1">faq-6.1</a>    在 Vim 里如何一次打开多个文件？
 <a href="vim_faq.html#faq-6.2">faq-6.2</a>    在 Vim 里如何在多个文件/缓冲区间切换？
 <a href="vim_faq.html#faq-6.3">faq-6.3</a>    在 Vim 里如何件在单独的窗口/标签页打开多个文件？
 <a href="vim_faq.html#faq-6.4">faq-6.4</a>    如何配置 Vim 可以一次自动载入若干文件，类似于 "工作集" 或 "项目"？
 <a href="vim_faq.html#faq-6.5">faq-6.5</a>    可以打开在单个 Vim 实例中打开多个顶层窗口，就像 Nedit 或 emacs 那
          样吗？
 <a href="vim_faq.html#faq-6.6">faq-6.6</a>    如何在 Vim 内浏览/探索目录？
 <a href="vim_faq.html#faq-6.7">faq-6.7</a>    如何用 ftp/scp/rcp/http 通过网络编辑文件？
                                                                <b class="vimtag"> <a name="faq-backup">faq-backup</a> </b>
<code class="section">第七节 - 备份</code>
 <a href="vim_faq.html#faq-7.1">faq-7.1</a>    我在编辑和保存文件的时候，Vim 创建了和原先文件名字相同但尾部附加了
          "~" 字符的文件。我怎么能不让 Vim 建立这个文件 (或) 我怎样能关闭 Vim
          的备份文件功能？
 <a href="vim_faq.html#faq-7.2">faq-7.2</a>    我在编辑和保存文件的时候，Vim 创建了和原先文件名字相同但尾部附加了
          ".un~" 扩展名的文件。我怎么能不让 Vim 建立这个文件 (或) 我怎样能关闭
          Vim 的撤销文件功能？
 <a href="vim_faq.html#faq-7.3">faq-7.3</a>    如果配置 Vim 在指定目录保存所有的备份文件？
 <a href="vim_faq.html#faq-7.4">faq-7.4</a>    Vim 保存文件时，文件的权限被改变了。如果配置 Vim 在文件保存时不改
          变文件权限？
                                                                <b class="vimtag"> <a name="faq-buffers">faq-buffers</a> </b>
<code class="section">第八节 - 缓冲区</code>
 <a href="vim_faq.html#faq-8.1">faq-8.1</a>    我在缓冲区上做了修改。如何才能编辑另一个缓冲区而无需保存修改过的缓
          冲区也不会丢失我的改动？
 <a href="vim_faq.html#faq-8.2">faq-8.2</a>    如何配置 Vim 在切换到其它缓冲区时自动保存修改过的缓冲区？
 <a href="vim_faq.html#faq-8.3">faq-8.3</a>    如何用空缓冲区来替换当前窗口的缓冲区？
 <a href="vim_faq.html#faq-8.4">faq-8.4</a>    有没有用缓冲区号载入缓冲区的快捷键？
 <a href="vim_faq.html#faq-8.5">faq-8.5</a>    如何在不同的窗口分别打开当前所有的缓冲区？
 <a href="vim_faq.html#faq-8.6">faq-8.6</a>    如何关闭 (删除) 缓冲区而不退出 Vim？
 <a href="vim_faq.html#faq-8.7">faq-8.7</a>    用命令  <code class="badlink">:%bd</code>  删除所有缓冲区时，不是所有的缓冲区都删除了。为什么？
 <a href="vim_faq.html#faq-8.8">faq-8.8</a>    如何显示当前缓冲区/文件的缓冲区号？
 <a href="vim_faq.html#faq-8.9">faq-8.9</a>    如何删除缓冲区而不关闭显示该缓冲区的窗口？
 <a href="vim_faq.html#faq-8.10">faq-8.10</a>   如何映射 <code class="special">&lt;Tab&gt;</code> 键来循环并打开所有缓冲区？
                                                                <b class="vimtag"> <a name="faq-windows">faq-windows</a> </b>
<code class="section">第九节 - 窗口</code>
 <a href="vim_faq.html#faq-9.1">faq-9.1</a>    Vim 窗口和缓冲区的区别是什么？
 <a href="vim_faq.html#faq-9.2">faq-9.2</a>    如何增加 Vim 窗口的宽度？
 <a href="vim_faq.html#faq-9.3">faq-9.3</a>    如何放大或缩小窗口？
 <a href="vim_faq.html#faq-9.4">faq-9.4</a>    如何在所有打开的缓冲区或打开的窗口或参数列表的所有文件上执行 ex 命
          令？
                                                                <b class="vimtag"> <a name="faq-motion">faq-motion</a> </b>
<code class="section">第十节 - 动作</code>
 <a href="vim_faq.html#faq-10.1">faq-10.1</a>   如何跳到文件的开头 (首行) 或尾部 (末行)？
 <a href="vim_faq.html#faq-10.2">faq-10.2</a>   插入模式下，按 <code class="special">&lt;Esc&gt;</code> 键回到命令模式时，光标向左移了一个字符 (除了
          光标在行首以外)。可以改变此行为来保持光标在同一列上吗？
 <a href="vim_faq.html#faq-10.3">faq-10.3</a>   如何配置 Vim 在用 &lt;Page Up&gt;、&lt;Page Down&gt; 等键滚动时保持水平光标位
          置？
 <a href="vim_faq.html#faq-10.4">faq-10.4</a>   文件中的有些行超过屏幕宽度而被回绕。用 j、k 键从一行移到下一行时光
          标移动到文件的下一行而不是屏幕的下一行。如何才能移动到下一屏幕行？
 <a href="vim_faq.html#faq-10.5">faq-10.5</a>   句子、段落和小节的定义是什么？
 <a href="vim_faq.html#faq-10.6">faq-10.6</a>   如何跳转到句子、段落或小节的头部或尾部？
 <a href="vim_faq.html#faq-10.7">faq-10.7</a>   我有延伸到屏幕右端之外的文件行。如何往右移动 Vim 视图来看到原来不
          在屏幕上的文本？
 <a href="vim_faq.html#faq-10.8">faq-10.8</a>   如何同时滚动两或多个缓冲区？
 <a href="vim_faq.html#faq-10.9">faq-10.9</a>   用光标键时，Vim 改变了模式，在文档中插入奇怪的字符，但不正确地移动
          光标。怎么啦？
 <a href="vim_faq.html#faq-10.10">faq-10.10</a>  如何配置 Vim 当光标在行首而按左键时，移动光标到前行的行尾？
 <a href="vim_faq.html#faq-10.11">faq-10.11</a>  如何配置 Vim 只留在插入模式 (无模式编辑)？
 <a href="vim_faq.html#faq-10.12">faq-10.12</a>  滚动文本时如何显示若干上下文？
 <a href="vim_faq.html#faq-10.13">faq-10.13</a>  如何回到之前的光标位置？
                                                        <b class="vimtag"> <a name="faq-searching-text">faq-searching-text</a> </b>
<code class="section">第十一节 - 搜索文本</code>
 <a href="vim_faq.html#faq-11.1">faq-11.1</a>   用模式搜索文本后，所有匹配的文本保持高亮。如何临时/永久关闭高亮？
 <a href="vim_faq.html#faq-11.2">faq-11.2</a>   如何在搜索模式中输入回车字符？
 <a href="vim_faq.html#faq-11.3">faq-11.3</a>   如何搜索字符 "^M"？
 <a href="vim_faq.html#faq-11.4">faq-11.4</a>   如何搜索/替代显示为 "~R"、"~S" 等的字符？
 <a href="vim_faq.html#faq-11.5">faq-11.5</a>   如何高亮文件中所有的不可显示字符？
 <a href="vim_faq.html#faq-11.6">faq-11.6</a>   如何在文件中搜索整词？
 <a href="vim_faq.html#faq-11.7">faq-11.7</a>   如何搜索光标下的当前单词？
 <a href="vim_faq.html#faq-11.8">faq-11.8</a>   如何在搜索单词时忽略大小写？
 <a href="vim_faq.html#faq-11.9">faq-11.9</a>   如何搜索连续两次出现的单词？
 <a href="vim_faq.html#faq-11.10">faq-11.10</a>  如何统计缓冲区中特定单词出现的次数？
 <a href="vim_faq.html#faq-11.11">faq-11.11</a>  如何在搜索模式时把光标放置在匹配单词的尾部？
 <a href="vim_faq.html#faq-11.12">faq-11.12</a>  如何搜索空行？
 <a href="vim_faq.html#faq-11.13">faq-11.13</a>  如何搜索只有一个字符的行？
 <a href="vim_faq.html#faq-11.14">faq-11.14</a>  如何搜索和替代多个文件中的字符串？
 <a href="vim_faq.html#faq-11.15">faq-11.15</a>  我在映射中使用了  <code class="badlink">:s</code>  替代命令。如果模式的搜索失败，映射被终止。我
          想要即使替代命令失败时，映射还继续处理下个命令。该如何做呢？
 <a href="vim_faq.html#faq-11.16">faq-11.16</a>  如何搜索一行中某字符的第 n 次出现？
 <a href="vim_faq.html#faq-11.17">faq-11.17</a>  如何用硬回车 (换行) 字符来替代制表符 (或任何字符)？
 <a href="vim_faq.html#faq-11.18">faq-11.18</a>  如何用字符的 ASCII 值来搜索字符？
 <a href="vim_faq.html#faq-11.19">faq-11.19</a>  如何搜索长行？
 <a href="vim_faq.html#faq-11.20">faq-11.20</a>  如何在当前缓冲区中显示包含特定模式的所有行？
 <a href="vim_faq.html#faq-11.21">faq-11.21</a>  如何搜索跨越多行的文本字符串？
 <a href="vim_faq.html#faq-11.22">faq-11.22</a>  如何只在缓冲区中给定行范围内搜索模式？
 <a href="vim_faq.html#faq-11.23">faq-11.23</a>  如何清除前次搜索模式？
 <a href="vim_faq.html#faq-11.24">faq-11.24</a>  为什么模式 "a.\<code class="special">{-}</code>p\@!" 不能匹配？
 <a href="vim_faq.html#faq-11.25">faq-11.25</a>  如何在模式中使用 "/" 时不用对它转义？
 <a href="vim_faq.html#faq-11.26">faq-11.26</a>  如何操作搜索的匹配？
                                                        <b class="vimtag"> <a name="faq-changing-text">faq-changing-text</a> </b>
<code class="section">第十二节 - 修改文本</code>
 <a href="vim_faq.html#faq-12.1">faq-12.1</a>   如何删除文件中所有行的拖尾空白字符 (空格和制表)？
 <a href="vim_faq.html#faq-12.2">faq-12.2</a>   如何把所有的多个连续出现的空格字符替代把单个空格？
 <a href="vim_faq.html#faq-12.3">faq-12.3</a>   如何把一串空行缩减成一行？
 <a href="vim_faq.html#faq-12.4">faq-12.4</a>   如何删除文件中的全部空行？如何删除全部只有空白字符的行？
 <a href="vim_faq.html#faq-12.5">faq-12.5</a>   如何复制/抽出当前单词？
 <a href="vim_faq.html#faq-12.6">faq-12.6</a>   如何从一行中抽出一个位置到另一个位置的文本而不是抽出整行？
 <a href="vim_faq.html#faq-12.7">faq-12.7</a>   抽出文本到寄存器时，如何附加文本到当前寄存器的内容上？
 <a href="vim_faq.html#faq-12.8">faq-12.8</a>   如何抽出跨越多行的完整句子？
 <a href="vim_faq.html#faq-12.9">faq-12.9</a>   如何抽出所有包含一个模式的行到一个缓冲区？
 <a href="vim_faq.html#faq-12.10">faq-12.10</a>  如何删除文件中所有不包含特定模式的行？
 <a href="vim_faq.html#faq-12.11">faq-12.11</a>  如何在每个带 "pattern" 的行之前加上一行？
 <a href="vim_faq.html#faq-12.12">faq-12.12</a>  有没有办法在前行包含指定模式的行上操作？
 <a href="vim_faq.html#faq-12.13">faq-12.13</a>  如何在所有包含指定模式的行上执行命令？
 <a href="vim_faq.html#faq-12.14">faq-12.14</a>  可以复制光标上方的字符到当前光标位置吗？
 <a href="vim_faq.html#faq-12.15">faq-12.15</a>  如何在当前行上方/下方插入空行而无需进入插入模式？
 <a href="vim_faq.html#faq-12.16">faq-12.16</a>  如何插入当前文件名到当前缓冲区？
 <a href="vim_faq.html#faq-12.17">faq-12.17</a>  如何插入 Vim 寄存器的内容到当前缓冲区？
 <a href="vim_faq.html#faq-12.18">faq-12.18</a>  如何移动光标跨过行尾并在行尾之后的列插入字符？
 <a href="vim_faq.html#faq-12.19">faq-12.19</a>  Vim 如何把光标所在的单词 (比如说: junk) 替代为 "foojunkbar"？
 <a href="vim_faq.html#faq-12.20">faq-12.20</a>  如何对一个目录里所有文件里的特定文本进行替代？
 <a href="vim_faq.html#faq-12.21">faq-12.21</a>  文件中有若干数值。如何为文件中的数值增量或减量？
 <a href="vim_faq.html#faq-12.22">faq-12.22</a>  如何在  <code class="badlink">:substitute</code>  命令中重用前次搜索模式？
 <a href="vim_faq.html#faq-12.23">faq-12.23</a>  如何用  <code class="badlink">:substitute</code>  改变字符串的大小写？
 <a href="vim_faq.html#faq-12.24">faq-12.24</a>  如何键入键盘上没有的字符？
 <a href="vim_faq.html#faq-12.25">faq-12.25</a>  有没有命令删除任何或所有的二合字母？
 <a href="vim_faq.html#faq-12.26">faq-12.26</a>  插入模式下，按退格键时，只删除这次在插入模式中键入的字符。如何能用
          退格键删除在之前的插入模式中键入的字符？
 <a href="vim_faq.html#faq-12.27">faq-12.27</a>  文件有长于 72 字符的行，以 "+" 终止并回绕到下一行。如何快速连接这
          些行？
 <a href="vim_faq.html#faq-12.28">faq-12.28</a>  如何把抽出的面向字符的文本粘贴到单独的行上？
 <a href="vim_faq.html#faq-12.29">faq-12.29</a>  如何改变单词或字符或文本块的大小写？
 <a href="vim_faq.html#faq-12.30">faq-12.30</a>  如何键入键盘上没有的 ASCII 字符？
 <a href="vim_faq.html#faq-12.31">faq-12.31</a>  如何替代文件中的不可显示字符？
 <a href="vim_faq.html#faq-12.32">faq-12.32</a>  如何删除缓冲区中的重复行？
 <a href="vim_faq.html#faq-12.33">faq-12.33</a>  如何给文件中的所有行加上对应行号前缀？
 <a href="vim_faq.html#faq-12.34">faq-12.34</a>  如何交换两个字符或单词或行？
 <a href="vim_faq.html#faq-12.35">faq-12.35</a>  如何改变用作单词定界的字符？
                                        <b class="vimtag"> <a name="faq-completion-in-insert-mode">faq-completion-in-insert-mode</a> </b>
<code class="section">第十三节 - 插入模式补全</code>
 <a href="vim_faq.html#faq-13.1">faq-13.1</a>   插入模式下如何补全单词或行？
 <a href="vim_faq.html#faq-13.2">faq-13.2</a>   插入模式下如何补全文件名？
 <a href="vim_faq.html#faq-13.3">faq-13.3</a>   插入模式下用了 <code class="keystroke">CTRL-P</code>/<code class="keystroke">CTRL-N</code> 补全单词。如何补全刚补全的单词之后的
          单词？
                                                        <b class="vimtag"> <a name="faq-text-formatting">faq-text-formatting</a> </b>
<code class="section">第十四节 - 文本排版</code>
 <a href="vim_faq.html#faq-14.1">faq-14.1</a>   如何排版文本段落以在每个回绕行尾插入换行符？
 <a href="vim_faq.html#faq-14.2">faq-14.2</a>   如何排版文件中的长行使得每行少于 "n" 个字符？
 <a href="vim_faq.html#faq-14.3">faq-14.3</a>   如何连接短行以形成段落？
 <a href="vim_faq.html#faq-14.4">faq-14.4</a>   如何排版项目符号和编号列表？
 <a href="vim_faq.html#faq-14.5">faq-14.5</a>   插入模式下如何缩进行？
 <a href="vim_faq.html#faq-14.6">faq-14.6</a>   如何排版/缩进整个文件？
 <a href="vim_faq.html#faq-14.7">faq-14.7</a>   如何增加或减少当前行的缩进？
 <a href="vim_faq.html#faq-14.8">faq-14.8</a>   如果对一组/块行进行缩进？
 <a href="vim_faq.html#faq-14.9">faq-14.9</a>   用 &gt; 或 &lt; 键缩进行时，使用标准的 8-制表位而不是当前 <code class="badlink">'tabstop'</code> 设
          置。为什么？
 <a href="vim_faq.html#faq-14.10">faq-14.10</a>  如何关闭文本的自动缩进？
 <a href="vim_faq.html#faq-14.11">faq-14.11</a>  如何配置 Vim 在编辑邮件时自动设置 <code class="badlink">'textwidth'</code> 选项为指定值？
 <a href="vim_faq.html#faq-14.12">faq-14.12</a>  有没有办法使得 Vim 自动神奇地断行？
 <a href="vim_faq.html#faq-14.13">faq-14.13</a>  我在文件中看到很多的 ^M 符号。我试过设置 <code class="badlink">'fileformat'</code> 选项为
          <code class="badlink">'dos'</code>，又试过 <code class="badlink">'unix'</code> 然后 <code class="badlink">'mac'</code>。都不行。我怎么才能隐藏这些符号呢？
 <a href="vim_faq.html#faq-14.14">faq-14.14</a>  我从另一个应用粘贴文本到 Vim 缓冲区时，新文本的对齐 (缩进) 不对。
          如何修正？
 <a href="vim_faq.html#faq-14.15">faq-14.15</a>  有很长回绕行 (回绕处于 "on" 状态) 时，如有一行不能完全放进屏幕，它
          会完全不显示。出现的是 "@" 符号开始的空行而不是回绕行。如果滚动屏幕
          后行能完全放进，"@" 符号消失而该行会再次显示。什么 Vim 设置控制此行
          为？
 <a href="vim_faq.html#faq-14.16">faq-14.16</a>  如何把文件中的所有的制表符转化为空格符？
 <a href="vim_faq.html#faq-14.17">faq-14.17</a>  什么 Vim 选项可用来编辑之后会用文字处理器处理的文本？
 <a href="vim_faq.html#faq-14.18">faq-14.18</a>  如何才能连接行而不加减空格字符？
                                                        <b class="vimtag"> <a name="faq-visual-mode">faq-visual-mode</a> </b>
<code class="section">第十五节 - 可视模式</code>
 <a href="vim_faq.html#faq-15.1">faq-15.1</a>   如何进行矩形列块复制？
 <a href="vim_faq.html#faq-15.2">faq-15.2</a>   如何删除或修改文件中的一列文本？
 <a href="vim_faq.html#faq-15.3">faq-15.3</a>   如何在一组可视选中的行上应用 ex 命令？
 <a href="vim_faq.html#faq-15.4">faq-15.4</a>   如何在可视列块模式选中的文本列上执行 ex 命令？
 <a href="vim_faq.html#faq-15.5">faq-15.5</a>   如何用可视模式选择整个文件？
 <a href="vim_faq.html#faq-15.6">faq-15.6</a>   可视选择一组行并按 &gt; 键缩进选中的行时，可视模式结束。如何才能重新
          选择区域用于将来的操作？(或) 如何才能重新选择最近选中的可视区域？
 <a href="vim_faq.html#faq-15.7">faq-15.7</a>   如何跳转到可视选择区域的开始/结束处？
 <a href="vim_faq.html#faq-15.8">faq-15.8</a>   用鼠标选择文本并按 : 来输入 ex 命令时，选中的文本被 : 字符替代。如
          何才能用鼠标在选中的文本上执行 ex 命令，就像在可视模式选中的文本那
          样？
 <a href="vim_faq.html#faq-15.9">faq-15.9</a>   用鼠标选择文本块时，Vim 进入了选择模式而不是可视模式。为什么？
 <a href="vim_faq.html#faq-15.10">faq-15.10</a>  如何可视地选择最近的复制/粘贴文本？
                                                <b class="vimtag"> <a name="faq-command-line-mode">faq-command-line-mode</a> </b>
<code class="section">第十六节 - 命令行模式</code>
 <a href="vim_faq.html#faq-16.1">faq-16.1</a>   如何在命令模式或 ex 命令行上使用当前文件名？
 <a href="vim_faq.html#faq-16.2">faq-16.2</a>   如何有效地在 Vim 命令行上编辑文本？
 <a href="vim_faq.html#faq-16.3">faq-16.3</a>   如何从 Vi 模式切换到 Ex 模式？
 <a href="vim_faq.html#faq-16.4">faq-16.4</a>   如何把 ex 命令的输出复制进缓冲区？
 <a href="vim_faq.html#faq-16.5">faq-16.5</a>   在命令模式下按了 <code class="special">&lt;Tab&gt;</code> 键补全文件名时，如果有多于一个匹配的文件
          名，Vim 会用第一个匹配文件名补全并显示所有匹配文件名的列表。如何配置
          Vim 只显示匹配文件名的列表而不用第一个补全？
 <a href="vim_faq.html#faq-16.6">faq-16.6</a>   如何从缓冲区复制文本到命令行，又如何从命令行到缓冲区？
 <a href="vim_faq.html#faq-16.7">faq-16.7</a>   如何把命令放进命令历史而不执行它？
 <a href="vim_faq.html#faq-16.8">faq-16.8</a>   如何增加命令行的高度？
                                                                <b class="vimtag"> <a name="faq-viminfo">faq-viminfo</a> </b>
<code class="section">SECTION 17 - VIMINFO </code>
 <a href="vim_faq.html#faq-17.1">faq-17.1</a>   When I invoke Vim, I get error messages about illegal characters
          in the viminfo file. What should I do to get rid of these
          messages?
 <a href="vim_faq.html#faq-17.2">faq-17.2</a>   How do I disable the viminfo feature?
 <a href="vim_faq.html#faq-17.3">faq-17.3</a>   How do I save and use Vim marks/commands across Vim sessions?
                                                        <b class="vimtag"> <a name="faq-remote-editing">faq-remote-editing</a> </b>
<code class="section">SECTION 18 - REMOTE EDITING </code>
 <a href="vim_faq.html#faq-18.1">faq-18.1</a>   How do I open a file with existing instance of gvim? What
          happened to the Vim 5.x OpenWithVim.exe and SendToVim.exe files?
 <a href="vim_faq.html#faq-18.2">faq-18.2</a>   How do I send a command to a Vim server to write all buffers to
          disk?
 <a href="vim_faq.html#faq-18.3">faq-18.3</a>   Where can I get the documentation about the Vim remote server
          functionality?
                                                                <b class="vimtag"> <a name="faq-options">faq-options</a> </b>
<code class="section">SECTION 19 - OPTIONS </code>
 <a href="vim_faq.html#faq-19.1">faq-19.1</a>   How do I configure Vim in a simple way?
 <a href="vim_faq.html#faq-19.2">faq-19.2</a>   How do I toggle the value of an option?
 <a href="vim_faq.html#faq-19.3">faq-19.3</a>   How do I set an option that affects only the current
          buffer/window?
 <a href="vim_faq.html#faq-19.4">faq-19.4</a>   How do I use space characters for a Vim option value?
 <a href="vim_faq.html#faq-19.5">faq-19.5</a>   Can I add (embed) Vim option settings to the contents of a file?
 <a href="vim_faq.html#faq-19.6">faq-19.6</a>   How do I display the line numbers of all the lines in a file?
 <a href="vim_faq.html#faq-19.7">faq-19.7</a>   How do I change the width of the line numbers displayed using the
          <code class="badlink">'number'</code> option?
 <a href="vim_faq.html#faq-19.8">faq-19.8</a>   How do I display (view) all the invisible characters like space,
          tabs and newlines in a file?
 <a href="vim_faq.html#faq-19.9">faq-19.9</a>   How do I configure Vim to always display the current line and
          column number?
 <a href="vim_faq.html#faq-19.10">faq-19.10</a>  How do I display the current Vim mode?
 <a href="vim_faq.html#faq-19.11">faq-19.11</a>  How do I configure Vim to show pending/partial commands on the
          status line?
 <a href="vim_faq.html#faq-19.12">faq-19.12</a>  How do I configure the Vim status line to display different
          settings/values?
 <a href="vim_faq.html#faq-19.13">faq-19.13</a>  How do I configure Vim to display status line always?
 <a href="vim_faq.html#faq-19.14">faq-19.14</a>  How do I make a Vim setting persistent across different Vim
          invocations/instances/sessions?
 <a href="vim_faq.html#faq-19.15">faq-19.15</a>  Why do I hear a beep (why does my window flash) about 1 second
          after I hit the Escape key?
 <a href="vim_faq.html#faq-19.16">faq-19.16</a>  How do I make the "c" and "s" commands display a "$" instead of
          deleting the characters I'm changing?
 <a href="vim_faq.html#faq-19.17">faq-19.17</a>  How do I remove more than one flag using a single  <code class="badlink">:set</code>  command
          from a Vim option?
                                                        <b class="vimtag"> <a name="faq-mapping-keys">faq-mapping-keys</a> </b>
<code class="section">SECTION 20 - MAPPING KEYS </code>
 <a href="vim_faq.html#faq-20.1">faq-20.1</a>   How do I know what a key is mapped to?
 <a href="vim_faq.html#faq-20.2">faq-20.2</a>   How do I list all the user-defined key mappings?
 <a href="vim_faq.html#faq-20.3">faq-20.3</a>   How do I unmap a key?
 <a href="vim_faq.html#faq-20.4">faq-20.4</a>   I am not able to create a mapping for the <code class="special">&lt;xxx&gt;</code> key. What is
          wrong?
 <a href="vim_faq.html#faq-20.5">faq-20.5</a>   Why does mapping the &lt;C-...&gt; key not work?
 <a href="vim_faq.html#faq-20.6">faq-20.6</a>   How do I map the numeric keypad keys?
 <a href="vim_faq.html#faq-20.7">faq-20.7</a>   How do I create a mapping that works only in visual mode?
 <a href="vim_faq.html#faq-20.8">faq-20.8</a>   How do I create a mapping that works only in normal and operator
          pending mode (but not in visual mode)?
 <a href="vim_faq.html#faq-20.9">faq-20.9</a>   In a Vim script, how do I know which keys to use for my mappings,
          so that the mapped key will not collide with an already used key?
 <a href="vim_faq.html#faq-20.10">faq-20.10</a>  How do I map the escape key?
 <a href="vim_faq.html#faq-20.11">faq-20.11</a>  How do I map a key to perform nothing?
 <a href="vim_faq.html#faq-20.12">faq-20.12</a>  I want to use the <code class="special">&lt;Tab&gt;</code> key to indent a block of text and
          <code class="special">&lt;Shift-Tab&gt;</code> key to unindent a block of text. How do I map the keys
          to do this?  This behavior is similar to textpad, visual studio,
          etc.
 <a href="vim_faq.html#faq-20.13">faq-20.13</a>  In my mappings the special characters like <code class="special">&lt;CR&gt;</code> are not
          recognized. How can I configure Vim to recognize special
          characters?
 <a href="vim_faq.html#faq-20.14">faq-20.14</a>  How do I use the "|" to separate multiple commands in a map?
 <a href="vim_faq.html#faq-20.15">faq-20.15</a>  If I have a mapping/abbreviation whose ending is the beginning of
          another mapping/abbreviation, how do I keep the first from
          expanding into the second one?
 <a href="vim_faq.html#faq-20.16">faq-20.16</a>  Why does it take a second or more for Vim to process a key,
          sometimes when I press a key?
 <a href="vim_faq.html#faq-20.17">faq-20.17</a>  How do I map a key to run an external command using a visually
          selected text?
 <a href="vim_faq.html#faq-20.18">faq-20.18</a>  How do I map the <code class="keystroke">CTRL-I</code> key while still retaining the
          functionality of the <code class="special">&lt;Tab&gt;</code> key?
 <a href="vim_faq.html#faq-20.19">faq-20.19</a>  How do I define a map to accept a count?
 <a href="vim_faq.html#faq-20.20">faq-20.20</a>  How can I make my normal mode mapping work from within Insert
          Mode?
                                                        <b class="vimtag"> <a name="faq-abbreviations">faq-abbreviations</a> </b>
<code class="section">SECTION 21 - ABBREVIATIONS </code>
 <a href="vim_faq.html#faq-21.1">faq-21.1</a>   How do I auto correct misspelled words?
 <a href="vim_faq.html#faq-21.2">faq-21.2</a>   How do I create multi-line abbreviations?
 <a href="vim_faq.html#faq-21.3">faq-21.3</a>   When my abbreviations are expanded, an additional space character
          is added at the end of the expanded text. How do I avoid this
          character?
 <a href="vim_faq.html#faq-21.4">faq-21.4</a>   How do I insert the current date/time stamp into the file?
 <a href="vim_faq.html#faq-21.5">faq-21.5</a>   How do I prevent an abbreviation from expanding in insert mode?
                                                <b class="vimtag"> <a name="faq-record-and-playback">faq-record-and-playback</a> </b>
<code class="section">SECTION 22 - RECORD AND PLAYBACK </code>
 <a href="vim_faq.html#faq-22.1">faq-22.1</a>   How do I repeat an editing operation (insertion, deletion, paste,
          etc)?
 <a href="vim_faq.html#faq-22.2">faq-22.2</a>   How I record and repeat a set of key sequences?
 <a href="vim_faq.html#faq-22.3">faq-22.3</a>   How do I edit/modify a recorded set of key sequences?
 <a href="vim_faq.html#faq-22.4">faq-22.4</a>   How do I write recorded key sequences to a file?
 <a href="vim_faq.html#faq-22.5">faq-22.5</a>   I am using register 0 to record my key sequences (i.e. q0 ....
          q). In the recorded key sequences, I am yanking some text.  After
          the first replay of the recorded key sequence, I am no longer
          able to play it back.
                                                        <b class="vimtag"> <a name="faq-autocommands">faq-autocommands</a> </b>
<code class="section">SECTION 23 - AUTOCOMMANDS </code>
 <a href="vim_faq.html#faq-23.1">faq-23.1</a>   How do I execute a command when I try to modify a read-only file?
 <a href="vim_faq.html#faq-23.2">faq-23.2</a>   How do I execute a command every time when entering a buffer?
 <a href="vim_faq.html#faq-23.3">faq-23.3</a>   How do I execute a command every time when entering a window?
 <a href="vim_faq.html#faq-23.4">faq-23.4</a>   From an autocmd, how can I determine the name of the file or the
          buffer number for which the autocommand is executed?
 <a href="vim_faq.html#faq-23.5">faq-23.5</a>   How do I automatically save all the changed buffers whenever Vim
          loses focus?
 <a href="vim_faq.html#faq-23.6">faq-23.6</a>   How do I execute/run a function when Vim exits to do some
          cleanup?
                                                        <b class="vimtag"> <a name="faq-syntax-highlight">faq-syntax-highlight</a> </b>
<code class="section">SECTION 24 - SYNTAX HIGHLIGHT </code>
 <a href="vim_faq.html#faq-24.1">faq-24.1</a>   How do I turn off/on syntax highlighting?
 <a href="vim_faq.html#faq-24.2">faq-24.2</a>   How do I change the background and foreground colors used by Vim?
 <a href="vim_faq.html#faq-24.3">faq-24.3</a>   How do I change the highlight colors to suit a dark/light
          background?
 <a href="vim_faq.html#faq-24.4">faq-24.4</a>   How do I change the color of the line numbers displayed when the
          `:set number` command is used?
 <a href="vim_faq.html#faq-24.5">faq-24.5</a>   How do I change the background color used for a Visually selected
          block?
 <a href="vim_faq.html#faq-24.6">faq-24.6</a>   How do I highlight the special characters (tabs, trailing spaces,
          end of line, etc) displayed by the <code class="badlink">'list'</code> option?
 <a href="vim_faq.html#faq-24.7">faq-24.7</a>   How do I specify a colorscheme in my .vimrc/.gvimrc file, so that
          Vim uses the specified colorscheme every time?
 <a href="vim_faq.html#faq-24.8">faq-24.8</a>   Vim syntax highlighting is broken. When I am editing a file, some
          parts of the file is not syntax highlighted or syntax highlighted
          incorrectly.
 <a href="vim_faq.html#faq-24.9">faq-24.9</a>   Is there a built-in function to syntax-highlight the
          corresponding matching bracket?
 <a href="vim_faq.html#faq-24.10">faq-24.10</a>  How do I turn off the C comment syntax highlighting?
 <a href="vim_faq.html#faq-24.11">faq-24.11</a>  How do I add my own syntax extensions to the standard syntax
          files supplied with Vim?
 <a href="vim_faq.html#faq-24.12">faq-24.12</a>  How do I replace a standard syntax file that comes with the Vim
          distribution with my own syntax file?
 <a href="vim_faq.html#faq-24.13">faq-24.13</a>  How do I highlight all the characters after a particular column?
 <a href="vim_faq.html#faq-24.14">faq-24.14</a>  How do I convert a source file (.c, .h, etc) with the Vim syntax
          highlighting into a HTML file?
 <a href="vim_faq.html#faq-24.15">faq-24.15</a>  How do I list the definition of all the current highlight
          groups?
 <a href="vim_faq.html#faq-24.16">faq-24.16</a>  How can I embed one syntax highlighting language into another
          one?
                                                <b class="vimtag"> <a name="faq-vim-script-writing">faq-vim-script-writing</a> </b>
<code class="section">SECTION 25 - VIM SCRIPT WRITING </code>
 <a href="vim_faq.html#faq-25.1">faq-25.1</a>   How do I list the names of all the scripts sourced by Vim?
 <a href="vim_faq.html#faq-25.2">faq-25.2</a>   How do I debug Vim scripts?
 <a href="vim_faq.html#faq-25.3">faq-25.3</a>   How do I locate the script/plugin which sets a Vim option?
 <a href="vim_faq.html#faq-25.4">faq-25.4</a>   I am getting some error/informational messages from Vim (possibly
          when running a script), the messages are cleared immediately. How
          do I display the messages again?
 <a href="vim_faq.html#faq-25.5">faq-25.5</a>   How do I save and restore a plugin specific information across
          Vim invocations?
 <a href="vim_faq.html#faq-25.6">faq-25.6</a>   How do I start insert mode from a Vim function?
 <a href="vim_faq.html#faq-25.7">faq-25.7</a>   How do I change the cursor position from within a Vim function?
 <a href="vim_faq.html#faq-25.8">faq-25.8</a>   How do I check the value of an environment variable in the .vimrc
          file?
 <a href="vim_faq.html#faq-25.9">faq-25.9</a>   How do I check whether an environment variable is set or not from
          a Vim function?
 <a href="vim_faq.html#faq-25.10">faq-25.10</a>  How do I call/use the Vim built-in functions?
 <a href="vim_faq.html#faq-25.11">faq-25.11</a>  I am using some normal mode commands in my Vim script. How do I
          avoid using the user-defined mappings for these normal mode
          commands and use the standard Vim functionality for these normal
          mode commands?
 <a href="vim_faq.html#faq-25.12">faq-25.12</a>  How do I get a visually selected text into a Vim variable or
          register?
 <a href="vim_faq.html#faq-25.13">faq-25.13</a>  I have some text in a Vim variable "myvar". I would like to use
          this variable in a  <code class="badlink">:s</code>  substitute command to replace a text
          "mytext". How do I do this?
 <a href="vim_faq.html#faq-25.14">faq-25.14</a>  A Vim variable (bno) contains a buffer number. How do I use this
          variable to open the corresponding buffer?
 <a href="vim_faq.html#faq-25.15">faq-25.15</a>  How do I store the value of a Vim option into a Vim variable?
 <a href="vim_faq.html#faq-25.16">faq-25.16</a>  I have copied and inserted some text into a buffer from a Vim
          function. How do I indent the inserted text from the Vim
          function?
 <a href="vim_faq.html#faq-25.17">faq-25.17</a>  How do I get the character under the cursor from a Vim script?
 <a href="vim_faq.html#faq-25.18">faq-25.18</a>  How do I get the name of the current file without the extension?
 <a href="vim_faq.html#faq-25.19">faq-25.19</a>  How do I get the basename of the current file?
 <a href="vim_faq.html#faq-25.20">faq-25.20</a>  How do I get the output from a Vim function into the current
          buffer?
 <a href="vim_faq.html#faq-25.21">faq-25.21</a>  How do I call external programs from a Vim function?
 <a href="vim_faq.html#faq-25.22">faq-25.22</a>  How do I get the return status of a program executed using the
           <code class="badlink">:!</code>  command?
 <a href="vim_faq.html#faq-25.23">faq-25.23</a>  How do I determine whether the current buffer is modified or
          not?
 <a href="vim_faq.html#faq-25.24">faq-25.24</a>  I would like to use the carriage return character in a normal
          command from a Vim script. How do I specify the carriage return
          character?
 <a href="vim_faq.html#faq-25.25">faq-25.25</a>  How do I split long lines in a Vim script?
 <a href="vim_faq.html#faq-25.26">faq-25.26</a>  When I try to "execute" my function using the `:execute Myfunc()`
          command, the cursor is moved to the top of the current buffer.
          Why?
 <a href="vim_faq.html#faq-25.27">faq-25.27</a>  How do I source/execute the contents of a register?
 <a href="vim_faq.html#faq-25.28">faq-25.28</a>  After calling a Vim function or a mapping, when I press the "u"
          key to undo the last change, Vim undoes all the changes made by
          the mapping/function. Why?
 <a href="vim_faq.html#faq-25.29">faq-25.29</a>  How can I call a function defined with s: (script local
          function) from another script/plugin?
 <a href="vim_faq.html#faq-25.30">faq-25.30</a>  Is it possible to un-source a sourced script? In other words,
          reverse all the commands executed by sourcing a script.
                                                                <b class="vimtag"> <a name="faq-plugins">faq-plugins</a> </b>
<code class="section">SECTION 26 - PLUGINS </code>
 <a href="vim_faq.html#faq-26.1">faq-26.1</a>   How do I set different options for different types of files?
 <a href="vim_faq.html#faq-26.2">faq-26.2</a>   I have downloaded a Vim plugin or a syntax file or a indent file,
          or a color scheme or a filetype plugin from the web. Where should
          I copy these files so that Vim will find them?
 <a href="vim_faq.html#faq-26.3">faq-26.3</a>   How do I extend an existing filetype plugin?
 <a href="vim_faq.html#faq-26.4">faq-26.4</a>   How do I turn off loading the Vim plugins?
 <a href="vim_faq.html#faq-26.5">faq-26.5</a>   How do I turn on/off loading the filetype plugins?
 <a href="vim_faq.html#faq-26.6">faq-26.6</a>   How do I override settings made in a file type plugin in the
          global ftplugin directory for all the file types?
 <a href="vim_faq.html#faq-26.7">faq-26.7</a>   How do I disable the Vim directory browser plugin?
 <a href="vim_faq.html#faq-26.8">faq-26.8</a>   How do I set the filetype option for files with names matching a
          particular pattern or depending on the file extension?
                                                <b class="vimtag"> <a name="faq-editing-program-files">faq-editing-program-files</a> </b>
<code class="section">SECTION 27 - EDITING PROGRAM FILES </code>
 <a href="vim_faq.html#faq-27.1">faq-27.1</a>   How do I enable automatic indentation for C/C++ files?
 <a href="vim_faq.html#faq-27.2">faq-27.2</a>   How do I configure the indentation used for C/C++ files?
 <a href="vim_faq.html#faq-27.3">faq-27.3</a>   How do I turn off the automatic indentation feature?
 <a href="vim_faq.html#faq-27.4">faq-27.4</a>   How do I change the number of space characters used for the
          automatic indentation?
 <a href="vim_faq.html#faq-27.5">faq-27.5</a>   I am editing a C program using Vim. How do I display the
          definition of a macro or a variable?
 <a href="vim_faq.html#faq-27.6">faq-27.6</a>   I am editing a C program using Vim. How do I jump to the
          beginning or end of a code block from within the block?
 <a href="vim_faq.html#faq-27.7">faq-27.7</a>   When editing C++ files and when inserting new lines above or
          below a comment (//) line, Vim automatically inserts the C++
          comment character (//) at the beginning of the line. How do I
          disable this? 
 <a href="vim_faq.html#faq-27.8">faq-27.8</a>   How do I add the comment character "#" to a set of lines at the
          beginning of each line?
 <a href="vim_faq.html#faq-27.9">faq-27.9</a>   How do I edit a header file with the same name as the
          corresponding C source file?
 <a href="vim_faq.html#faq-27.10">faq-27.10</a>  How do I automatically insert comment leaders while typing
          comments?
                                                                <b class="vimtag"> <a name="faq-quickfix">faq-quickfix</a> </b>
<code class="section">SECTION 28 - QUICKFIX </code>
 <a href="vim_faq.html#faq-28.1">faq-28.1</a>   How do I build programs from Vim?
 <a href="vim_faq.html#faq-28.2">faq-28.2</a>   When I run the make command in Vim I get the errors listed as the
          compiler compiles the program. When it finishes this list
          disappears and I have to use the  <code class="badlink">:clist</code>  command to see the error
          message again. Is there any other way to see these error
          messages?
 <a href="vim_faq.html#faq-28.3">faq-28.3</a>   How can I perform a command for each item in the
          quickfix/location list?
                                                                <b class="vimtag"> <a name="faq-folding">faq-folding</a> </b>
<code class="section">SECTION 29 - FOLDING </code>
 <a href="vim_faq.html#faq-29.1">faq-29.1</a>   How do I extend the Vim folding support?
 <a href="vim_faq.html#faq-29.2">faq-29.2</a>   When I enable folding by setting the <code class="badlink">'foldmethod'</code> option, all the
          folds are closed. How do I prevent this?
 <a href="vim_faq.html#faq-29.3">faq-29.3</a>   How do I control how many folds will be opened when I start
          editing a file?
 <a href="vim_faq.html#faq-29.4">faq-29.4</a>   How do I open and close folds using the mouse?
 <a href="vim_faq.html#faq-29.5">faq-29.5</a>   How do I change the text displayed for a closed fold?
 <a href="vim_faq.html#faq-29.6">faq-29.6</a>   How do I store and restore manually created folds across
          different Vim invocations?
 <a href="vim_faq.html#faq-29.7">faq-29.7</a>   I have enabled syntax based folding. Why is Vim so slow?

                                        <b class="vimtag"> <a name="faq-vim-with-external-applications">faq-vim-with-external-applications</a> </b>
<code class="section">SECTION 30 - VIM WITH EXTERNAL APPLICATIONS </code>
 <a href="vim_faq.html#faq-30.1">faq-30.1</a>   Can I run a shell inside a Vim window?
 <a href="vim_faq.html#faq-30.2">faq-30.2</a>   How do I pass the word under the cursor to an external command?
 <a href="vim_faq.html#faq-30.3">faq-30.3</a>   How do I get the output of a shell command into a Vim buffer?
 <a href="vim_faq.html#faq-30.4">faq-30.4</a>   How do I pipe the contents of the current buffer to an external
          command and replace the contents of the buffer with the output
          from the command?
 <a href="vim_faq.html#faq-30.5">faq-30.5</a>   How do I sort a section of my file?
 <a href="vim_faq.html#faq-30.6">faq-30.6</a>   How do I use Vim as a pager?
 <a href="vim_faq.html#faq-30.7">faq-30.7</a>   How do I view Unix man pages from inside Vim?
 <a href="vim_faq.html#faq-30.8">faq-30.8</a>   How do I change the diff command used by the Vim diff support?
 <a href="vim_faq.html#faq-30.9">faq-30.9</a>   How do I use the Vim diff mode without folding?
                                                                <b class="vimtag"> <a name="faq-gui-vim">faq-gui-vim</a> </b>
<code class="section">SECTION 31 - GUI VIM </code>
 <a href="vim_faq.html#faq-31.1">faq-31.1</a>   How do I create buffer specific menus?
 <a href="vim_faq.html#faq-31.2">faq-31.2</a>   How do I change the font used by GUI Vim?
 <a href="vim_faq.html#faq-31.3">faq-31.3</a>   When starting GUI Vim, how do I specify the location of the GVIM
          window?
 <a href="vim_faq.html#faq-31.4">faq-31.4</a>   How do I add a horizontal scrollbar in GVim?
 <a href="vim_faq.html#faq-31.5">faq-31.5</a>   How do I make the scrollbar appear in the left side by default?
 <a href="vim_faq.html#faq-31.6">faq-31.6</a>   How do I remove the Vim menubar?
 <a href="vim_faq.html#faq-31.7">faq-31.7</a>   I am using GUI Vim. When I press the <code class="special">&lt;Alt&gt;</code> key and a letter, the
          menu starting with that letter is selected. I don't want this
          behavior as I want to map the <code class="special">&lt;Alt&gt;</code>-<code class="special">&lt;key&gt;</code> combination. How do I do
          this?
 <a href="vim_faq.html#faq-31.8">faq-31.8</a>   Is it possible to scroll the text by dragging the scrollbar so
          that the cursor stays in the original location?
 <a href="vim_faq.html#faq-31.9">faq-31.9</a>   How do I get gvim to start browsing files in a particular
          directory when using the  <code class="badlink">:browse</code>  command?
 <a href="vim_faq.html#faq-31.10">faq-31.10</a>  For some questions, like when a file is changed outside of Vim,
          Vim displays a GUI dialog box. How do I replace this GUI dialog
          box with a console dialog box?
 <a href="vim_faq.html#faq-31.11">faq-31.11</a>  I am trying to use GUI Vim as the editor for my xxx application.
          When the xxx application launches GUI Vim to edit a file, the
          control immediately returns to the xxx application. How do I
          start GUI Vim, so that the control returns to the xxx
          application only after I quit Vim?
 <a href="vim_faq.html#faq-31.12">faq-31.12</a>  Why does the "Select Font" dialog doesn't show all the fonts
          installed in my system?
 <a href="vim_faq.html#faq-31.13">faq-31.13</a>  How do I use the mouse in Vim command-line mode?
 <a href="vim_faq.html#faq-31.14">faq-31.14</a>  When I use the middle mouse button to scroll text, it pastes the
          last copied text. How do I disable this behavior?
 <a href="vim_faq.html#faq-31.15">faq-31.15</a>  How do I change the location and size of a GUI Vim window?
 <a href="vim_faq.html#faq-31.16">faq-31.16</a>  When splitting the Vim window vertically, Vim changes
          the position.
                                                        <b class="vimtag"> <a name="faq-vim-on-unix">faq-vim-on-unix</a> </b>
<code class="section">SECTION 32 - VIM ON UNIX </code>
 <a href="vim_faq.html#faq-32.1">faq-32.1</a>   I am running Vim in a xterm. When I press the <code class="keystroke">CTRL-S</code> key, Vim
          freezes. What should I do now?
 <a href="vim_faq.html#faq-32.2">faq-32.2</a>   I am seeing weird screen update problems in Vim. What can I do to
          solve this screen/display update problems?
 <a href="vim_faq.html#faq-32.3">faq-32.3</a>   I am using the terminal/console version of Vim. In insertmode,
          When I press the backspace key, the character before the cursor
          is not erased. How do I configure Vim to do this?
 <a href="vim_faq.html#faq-32.4">faq-32.4</a>   I am using Vim in a xterm. When I quit Vim, the screen contents
          are restored back to the original contents. How do I disable
          this?
 <a href="vim_faq.html#faq-32.5">faq-32.5</a>   When I start Vim, it takes quite a few seconds to start. How do I
          minimize the startup time?
 <a href="vim_faq.html#faq-32.6">faq-32.6</a>   How can I make the cursor in gvim in unix stop blinking?
 <a href="vim_faq.html#faq-32.7">faq-32.7</a>   How do I change the menu font on GTK Vim?
 <a href="vim_faq.html#faq-32.8">faq-32.8</a>   How do I prevent <code class="keystroke">CTRL-Z</code> from suspending Vim?
 <a href="vim_faq.html#faq-32.9">faq-32.9</a>   When I kill the xterm running Vim, the Vim process continues to
          run and takes up a lot of CPU (99%) time. Why is this happening?
 <a href="vim_faq.html#faq-32.10">faq-32.10</a>  How do I get the Vim syntax highlighting to work in a Unix
          terminal?
                                                <b class="vimtag"> <a name="faq-vim-on-ms-windows">faq-vim-on-ms-windows</a> </b>
<code class="section">SECTION 33 - VIM ON MS-WINDOWS </code>
 <a href="vim_faq.html#faq-33.1">faq-33.1</a>   In MS-Windows, <code class="keystroke">CTRL-V</code> doesn't start the blockwise visual mode.
          What happened?
 <a href="vim_faq.html#faq-33.2">faq-33.2</a>   When I press the <code class="keystroke">CTRL-Y</code> key, it acts like the <code class="keystroke">CTRL-R</code> key. How do
          I configure Vim to treat <code class="keystroke">CTRL-Y</code> as <code class="keystroke">CTRL-Y</code>?
 <a href="vim_faq.html#faq-33.3">faq-33.3</a>   How do I start GUI Vim in a maximized window always?
 <a href="vim_faq.html#faq-33.4">faq-33.4</a>   After doing some editing operations, Vim freezes. The cursor
          becomes an empty rectangle. I am not able enter any characters.
          What is happening?
 <a href="vim_faq.html#faq-33.5">faq-33.5</a>   I am using Windows XP, the display speed of maximized GVim is
          very slow. What can I do to speed the display updates?
 <a href="vim_faq.html#faq-33.6">faq-33.6</a>   What are the recommended settings for using Vim with cygwin?
 <a href="vim_faq.html#faq-33.7">faq-33.7</a>   I am trying to use GNU diff with Vim diff mode. When I run the
          diff from command line, it works. When I try to use the diff with
          Vim it doesn't work. What should I do now?
 <a href="vim_faq.html#faq-33.8">faq-33.8</a>   Is it possible to use Vim as an external editor for MS-Windows
          Outlook email client?
 <a href="vim_faq.html#faq-33.9">faq-33.9</a>   I am using Vim to edit HTML files. How do I start internet
          explorer with the current file to preview the HTML file?
 <a href="vim_faq.html#faq-33.10">faq-33.10</a>  I would like to use Vim with Microsoft Visual Studio. How do I
          do this?
 <a href="vim_faq.html#faq-33.11">faq-33.11</a>  Where do I place the _vimrc and _gvimrc files?
 <a href="vim_faq.html#faq-33.12">faq-33.12</a>  Every time I save a file, Vim warns about the file being changed
          outside of Vim. Why?
                                                                <b class="vimtag"> <a name="faq-printing">faq-printing</a> </b>
<code class="section">SECTION 34 - PRINTING </code>
 <a href="vim_faq.html#faq-34.1">faq-34.1</a>   How do I print a file along with line numbers for all the lines?
 <a href="vim_faq.html#faq-34.2">faq-34.2</a>   How do I print a file with the Vim syntax highlighting colors?
                                                <b class="vimtag"> <a name="faq-building-vim-from-source">faq-building-vim-from-source</a> </b>
<code class="section">SECTION 35 - BUILDING VIM FROM SOURCE </code>
 <a href="vim_faq.html#faq-35.1">faq-35.1</a>   How do I build Vim from the sources on a Unix system?
 <a href="vim_faq.html#faq-35.2">faq-35.2</a>   How do I install Vim in my home directory or a directory other
          than the default installation directory in Unix?
 <a href="vim_faq.html#faq-35.3">faq-35.3</a>   How do I build Vim from the sources on a MS-Windows system?
 <a href="vim_faq.html#faq-35.4">faq-35.4</a>   The Vim help, syntax, indent files are missing from my Vim
          installation. How do I install these files?
 <a href="vim_faq.html#faq-35.5">faq-35.5</a>   I have built Vim from the source and installed the Vim package
          using "make install". Do I need to keep the Vim source directory?
 <a href="vim_faq.html#faq-35.6">faq-35.6</a>   How do I determine the Vim features which are enabled at compile
          time?
 <a href="vim_faq.html#faq-35.7">faq-35.7</a>   Can I build Vim without the GUI support?
 <a href="vim_faq.html#faq-35.8">faq-35.8</a>   When building Vim on a Unix system, I am getting "undefined
          reference to term_set_winsize" error. How do I resolve this
          error?
 <a href="vim_faq.html#faq-35.9">faq-35.9</a>   Vim configure keeps complaining about the lack of gtk-config
          while trying to use GTK 2.03. This is correct, since in GTK 2
          they moved to using the generic pkg-config. I can get pkg-config
          to list the various includes and libs for gtk, but for some
          reason the configure script still isn't picking this up.
 <a href="vim_faq.html#faq-35.10">faq-35.10</a>  I did successfully download the sources and compiled Vim on
          Unix. But feature ... still does not work. What is wrong and
          how can I fix it?
                                                                <b class="vimtag"> <a name="faq-various">faq-various</a> </b>
<code class="section">SECTION 36 - VARIOUS </code>
 <a href="vim_faq.html#faq-36.1">faq-36.1</a>   How do I edit binary files with Vim?
 <a href="vim_faq.html#faq-36.2">faq-36.2</a>   How do I disable the visual error flash and the error beep?
 <a href="vim_faq.html#faq-36.3">faq-36.3</a>   How do I display the ascii value of a character displayed in a
          buffer?
 <a href="vim_faq.html#faq-36.4">faq-36.4</a>   Can I use zero as a count for a Vim command?
 <a href="vim_faq.html#faq-36.5">faq-36.5</a>   How do I disable the Vim welcome screen?
 <a href="vim_faq.html#faq-36.6">faq-36.6</a>   How do I avoid the "hit enter to continue" prompt?
 <a href="vim_faq.html#faq-36.7">faq-36.7</a>   How do I invoke Vim from command line to run a group of commands
          on a group of files?
 <a href="vim_faq.html#faq-36.8">faq-36.8</a>   How do I use a normal mode command from insert mode without
          leaving the insert mode?
 <a href="vim_faq.html#faq-36.9">faq-36.9</a>   How do I start Vim in insert mode?
 <a href="vim_faq.html#faq-36.10">faq-36.10</a>  How do I use Copy and Paste with Vim?
 <a href="vim_faq.html#faq-36.11">faq-36.11</a>  Why shouldn't I modify the files in the system runtime
          directory?
                                                                <b class="vimtag"> <a name="faq-unicode">faq-unicode</a> </b>
<code class="section">SECTION 37 - UNICODE </code>
 <a href="vim_faq.html#faq-37.1">faq-37.1</a>   Is it possible to create Unicode files using Vim?
 <a href="vim_faq.html#faq-37.2">faq-37.2</a>   Which Vim settings are particularly important for editing Unicode
          files?
 <a href="vim_faq.html#faq-37.3">faq-37.3</a>   What is the <code class="badlink">'encoding'</code> option?
 <a href="vim_faq.html#faq-37.4">faq-37.4</a>   How does Vim name the various Unicode encodings?
 <a href="vim_faq.html#faq-37.5">faq-37.5</a>   How does Vim specify the presence or absence of a byte-order
          mark?
 <a href="vim_faq.html#faq-37.6">faq-37.6</a>   What is the <code class="badlink">'fileencoding'</code> option?
 <a href="vim_faq.html#faq-37.7">faq-37.7</a>   What is the <code class="badlink">'fileencodings'</code> option?
 <a href="vim_faq.html#faq-37.8">faq-37.8</a>   What is the <code class="badlink">'termencoding'</code> option?
 <a href="vim_faq.html#faq-37.9">faq-37.9</a>   What is the <code class="badlink">'bomb'</code> option?
 <a href="vim_faq.html#faq-37.10">faq-37.10</a>  Where can I find an example of a typical use of all these
          options?
 <a href="vim_faq.html#faq-37.11">faq-37.11</a>  How can I insert Unicode characters into a file using Vim?
 <a href="vim_faq.html#faq-37.12">faq-37.12</a>  How can I know which digraphs are defined and for which
          characters?

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-1">faq-1</a> </b></h4><code class="section">第一节 - 通用信息 </code>

                                                                <b class="vimtag"> <a name="faq-1.1">faq-1.1</a> </b>
1.1. 什么是 Vim？

Vim 的意思是 Vi IMproved (Vi 改进版)。以前它是 Vi IMitation (Vi 模仿版) 的缩
写，但是由于做了许多改进，改一下名字还是合适的。Vim 文本编辑器包含了 unix "Vi"
编辑器的几乎所有的命令并且还加入了许多新的命令。所有的命令都可以通过键盘来输
入。这样的优点在于: 你可以通过把手放在键盘上，把眼睛放在屏幕上，集中精力在编辑
的任务上。如果你需要，Vim 提供对鼠标的支持，并且还有带有滚动条和菜单的图形界面
版本。

Vim 是编辑器，不是文字处理器。文字处理器主要用于文本的排版，意思是定位文本，改
变输出显示的方式。常常，最终文档用于打印或排字或其它方式，以让他人愉悦的方式展
现出来。文字处理器的例子有 Microsoft Word、FrameMaker 和 OpenOffice Writer。

编辑器简单来说就是用来输入文本。文档的排字或排版是次要考虑。通过使用编辑器，人
们花大部分精力输入文本，不是让文本好看。编辑器的例子除了 Vim 和 Vi 以外，还有
Emacs、TextMate、Ultraedit 和 gedit。还有 Notepad。

更多详情请阅读:

     <code class="badlink">intro</code> 

                                                                <b class="vimtag"> <a name="faq-1.2">faq-1.2</a> </b>
1.2. 谁编写了 Vim？

Vim 大部分是基于 Stvie 的工作并由 Bram Moolenaar 编写，还有来自多不胜数的人士
的贡献。

更多详情请阅读:

     <code class="badlink">author</code> 
     <code class="badlink">credits</code> 

                                                                <b class="vimtag"> <a name="faq-1.3">faq-1.3</a> </b>
1.3. Vim 是否和 Vi 兼容？

是的。Vim 和 Vi 非常兼容。"-C" 命令行标志位可用来以 Vi 兼容方式启动 Vim: 
<code class="example"></code>
<code class="example">    $ vim -C</code>

也可以用: 
<code class="example"></code>
<code class="example">    $ vim -u NONE</code>

也可以置位 <code class="badlink">'compatible'</code> 选项来打开 Vi 兼容模式: 
<code class="example"></code>
<code class="example">    :set compatible</code>

如果你要确信以和原始的 Vi 不兼容 (<code class="badlink">'nocompatible'</code>) 模式启动 Vim，可提供 -N 命令
行参数: 
<code class="example"></code>
<code class="example">    $ vim -N</code>

更多详情请阅读:

     <code class="badlink">-C</code> 
     <code class="badlink">-N</code> 
     <code class="badlink">'compatible'</code> 
     <code class="badlink">compatible-default</code> 

                                                                <b class="vimtag"> <a name="faq-1.4">faq-1.4</a> </b>
1.4. Vim 在 Vi 之上有什么改进？

下面给出 Vim 在 Vi 之上改进的一个简短总结。此列表显示了 Vi 是完全现代和功能丰
富的编辑器。它实现了现代编辑器的标准功能，对广泛的超级用户功能和面向程序员的功
能也有同样的重视。

<code class="section">现代化 Vi 的功能: </code>

<code class="section">  多层撤销 </code>

     可以设置文件缓冲区里改动的撤销次数。撤销的改动可以重做。
     另外，从 7.3 版本开始，Vim 可以永久保存撤销信息，这样可以撤销之前编辑会话
     中的改动。

<code class="section">  标签页、多重窗口和缓冲区 </code>

     每个文件可以在自己的窗口中显示。可以方便地在窗口间移动。Vim 会话中打开的
     每个文件也会有相关联的缓冲区，可以方便地在缓冲区间跳转。和任何现代 GUI 一
     样，Vim 支持在标签页中打开多个文件。可以为标签页、缓冲区、窗口和参数列表
     进行批处理。

<code class="section">  灵活的插入模式 </code>

     Vim 可以在插入模式中使用光标键在文件中到处移动。不再需要按 <code class="special">&lt;Esc&gt;</code>，到处移
     动，再按 'i' 或 'a' 了。

<code class="section">  宏 </code>

     Vim 有一个记录键入字符序列，并任意多次重复此序列的机制。

<code class="section">  可视模式 </code>

     可以高亮一段文本并只在此段文本上执行操作。

<code class="section">  列块操作符 </code>

     可以选择和高亮文本的矩形列块，用于在其上执行特定的操作。

<code class="section">  在线帮助系统 </code>

     可以方便地寻找 Vim 使用的方方面面的帮助。帮助在自身的窗口上显示。

<code class="section">  命令行编辑和历史 </code>

     通过历史，可用光标键来重复或搜索曾经键入过的命令。可用一个命令的开始部分
     来匹配历史缓冲区中另一个相似命令的开始部分。还可以通过编辑命令来改正打字
     错误或修正若干值。

<code class="section">  命令行补全。</code>

     使用 <code class="special">&lt;Tab&gt;</code> 键可以按照需要补全命令、选项、文件名等等。

<code class="section">  水平滚动。</code>

     长行可以横向滚动 (无论有无 GUI)。

<code class="section">  Unicode 和国际化的改进。</code>

     Vim 可以编辑 unicode 编码的文件且内部使用 utf-8 编码。另外，Vim 可以显示
     从右到左的文本。

<code class="section">高级用户功能: </code>

<code class="section">  文本排版</code>

     使用两个键击，可以对大段文本进行排版而不需使用外部程序。

<code class="section">  插入模式补全</code>

     Vim 提供若干补全文本的不同可能性。例如在键入时，Vim 可以通过用当前单词来
     匹配文件中的类似单词来补全单词。

<code class="section">  标签跳转</code>

     就像互联网浏览器那样，可以跳回到编辑过文本的之前部分，然后跳回来。你的大
     脑可以解放出来专心编辑而非浏览。

<code class="section">  自动命令</code>

     读写文件、跳转到其它缓冲区等等场合下自动执行命令。

<code class="section">  Viminfo </code>

     可以在特定文件中保存命令行历史、位置标记和寄存器，以便启动时读入。你因而
     可以在新的 Vim 会话中回放旧的搜索模式、宏等等。

<code class="section">  鼠标支持</code>

     xterm 和 MS-DOS 中支持鼠标。可用于定位光标、选择可视区域、粘贴寄存器等
     等。

<code class="section">  图形用户界面 (GUI) </code>

     有若干不同的图形用户界面可用。另外，加入自选的菜单很方便。当然，控制台
     vim 还是得到支持且非常广泛地使用着。

<code class="section">  脚本语言</code>

     Vim 有强大的脚本语言来创建新命令。也可用 Perl、Python、TCL、Lua 和 Ruby
     来做同样的事！

<code class="section">  插件</code>

     通过启动时自动载入的 vim 命令 (常规命令或脚本语言) 实现的附加功能。例如:
     文件探索器、网络编辑、增强的自动补全、语法检查。更多插件在不停地开发中和
     通过 VimOnline 共享。

<code class="section">  众多编程语言的语法高亮</code>

     支持数以百计的编程语言语法高亮 (包括隐藏项目)。还可以加入其它语言的支持。

<code class="section">  扩展的正规表达式</code>

     Vim 支持扩展的正规表达式，和 Perl 正规表达式的扩展提供的功能类似。

<code class="section">  集成拼写检查</code>

     拼写检查已和 Vim 集成。

<code class="section">  比较模式</code>

     Vim 可以高亮两个、三个或四个文件的差异。相同的行可以被折叠并隐藏。

<code class="section">  使用 blowfish 算法加密</code>

     可以使用对称块加密算法 blowfish 加密文件和交换文件。

<code class="section">  充分可定制</code>

     Vim 可以通过设置选项来调整和定制，以达到你理想的工作环境。可以定义自己的
     命令、宏，甚至还有插件来延伸其能力

<code class="section">  软件包</code>

     加入软件包使日益增长的插件的安装可以有效管理。这是获取一或多个插件的方便
     途径，把它们放在一个目录上并保持更新。Vim 就会自动载入，也可以按照个人喜
     好来载入。

<code class="section">编程性能功能: </code>

<code class="section">  编辑-编译-编辑 加速</code>

     可以在 Vim 内编译并自动跳转到源码中的错误位置。

<code class="section">  为众多程序语言提供缩进</code>

     C、C++、Java、Perl、XML 和许多其它的语言在输入时 Vim 可以自动缩进。还可以
     加入其它语言的支持。 

<code class="section">  在头文件中查找单词</code>

     可在当前文件和头文件中查找光标所在的单词的匹配。

<code class="section">  高级文本对象</code>

     即时应用选择、删除、复制、缩进、排版、改变大小写等等操作于 ( 和 )、{ 和
     }、&lt; 和 &gt;、[ 和 ] 之间的文本、或单词、或句子、或段落。功能很强大。

<code class="section">  折叠</code>

     文本的特定部分可以被 "折叠" 掉。最好的例子是函数的函数体部分。可以先看代
     码的总览，然后在要关心的函数上打开折叠以细读其实现。

<code class="section">  ctags 和 cscope 集成</code>

     使用这两个强大的程序，可以从函数的调用跳转到函数的定义，并使用其它技巧来
     浏览源码。

<code class="section">  和若干程序语言的集成</code>

     如果你觉得内部脚本语言不够强大，可以用 Lua、Ruby、Tcl、Perl 和 Python 2
     和 3 来扩展 Vim。

<code class="section">  异步 I/O 支持</code>

     Vim 使用作业和通道和其它的程序异步对话。这样可以让编译器在后台运行，一但
     完成，打开快速修复列表以修正<code class="note">警告</code>和错误。

<code class="section">  定时器</code>

     定时器是异步的，可单次或重复触发，以调用函数来完成任意操作。

<code class="section">更多详情请阅读: </code>

     <code class="badlink">vi-differences</code> 

                                                                <b class="vimtag"> <a name="faq-1.5">faq-1.5</a> </b>
1.5. Vim 是免费的吗？

Vim 是慈善软件。使用或复制 Vim 没有限制，但作者鼓励你给慈善事业捐献。发布中有
关于如何捐款的文档。

更多详情请阅读:

     <code class="badlink">copyright</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-2">faq-2</a> </b></h4><code class="section">第二节 - 资源</code>

                                                                <b class="vimtag"> <a name="faq-2.1">faq-2.1</a> </b>
2.1. 我去哪里可以学到更多关于 Vim 的知识？

你可以在 vim@vim.org 邮件列表发帖问 Vim 相关的问题。可以在 vim-dev@vim.org 邮
件列表发帖问关于 Vim 开发相关的问题。Vim 没有自己的新闻组，最合适发帖的新闻组
是 comp.editors。

"VimOnline" 网站是 vim 事实上的主页，不过其主要用途是收集来自各处的小窍门和脚
本。参与进来吧！URL 是 <a href="https://www.vim.org">https://www.vim.org</a>

还可以阅读 Vi 的常见问题解答:

    <a href="http://www.faqs.org/faqs/editor-faq/vi/part1/index.html">http://www.faqs.org/faqs/editor-faq/vi/part1/index.html</a>

最后，还有若干社团，可以讨论功能或问问题:

    <a href="https://vi.stackexchange.com">https://vi.stackexchange.com</a>
    <a href="https://vim.reddit.com">https://vim.reddit.com</a>

更多详情请阅读:

     <code class="badlink">mail-list</code> 
     <code class="badlink">internet</code> 

                                                                <b class="vimtag"> <a name="faq-2.2">faq-2.2</a> </b>
2.2. 有没有可用的邮件列表？

有好几个:

<code class="section">    名字              描述 </code>
<code class="section">    ----------------  --------------------------------------------- </code>
    vim-announce      新发布通告
    vim               通用讨论
    vim-dev           补丁、漏洞报告、开发讨论
    vim-mac           Macintosh 讨论
    vim-fr            法语的通用讨论

这里，一般人只有对 vim 和 vim-dev 感兴趣。vim-announce 对多数人是只读的，相关
消息也会发送到其它列表。其余四个流量都很小。

<code class="section">    动 作             邮 件 发 送 到 </code>
<code class="section">    ----------------  -------------------------- </code>
    要订阅:           <code class="special">&lt;NAME&gt;</code>-subscribe@vim.org
    要退阅:           <code class="special">&lt;NAME&gt;</code>-unsubscribe@vim.org
    要获得帮助:       <code class="special">&lt;NAME&gt;</code>-help@vim.org

这里也提到可用的邮件列表:

    <a href="https://www.vim.org/maillist.php">https://www.vim.org/maillist.php</a>

                                                                <b class="vimtag"> <a name="faq-2.3">faq-2.3</a> </b>
2.3. Vim 邮件列表有没有可用的归档？

有。访问 <a href="https://groups.yahoo.com/">https://groups.yahoo.com/</a>，其中组名是下列之一: vimannounce、vim、
vimdev、vim-fr、vim-mac、vim-vms。

或者，访问 www.gmane.org 了解一下 GNANE，可以像新闻组一样访问邮件列表。为浏览
历史或偶尔察看当前信息链提供了一些便利。

                                                                <b class="vimtag"> <a name="faq-2.4">faq-2.4</a> </b>
2.4. 哪里可以找到 HTML/PDF/PS 格式的 Vim 用户手册？

可以在这里下载 HTML/PDF/PS 格式的 Vim 用户手册:

    <a href="https://vimdoc.sourceforge.net/">https://vimdoc.sourceforge.net/</a>

<code class="note">备注</code>，此页的用户手册目前相当过时。最好使用 vim 自带的文档或使用在线版本
<a href="https://vimhelp.appspot.com">https://vimhelp.appspot.com</a>

可以在这里找到完整英语帮助的 pdf 版本，包含本常见问题解答 (有 letter、A4 和
Ipad 格式):

    <a href="https://nathangrigg.com/vimhelp/">https://nathangrigg.com/vimhelp/</a>

此文本有交叉引用，所以可用超链功能。

                                                                <b class="vimtag"> <a name="faq-2.5">faq-2.5</a> </b>
2.5. 我有 Vim 上的 "xyz" (一些) 问题。如何判别是我个人设置的问题还是
          Vim 的问题？/ 我是发现了 Vim 的漏洞吗？

首先你要确定错误来自实际运行文件、随 Vim 发布的插件，或仅仅是你自己的 .vimrc
或 .gvimrc 配置选项产生的副作用。所以首先，请这样启动 vim: 
<code class="example"></code>
<code class="example">    vim -u NONE -U NONE -N -i NONE</code>

这会以非兼容方式 (-N)、跳过自己的 viminfo 文件 (-i NONE)、跳过任何配置文件 (-u
NONE 不读 .vimrc 文件，而 -U NONE 不读 .gvimrc 文件) 或插件来启动 Vim。

用此种调用方式来试图重现你的问题。如果错误还在，很有可能你确实发现了 Vim 的漏
洞 (另见问题 2.6.  <a href="vim_faq.html#faq-2.6">faq-2.6</a> )

如果此种方式启动 Vim 后错误不再出现，问题或者和某些你的插件有关，或者和你本地
设置文件某些设置有关。需要找到是什么触发的错误，可以尝试这样启动 Vim: 
<code class="example"></code>
<code class="example">    vim -u NONE -U NONE -N</code>

如果问题持续，问题就在 .viminfo 文件。简单删除 viminfo 文件就可以了。如果问题
不再发生，试试: 
<code class="example"></code>
<code class="example">    vim -u ~/.vimrc --noplugin -N -i NONE</code>

这会简单地使用你的 .vimrc 作为配置文件，但不载入插件。如果问题这次出现了，错误
可能来自你的 .vimrc 文件的某些配置选项。取决于你 vimrc 文件的长度，发现文件中
问题的源头未必容易。

最好的方式是在 .vimrc 半中间加入  <code class="badlink">:finish</code>  命令。用同样的命令行重启。如果错误
还是发生了，问题应是 .vimrc 前半部的某个设定。如是不是，问题设置必在 .vimrc 后
半部。所以移动  <code class="badlink">:finish</code>  命令是已知触发问题那半部的中间位置，如此重复，直到你
找到问题选项为止。如果 .vimrc 有 350 行长，最多需要 9 次尝试就可以找到出问题的
行 (实际上，常常会少很多，因为行与行往往互相依赖)。

如果只载入 .vimrc 文件时问题不再出现，错误必来自某插件或另一个运行文件 (缩进自
动命令或语法脚本)。检查  <code class="badlink">:scriptnames</code>  命令的输出，查看载入了什么文件，然后一
个一个关闭看看哪个会触发此漏洞。Vim 载入的文件常常有简单的配置变量可关闭之，但
需要你一个个分别查看文件内部以找到这些变量。

也可用 -V 命令行参数来取得更多调试信息来分析问题: 
<code class="example"></code>
<code class="example">    $ vim -V2logfile</code>

可以增加传递给 -V 参数的值以得到更多调试信息。同时提供 logfile 文件名以确保调
试信息不出现在屏幕上，不干扰你试图重现问题的努力。


更多详情请阅读:

     <code class="badlink">-u</code> 
     <code class="badlink">-U</code> 
     <code class="badlink">-N</code> 
     <code class="badlink">-V</code> 
     <code class="badlink">'verbose'</code> 
     <code class="badlink">:verbose</code> 
     <code class="badlink">:set-verbose</code> 

                                                                <b class="vimtag"> <a name="faq-2.6">faq-2.6</a> </b>
2.6. 我去哪里汇报漏洞？

首先用下面的命令收集所需的信息: 
<code class="example"></code>
<code class="example">    :source $VIMRUNTIME/bugreport.vim</code>

现在把上述命令的结果文本发送给 bugs@vim.org e-mail 地址。还有一个公共漏洞跟踪
器: <a href="https://github.com/vim/vim/issues">https://github.com/vim/vim/issues</a>. 那里每个消息会转发给 Vim 开发列表。

Vim 开发邮件列表 (见问题 2.2  <a href="vim_faq.html#faq-2.2">faq-2.2</a> ) 是个讨论一般漏洞的好去处。如果你发现的
漏洞和语法高亮、运行时文件、或其它一些 "附加特性"  (也就是，不直接编进 vim 程
序的) 有关，试试通知该特性的维护者。相应的运行时文件的顶部会提及他们的 e-mail
地址。

更多详情请阅读:

     <code class="badlink">bug-reports</code> 

                                                                <b class="vimtag"> <a name="faq-2.7">faq-2.7</a> </b>
2.7. 哪里能找到本 FAQ？

本 FAQ 可在这里找到 <a href="https://vimhelp.appspot.com/vim_faq.txt.html">https://vimhelp.appspot.com/vim_faq.txt.html</a>。它从
<a href="https://www.github.com/chrisbra/vim_faq">https://www.github.com/chrisbra/vim_faq</a> github 库管理的源码自动生成 (欢迎补
丁)。

此库也包含 faq 的多种格式，如 manpage、pdf 文件、html 文件、平凡文本和 vim 帮
助格式的版本。

VimOnline (<a href="https://www.vim.org/">https://www.vim.org/</a>) 还可以找到一个稍老的版本 (看来不再有更新)。

                                                                <b class="vimtag"> <a name="faq-2.8">faq-2.8</a> </b>
2.8. 在本 FAQ 找不到答案怎么办？

本 FAQ 主要覆盖 Vim 特定的问题。阅读 Vi FAQ 可以找到和大多数 Vi 克隆相关的更多
信息。在 comp.editors 上常有帖子。也可以在这里找到备份

    <a href="http://www.faqs.org/faqs/editor-faq/vi/part1/index.html">http://www.faqs.org/faqs/editor-faq/vi/part1/index.html</a>

另外，既然 Vim 在过去几年收集如此众多的功能，要在这里成功地记录常见的问题是几
乎不可能的任务。要使之可能，如果你有好问题的话，请邮寄维护者。好问题是那些你试
图自己回答 (记住，Vim 有很好的文档) 但有困难的。

                                                                <b class="vimtag"> <a name="faq-2.9">faq-2.9</a> </b>
2.9. 我有实现 Vim 某功能的补丁。如何发送补丁？

可以把您的补丁发送到 Vim 开发者邮件列表 vim-dev@vim.org。

更多详情请阅读:

     <code class="badlink">vim-dev</code> 

                                                                <b class="vimtag"> <a name="faq-2.10">faq-2.10</a> </b>
2.10. 我有 Vim 的小窍门或开发了新的 Vim 语法/缩进/文件类型/编译器插件或开发了
      新脚本或色彩方案。有没有公共网站可以上传这些？

是的。可以在 Vim Online 网站上传你的插件/脚本，色彩方案等等。站址在
<a href="https://www.vim.org">https://www.vim.org</a>
现时人们也在 github 上分享他们的插件/运行时文件。

也可在 Wiki 上分享小窍门，地址在

    <a href="http://vim.wikia.com">http://vim.wikia.com</a>

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-3">faq-3</a> </b></h4><code class="section">第三节 - 如何获取 </code>

                                                                <b class="vimtag"> <a name="faq-3.1">faq-3.1</a> </b>
3.1. Vim 的最新版本是什么？

Vim 的最新版本是 8.2，2019 年 12 月 12 日发布。

Vim 不同版本的发布历史见下:

<code class="section">    版 本           发 布 日 期 </code>
<code class="section">    --------------  -------------------- </code>
    8.2 版本        2019 年 12 月 12 日
    8.1 版本        2018 年  5 月 17 日
    8.0 版本        2016 年  9 月 12 日
    7.4 版本        2013 年  8 月 10 日
    7.3 版本        2010 年  8 月 15 日
    7.2 版本        2008 年  8 月  9 日
    7.1 版本        2007 年  5 月 12 日
    7.0 版本        2006 年  5 月  8 日
    6.4 版本        2005 年 10 月 15 日
    6.3 版本        2004 年  6 月  8 日
    6.2 版本        2003 年  6 月  1 日
    6.1 版本        2002 年  3 月 24 日
    6.0 版本        2001 年  9 月 27 日
    5.8 版本        2001 年  5 月 31 日
    5.7 版本        2000 年  6 月 24 日
    5.6 版本        2000 年  1 月 16 日
    5.5 版本        1999 年  9 月 21 日
    5.4 版本        1999 年  7 月 26 日
    5.3 版本        1998 年  8 月 31 日
    5.2 版本        1998 年  8 月 24 日
    5.1 版本        1998 年  4 月  7 日
    5.0 版本        1998 年  2 月 19 日
    4.6 版本        1997 年  3 月 13 日
    4.5 版本        1996 年 10 月 17 日
    4.2 版本        1996 年  7 月  5 日
    4.0 版本        1996 年  5 月 29 日
    3.0 版本        1994 年  8 月 12 日
    2.0 版本        1993 年 12 月 21 日
    1.27 版本       1993 年  4 月 23 日
    1.17 版本       1992 年  4 月 21 日
    1.14 版本       1991 年 11 月  2 日

如果你对旧发布历史感兴趣，请查看 vim-history git 库:
<a href="https://github.com/vim/vim-history">https://github.com/vim/vim-history</a>
特别是发布历史:
<a href="https://github.com/vim/vim-history#release-history">https://github.com/vim/vim-history#release-history</a>

更多详情请阅读:

     <code class="badlink">new-8</code> 
     <code class="badlink">new-7</code> 
     <code class="badlink">new-6</code> 
     <code class="badlink">new-5</code> 
     <code class="badlink">chnaged-8.2</code> 
     <code class="badlink">changed-8.1</code> 
     <code class="badlink">changed-7.4</code> 
     <code class="badlink">changed-7.3</code> 
     <code class="badlink">changed-7.2</code> 
     <code class="badlink">changed-7.1</code> 

                                                                <b class="vimtag"> <a name="faq-3.2">faq-3.2</a> </b>
3.2. 哪里可以找到最新的 Vim 版本？

可以从 Github 库中下载 Vim 最新版的源码。该站的 URL 是

    <a href="https://github.com/vim/vim">https://github.com/vim/vim</a>

也有 mercurial 镜像:

    <a href="https://bitbucket.org/vim-mirror/vim">https://bitbucket.org/vim-mirror/vim</a>
    <a href="http://hg.256bit.org/vim/">http://hg.256bit.org/vim/</a>
    <a href="https://hg.osdn.net/view/vim/vim">https://hg.osdn.net/view/vim/vim</a>

有些用户维护用于发布最新 Vim 执行程序的更新库。可以从此找到这些库:

    <a href="http://vim.wikia.com/wiki/Where_to_download_Vim">http://vim.wikia.com/wiki/Where_to_download_Vim</a>

                                                                <b class="vimtag"> <a name="faq-3.3">faq-3.3</a> </b>
3.3. 它在什么平台上运行？

所有的 Unix 平台。
所有的 Windows 平台 (XP 和之后)。
Amiga、Atari、BeOS、Macintosh、MachTen、OS/2、RiscOS、VMS、IBM z/OS。

最新发布的 Vim 已经删除了 MS-DOS 的支持。
16-位 DOS: 最后的支持版本是 7.1
32-位 DOS: 最后的支持版本是 7.3

                                                                <b class="vimtag"> <a name="faq-3.4">faq-3.4</a> </b>
3.4. 哪里可以下载最新版本的 Vim 的运行时文件？

可以从 Vim github 库下载最新版本的 Vim 运行时文件 (语法文件、文件类型插件、编
译器文件、色彩方案、文档、缩进文件和键盘映射)

    <a href="https://github.com/vim/vim/tree/master/runtime">https://github.com/vim/vim/tree/master/runtime</a>

另一个下载运行时文件的方法是: 
<code class="example"></code>
<code class="example">    wget https://github.com/vim/vim/archive/master.tar.gz -O- |</code>
<code class="example">    tar zfx - vim-master/runtime/ --strip-components=1</code>

另见:

    <a href="https://www.vim.org/runtime.php">https://www.vim.org/runtime.php</a>

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-4">faq-4</a> </b></h4><code class="section">第四节 - 帮助</code>

                                                                <b class="vimtag"> <a name="faq-4.1">faq-4.1</a> </b>
4.1. 如何使用帮助文件？

Vim 所有的功能都能找到帮助。要得到帮助，可用  <code class="badlink">:help</code>  命令。这会把你带到主帮助
页面。在该首页上，可以找到如何到处移动的说明。基本上，帮助页相当于在只读文档上
的移动。可以使用标签跳转到指定主题上。有两种方法:

   * 在命令或选项名之上用 <code class="keystroke">CTRL-]</code> 命令。只有标签为关键字时才可以用。
     <code class="special">&lt;Ctrl-LeftMouse&gt;</code> 和 g<code class="special">&lt;LeftMouse&gt;</code> 相当于 <code class="keystroke">CTRL-]</code>。

   * 使用 `:tag <code class="special">&lt;subject&gt;</code>` 命令。可用于所有字符。

<code class="keystroke">CTRL-T</code> 跳回帮助文件中的原来的地方。 <code class="badlink">:q</code>  关闭帮助窗口。

如果你要跳转到帮助页上的特定主题，可用 `:help <code class="special">{subject}</code>`。如果不知道找什么，试
试 `:help index` 来得到所有可用主题的列表。标准的搜索键可用于定位要找的信息。
 <code class="badlink">:help</code>  命令可简化为  <code class="badlink">:h</code> 。

要搜索帮助，见下个问题 4.2。 <a href="vim_faq.html#faq-4.2">faq-4.2</a> 

更多详情请阅读:

     <code class="badlink">online-help</code> 

                                                                <b class="vimtag"> <a name="faq-4.2">faq-4.2</a> </b>
4.2. 如果在 Vim 帮助文件中搜索某关键字？

a)  在输入 help 关键字后按 <code class="keystroke">CTRL-D</code> 键可以得到包含指定模式的所有帮助关键字的列
    表。可用元字符如 *、\+ 等来指定帮助搜索模式: 
<code class="example"></code>
<code class="example">    :help init&lt;C-D&gt;</code>
<code class="example">    :help str*()&lt;C-D&gt;</code>
<code class="example">    :help '*indent&lt;C-D&gt;</code>

b)  在输入部分的帮助关键字后按 <code class="special">&lt;Tab&gt;</code> 键可扩展匹配的关键字。继续按 <code class="special">&lt;Tab&gt;</code> 键可以
    得到其它的关键字匹配。

c)  从帮助窗口，用  <code class="badlink">:tag</code>  命令可以搜索关键字。例如， 
<code class="example"></code>
<code class="example">    :tselect /window</code>

    此命令会列出所有包含文本 "windows" 的帮助关键字。从列表中可以选择一个并跳
    转过去。

d)  可用  <code class="badlink">:helpgrep</code>  命令在所有帮助文件中搜索给定文本。打开快速修复窗口显示所
    有匹配行。

更多详情请阅读:

     <code class="badlink">help-summary</code> 
     <code class="badlink">c_CTRL-D</code> 
     <code class="badlink">c_&lt;Tab&gt;</code> 
     <code class="badlink">:tselect</code> 
     <code class="badlink">:help</code> 
     <code class="badlink">:helpgrep</code> 

                                                                <b class="vimtag"> <a name="faq-4.3">faq-4.3</a> </b>
4.3. 我得到了错误信息 E123，我做错什么了？

可以用下面的帮助链接了解错误的相关情况和错误信息:

     <code class="badlink">E123</code> 

更多详情请阅读:

     <code class="badlink">error-messages</code> 

                                                                <b class="vimtag"> <a name="faq-4.4">faq-4.4</a> </b>
4.4. 在哪里可以了解 Vim 的各种模式？

通过阅读下面的帮助链接可以了解 Vim 中不同模式的信息

     <code class="badlink">vim-modes</code> 

                                                                <b class="vimtag"> <a name="faq-4.5">faq-4.5</a> </b>
4.5. 加入新 Vim 帮助文件后，如何生成 Vim 帮助标签文件呢？

可在 Vim 内部用  <code class="badlink">:helptags</code>  命令来重新生成 Vim 帮助标签文件。例如: 
<code class="example"></code>
<code class="example">    :cd $VIMRUNTIME/doc</code>
<code class="example">    :helptags .</code>

要刷新所有 <code class="badlink">'runtimepath'</code> 下的 "doc" 目录，可用 
<code class="example"></code>
<code class="example">    :helptags ALL</code>
<code class="example"></code>
更多详情请阅读:

     <code class="badlink">:helptags</code> 
     <code class="badlink">add-local-help</code> 

                                                                <b class="vimtag"> <a name="faq-4.6">faq-4.6</a> </b>
4.6. 可以用帮助文件的压缩版本吗？

可以。可以压缩帮助文件，然后在 Vim 中还可以阅读。帮助文件的访问会稍慢一些，也
需要 "gzip" 工具。以下步骤可以压缩并使用 Vim 帮助文件:

- 用 "gzip doc/*.txt" 压缩所有帮助文件。

- 编辑 "doc/tags" 文件，这样来把 ".txt" 改成 ".txt.gz" 
<code class="example">        :%s=\(\t.*\.txt\)\t=\1.gz\t=</code>
<code class="example"></code>
- 在 vimrc 中加入下行: 
<code class="example">        set helpfile={dirname}/help.txt.gz</code>
<code class="example"></code>
其中 <code class="special">{dirname}</code> 是帮助文件所在的目录。Vim 标准发布自带的 gzip.vim 插件会处理文
件的解压。要确保设好 $VIMRUNTIME 以指向那些和经压缩的 "doc" 目录不在相同位置的
其它 Vim 文件。

<code class="note">注意</code>， <code class="badlink">:helpgrep</code>  命令不支持压缩帮助页。

更多详情请阅读:

     <code class="badlink">gzip-helpfile</code> 
     <code class="badlink">'helpfile'</code> 
     <code class="badlink">gzip</code> 
     <code class="badlink">$VIMRUNTIME</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-5">faq-5</a> </b></h4><code class="section">第五节 - 编辑文件</code>

                                                                <b class="vimtag"> <a name="faq-5.1">faq-5.1</a> </b>
5.1. 如何在 Vim 中载入文件用于编辑？

有几种载入文件用于编辑的方法。最简单的方法是用  <code class="badlink">:e</code>  (:edit) 命令: 
<code class="example"></code>
<code class="example">    :e &lt;filename&gt;</code>

也可用  <code class="badlink">:n</code>  (:next) 命令来载入文件到 Vim 里: 
<code class="example"></code>
<code class="example">    :n &lt;filename(s)&gt;</code>

也可用  <code class="badlink">:args</code>  命令来载入文件到 Vim 里: 
<code class="example"></code>
<code class="example">    :args &lt;filename(s)&gt;</code>

更多详情请阅读:

     <code class="badlink">usr_07.txt</code> 
     <code class="badlink">edit-files</code> 
     <code class="badlink">:edit</code> 
     <code class="badlink">:next_f</code> 
     <code class="badlink">:args_f</code> 

                                                                <b class="vimtag"> <a name="faq-5.2">faq-5.2</a> </b>
5.2. 如何把当前文件丰用其它名字保存 (另存为) 并编辑新文件？

 <code class="badlink">:saveas</code>  命令可用其它名字来保存当前文件: 
<code class="example"></code>
<code class="example">    :saveas &lt;newfilename&gt;</code>

此外，也可用以下命令: 
<code class="example"></code>
<code class="example">    :w &lt;newfilename&gt;</code>
<code class="example">    :edit #</code>

也可用  <code class="badlink">:file</code>  命令，后面跟  <code class="badlink">:w</code>  命令: 
<code class="example"></code>
<code class="example">    :file &lt;newfilename&gt;</code>
<code class="example">    :w</code>

更多详情请阅读:

     <code class="badlink">07.7</code> 
     <code class="badlink">:saveas</code> 
     <code class="badlink">:file_f</code> 
     <code class="badlink">:w</code> 

                                                                <b class="vimtag"> <a name="faq-5.3">faq-5.3</a> </b>
5.3. 如何改变当前目录为当前文件的目录？

可以用下列命令来改变当前目录为当前文件的目录: 
<code class="example"></code>
<code class="example">    :cd %:p:h</code>

要自动改变当前目录为当前文件的目录，简单地置位选项 <code class="badlink">'autochdir'</code>。 
<code class="example"></code>
<code class="example">    :set autochdir</code>

更多详情请阅读:

     <code class="badlink">:cd</code> 
     <code class="badlink">:lcd</code> 
     <code class="badlink">filename-modifiers</code> 
     <code class="badlink">autocommand</code> 
     <code class="badlink">'acd'</code> 
     <code class="badlink">getcwd()</code> 

                                                                <b class="vimtag"> <a name="faq-5.4">faq-5.4</a> </b>
5.4. 如何在写入文件时不在文件尾加上换行符 (EOL)？

可以关闭 <code class="badlink">'eol'</code> 选项并打开  <code class="badlink">'binary'</code> 选项来，这样在写入文件时就不会在文件尾加上
EOL: 
<code class="example"></code>
<code class="example">    :set binary</code>
<code class="example">    :set noeol</code>
<code class="example">    :w</code>

此外，可用: 
<code class="example"></code>
<code class="example">    :set noeol</code>
<code class="example">    :w ++bin</code>

如果你宁可 Vim 不写入缺少的 EOL，可以复位 <code class="badlink">'fixeol'</code> 选项。这需要 Vim 版本新过
7.4.785，所以可以这样在 .vimrc 里把它包装在 if 条件句里: 
<code class="example"></code>
<code class="example">    if exists('+fixeol')</code>
<code class="example">        set nofixeol</code>
<code class="example">    endif</code>

这样做还有避免 <code class="badlink">'binary'</code> 选项许多副作用的好处。

更多详情请阅读:

     <code class="badlink">'endofline'</code> 
     <code class="badlink">'fixeol'</code> 
     <code class="badlink">'binary'</code> 
     <code class="badlink">23.4</code> 

                                                                <b class="vimtag"> <a name="faq-5.5">faq-5.5</a> </b>
5.5. 如何配置 Vim 打开文件时回到之前编辑所在的位置？

Vim 在 '"' 寄存器中保存每个缓冲区上次编辑所在的光标位置。可以在 .vimrc 或
.gvimrc 文件中使用以下自动命令，在之前绞架所在的位置上打开文件: 
<code class="example"></code>
<code class="example">    au BufReadPost * if line("'\"") &gt; 0 &amp;&amp; line("'\"") &lt;= line("$") |</code>
<code class="example">                         \ exe "normal! g`\"" | endif</code>

此外，也可以简单地执行随 Vim 发布的 vimrc_example.vim 文件。

更多详情请阅读:

     <code class="badlink">'quote</code> 
     <code class="badlink">last-position-jump</code> 
     <code class="badlink">vimrc_example.vim</code> 

                                                                <b class="vimtag"> <a name="faq-5.6">faq-5.6</a> </b>
5.6. 在 Vim 中编辑文件时，文件被外部应用修改了，每次检测到改变发生时， Vim 都
     会弹出<code class="note">警告</code>窗口 (像确认对话框)。如果屏蔽此<code class="note">警告</code>？

可用 Vim 的 <code class="badlink">'autoread'</code> 选项来在 Vim 之外改动了文件后自动重新读入文件: 
<code class="example"></code>
<code class="example">    :set autoread</code>

也可用以下自动命令: 
<code class="example"></code>
<code class="example">    autocmd FileChangedShell *</code>
<code class="example">          \ echohl WarningMsg |</code>
<code class="example">          \ echo "文件在 vim 之外被修改了。" |</code>
<code class="example">          \ echohl None</code>

更多详情请阅读:

     <code class="badlink">'autoread'</code> 
     <code class="badlink">FileChangedShell</code> 
     <code class="badlink">timestamp</code> 
     <code class="badlink">:checktime</code> 

                                                                <b class="vimtag"> <a name="faq-5.7">faq-5.7</a> </b>
5.7. 如何编辑光标所在的文件名对应的文件？

可用 gf 命令来编辑光标所在的名字对应的文件。
可用 <code class="keystroke">CTRL-W</code> f 命令来在新窗口中编辑文件，
最后可用 <code class="keystroke">CTRL-W</code> gf 来打开新标签页以包含光标所在的文件名。

更多详情请阅读:

     <code class="badlink">gf</code> 
     <code class="badlink">CTRL-W_f</code> 
     <code class="badlink">CTRL-W_gf</code> 
     <code class="badlink">'isfname'</code> 
     <code class="badlink">'path'</code> 
     <code class="badlink">'suffixesadd'</code> 
     <code class="badlink">'includeexpr'</code> 

                                                                <b class="vimtag"> <a name="faq-5.8">faq-5.8</a> </b>
5.8. 如何重载/重新编辑当前文件？

你可以使用不指定文件名的   <code class="badlink">:edit</code>  命令来重载当前文件。如果此文件有修改，可用
 <code class="badlink">:edit!</code>  来强制当前文件的重载 (会丢失你的修改，但取决于你的 <code class="badlink">'undoreload'</code> 设
置，这些修改可能已经在撤销历史中保存)。

更多详情请阅读:

     <code class="badlink">:edit</code> 
     <code class="badlink">:edit!</code> 
     <code class="badlink">'confirm'</code> 
     <code class="badlink">'undoreload'</code> 

                                                                <b class="vimtag"> <a name="faq-5.9">faq-5.9</a> </b>
5.9. 如何周期性地自动保存文件？

Vim 不支持周期性地自动保存文件。

更多详情请阅读:

     <code class="badlink">'updatetime'</code> 
     <code class="badlink">CursorHold</code> 
     <code class="badlink">swap-file</code> 

                                                                <b class="vimtag"> <a name="faq-5.10">faq-5.10</a> </b>
5.10. 如何以只读方式打开文件？

可用  <code class="badlink">:view</code>  命令以只读方式打开文件: 
<code class="example"></code>
<code class="example">    :view &lt;filename&gt;</code>

此命令为打开的缓冲区置位 <code class="badlink">'readonly'</code> 选项。也可用 "-R" 命令行选项来以只读方式打
开文件: 
<code class="example"></code>
<code class="example">    $ vim -R &lt;filename&gt;</code>

也可用符号链接可行程序 "view" 来从命令行以只读方式打开文件: 
<code class="example"></code>
<code class="example">    $ view &lt;filename&gt;</code>

更多详情请阅读:

     <code class="badlink">07.6</code> 
     <code class="badlink">'readonly'</code> 
     <code class="badlink">'modifiable'</code> 
     <code class="badlink">:view</code> 
     <code class="badlink">:sview</code> 
     <code class="badlink">view</code> 
     <code class="badlink">-R</code> 
     <code class="badlink">-M</code> 

                                                                <b class="vimtag"> <a name="faq-5.11">faq-5.11</a> </b>
5.11. 如何打开文件用于编辑而不保存当前文件的修改？

可用以下方法之一来打开文件用于编辑而不保存当前文件的修改也不会丢失改动: 
<code class="example"></code>
<code class="example">    :split &lt;new_filename&gt;</code>
<code class="example">    :new &lt;new_filename&gt;</code>

也可置位 <code class="badlink">'hidden'</code> 选项并编辑新文件: 
<code class="example"></code>
<code class="example">    :set hidden</code>
<code class="example">    :e &lt;new_filename&gt;</code>

如果你要放弃当前文件所作的改动并载入另一个文件用于编辑，可用以下命令: 
<code class="example"></code>
<code class="example">    :e! &lt;new_filename&gt;</code>

更多详情请阅读:

     <code class="badlink">:edit!_f</code> 
     <code class="badlink">'hidden'</code> 
     <code class="badlink">:split</code> 
     <code class="badlink">:new</code> 

                                                                <b class="vimtag"> <a name="faq-5.12">faq-5.12</a> </b>
5.12. 如何减少 Vim 中超大文件的载入时间？

可用以下设置来减少 Vim 中超大文件的载入时间: 
<code class="example"></code>
<code class="example">    :set lazyredraw</code>
<code class="example">    :set noswapfile</code>
<code class="example">    :set undolevels=-1</code>
<code class="example">    :set eventignore=all</code>
<code class="example">    :set nohidden</code>
<code class="example">    :set syntax=off</code>

<code class="note">注意</code> 上述设置会关闭许多 Vim 特性，包含以下这些: 用于从崩溃中恢复的交换文件支
持，撤销支持，语法高亮、文件类型检测和其它基于自动命令的特性。

也有一个 LargeFile 插件，可在这里找到

    <a href="https://www.vim.org/scripts/script.php?script_id=1506">https://www.vim.org/scripts/script.php?script_id=1506</a>

它会自动在处理大文件 (可配置多大算做大文件，缺省是 100MB) 时设置这些选项。

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-6">faq-6</a> </b></h4><code class="section">第六节 - 编辑多个文件</code>

                                                                <b class="vimtag"> <a name="faq-6.1">faq-6.1</a> </b>
6.1. 在 Vim 里如何一次打开多个文件？

先区别一下参数、缓冲区、标签页和窗口。Vim 里这些是不同的概念。

参数是命令行参数的列表。缓冲区是编辑文本的地方，几乎总是和文件捆绑在一起，但也
不一定。窗口是缓冲区放置的地方而标签页是一组窗口，"布局" 可能是更好的名字。

有几个方法可以在 Vim 里一次打开多个文件。可用  <code class="badlink">:next</code>  命令来指定一组文件: 
<code class="example"></code>
<code class="example">    :next f1.txt f2.txt</code>
<code class="example">    :next *.c</code>

可用  <code class="badlink">:args</code>  命令来指定一组文件作为参数: 
<code class="example"></code>
<code class="example">    :args f1.txt f2.txt</code>
<code class="example">    :args *.c</code>

载入文件后，可用  <code class="badlink">:next</code>  和  <code class="badlink">:prev</code>  命令在文件间切换。

要为参数列表中的所有文件执行命令，可用  <code class="badlink">:argdo</code> 

更多详情请阅读:

     <code class="badlink">07.2</code> 
     <code class="badlink">:next</code> 
     <code class="badlink">:args_f</code> 
     <code class="badlink">argument-list</code> 

                                                                <b class="vimtag"> <a name="faq-6.2">faq-6.2</a> </b>
6.2. 在 Vim 里如何在多个文件/缓冲区间切换？

用  <code class="badlink">:ls</code>  列出所有的缓冲区，用  <code class="badlink">:ls!</code>  列出没有相关联文件的缓冲区 (亦: 列表外缓
冲区，如草稿缓冲区和帮助窗口)。

有几种方法可以在多个文件中切换。用  <code class="badlink">:buffer</code>  命令来在多个文件间切换。也可简写
为  <code class="badlink">:b</code>  并只用部分文件名。例如 
<code class="example"></code>
<code class="example">    :buffer file1</code>
<code class="example">    :buffer file2</code>
<code class="example">    :b e2</code>

也可在  <code class="badlink">:b</code>  后用 <code class="special">&lt;TAB&gt;</code> 自动补全。也试试  <code class="badlink">:b</code>  后跟 <code class="keystroke">CTRL-D</code> 也看到所有可用的缓冲
区。这也适用于  <code class="badlink">:e</code> 。

也可用 <code class="keystroke">CTRL-^</code> 键在缓冲区间切换。按此键前如指定计数，可编辑带此号码的缓冲区。如
果没有计数，<code class="keystroke">CTRL-^</code> 可用来编辑轮换缓冲区。

也可用 `:e #` 命令来编辑特定缓冲区: 
<code class="example"></code>
<code class="example">    :e #5</code>

用 `:bd ` 命令来关闭缓冲区。

可用  <code class="badlink">:bufdo</code>  来为缓冲区列表中的所有文件执行命令。

更多详情请阅读:

     <code class="badlink">edit-files</code> 
     <code class="badlink">:buffer</code> 
     <code class="badlink">CTRL-^</code> 
     <code class="badlink">alternate-file</code> 
     <code class="badlink">22.4</code> 
     <code class="badlink">07.3</code> 

                                                                <b class="vimtag"> <a name="faq-6.3">faq-6.3</a> </b>
6.3. 在 Vim 里如何件在单独的窗口/标签页打开多个文件？

可用 -o 和 -O 命令行参数来在水平或垂直分割的 Vim 窗口中分别打开多个文件。例
如: 
<code class="example"></code>
<code class="example">    $ vim -o3 f1.txt f2.txt f3.txt</code>

上述命令会在三个水平分割的 Vim 窗口中分别打开文件 f1.txt、f2.txt 和 f3.txt。 
<code class="example"></code>
<code class="example">    $ vim -O3 f1.txt f2.txt f3.txt</code>

上述命令会在三个垂直分割的 Vim 窗口中分别打开文件 f1.txt、f2.txt 和 f3.txt。 
<code class="example"></code>
<code class="example">    $ vim -p f1.txt f2.txt f3.txt</code>

上述命令会在三个标签页中分别打开文件 f1.txt、f2.txt 和 f3.txt。 <code class="badlink">'tabpagemax'</code>
选项定义一次最多能打开多少个标签页，缺省是 10 个。

更多详情请阅读:

     <code class="badlink">-o</code> 
     <code class="badlink">-O</code> 
     <code class="badlink">-p</code> 
     <code class="badlink">startup-options</code> 
     <code class="badlink">'tabpagemax'</code> 

                                                                <b class="vimtag"> <a name="faq-6.4">faq-6.4</a> </b>
6.4. 如何配置 Vim 可以一次自动载入若干文件，类似于 "工作集" 或 "项目"？

可用  <code class="badlink">:mksession</code>  和  <code class="badlink">:mkview</code>  命令在 Vim 里自动载入若干文件。

 <code class="badlink">:mksession</code>  命令创建 Vim 脚本用来恢复当前编辑的会话。可用  <code class="badlink">:source</code>  命令来执
行 mksession 命令生成的文件。

 <code class="badlink">:mkview</code>  命令创建 Vim 脚本用来恢复当前窗口的内容。可用  <code class="badlink">:loadview</code>  命令来载入
当前文件的视图。

更多详情请阅读:

     <code class="badlink">21.4</code> 
     <code class="badlink">21.5</code> 
     <code class="badlink">views-sessions</code> 
     <code class="badlink">'sessionoptions'</code> 
     <code class="badlink">:mksession</code> 
     <code class="badlink">:source</code> 
     <code class="badlink">v:this_session</code> 
     <code class="badlink">:mkview</code> 
     <code class="badlink">:loadview</code> 
     <code class="badlink">'viewdir'</code> 
     <code class="badlink">buffers</code> 

                                                                <b class="vimtag"> <a name="faq-6.5">faq-6.5</a> </b>
6.5. 可以打开在单个 Vim 实例中打开多个顶层窗口，就像 Nedit 或 emacs 那样吗？

不行。目前不可能在单个 Vim 实例中打开多个顶层窗口。此功能还在待开发列表中。

                                                                <b class="vimtag"> <a name="faq-6.6">faq-6.6</a> </b>
6.6. 如何在 Vim 内浏览/探索目录？

在 Vim 内，可用标准 Vim 安装提供的 netrw.vim 插件来浏览/探索目录。可用以下命令
之一来启动文件探索器: 
<code class="example"></code>
<code class="example">    :e &lt;directory&gt;</code>
<code class="example">    :Explore</code>
<code class="example">    :Sexplore</code>
<code class="example">    :Vexplore</code>
<code class="example">    :Texplore</code>

从文件探索器出发，可以浏览目录，换名、删除和编辑文件。

更多详情请阅读:

     <code class="badlink">netrw.vim</code> 
     <code class="badlink">22.1</code> 

                                                                <b class="vimtag"> <a name="faq-6.7">faq-6.7</a> </b>
6.7. 如何用 ftp/scp/rcp/http 通过网络编辑文件？

标准 Vim 软件包提供的 netrw.vim 插件来用 ftp/scp/rcp/http 通过网络编辑文件。使
用此插件，Vim 会自己用 ftp/scp/rcp/http 透明地载入和保存文件。例如，要通过 ftp
编辑文件，可用以下命令: 
<code class="example"></code>
<code class="example">    $ vim ftp://machine/path</code>

更多详情请阅读:

     <code class="badlink">netrw.vim</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-7">faq-7</a> </b></h4><code class="section">第七节 - 备份</code>

                                                                <b class="vimtag"> <a name="faq-7.1">faq-7.1</a> </b>
7.1. 我在编辑和保存文件的时候，Vim 创建了和原先文件名字相同但尾部附加了 "~" 字
     符的文件。我怎么能不让 Vim 建立这个文件 (或) 我怎样能关闭 Vim 的备份文件
     功能？

你置位了 <code class="badlink">'backup'</code> 选项，因而 Vim 在保存原始文件的同时创建了备份文件。要让 Vim
不再创建备份文件，清除该选项: 
<code class="example"></code>
<code class="example">    :set nobackup</code>

<code class="note">注意</code> 缺省此选项是关闭的。你一定在某个初始化文件中打开了 <code class="badlink">'backup'</code> 选项。可能也
需要关闭 <code class="badlink">'writebackup'</code> 选项: 
<code class="example"></code>
<code class="example">    :set nowritebackup</code>

更多详情请阅读:

     <code class="badlink">07.4</code> 
     <code class="badlink">backup-table</code> 
     <code class="badlink">'backup'</code> 
     <code class="badlink">'writebackup'</code> 
     <code class="badlink">'backupskip'</code> 
     <code class="badlink">'backupdir'</code> 
     <code class="badlink">'backupext'</code> 
     <code class="badlink">'backupcopy'</code> 
     <code class="badlink">backup</code> 

                                                                <b class="vimtag"> <a name="faq-7.2">faq-7.2</a> </b>
7.2. 我在编辑和保存文件的时候，Vim 创建了和原先文件名字相同但尾部附加了 ".un~"
     扩展名的文件。我怎么能不让 Vim 建立这个文件 (或) 我怎样能关闭 Vim 的撤销
     文件功能？

Vim 7.3 包含了持续撤销的新功能，也就是说，撤销信息在 Vim 退出后不会丢失，而是
保存在了 ".un~" 结尾的文件中。你一定置位了 <code class="badlink">'undofile'</code> 选项，因而 Vim 在保存原
始文件的同时创建了撤销文件。要让 Vim 不再创建撤销文件，清除该选项: 
<code class="example"></code>
<code class="example">    :set noundofile</code>

<code class="note">注意</code> 缺省此选项是关闭的。你一定在某个初始化文件中打开了 <code class="badlink">'undofile'</code> 选项。如果
希望你的撤销文件保存在指定的目录里，可以把 <code class="badlink">'undodir'</code> 选项指向到一个目录，里面
会包含所有你的放在一起的撤销文件。

更多详情请阅读:

     <code class="badlink">'undodir'</code> 
     <code class="badlink">'undofile'</code> 
     <code class="badlink">undo-persistence</code> 

                                                                <b class="vimtag"> <a name="faq-7.3">faq-7.3</a> </b>
7.3. 如果配置 Vim 在指定目录保存所有的备份文件？

可用 <code class="badlink">'backupdir'</code> 选项配置 Vim 在指定目录保存所有的备份文件。例如，要把所有的备
份文件保存到 ~/backup 目录，可用以下命令: 
<code class="example"></code>
<code class="example">    :set backupdir=~/backup</code>

更多详情请阅读:

     <code class="badlink">07.4</code> 
     <code class="badlink">'backupdir'</code> 
     <code class="badlink">backup</code> 

                                                                <b class="vimtag"> <a name="faq-7.4">faq-7.4</a> </b>
7.4. Vim 保存文件时，文件的权限被改变了。如果配置 Vim 在文件保存时不改变文件权
     限？

这可能发生在 <code class="badlink">'backupcopy'</code> 选项设为 "no" 或 "auto" 的时候。<code class="note">注意</code> 此选项的缺省值
设置在多数情况下会正确工作。如果缺省对你不够用，试试设置 <code class="badlink">'backupcopy'</code> 选项为
"yes" 以在保存文件时保留文件权限: 
<code class="example"></code>
<code class="example">    :set backupcopy=yes</code>

仅当 Vim 的配置是无论何时覆盖文件都会建立备份文件的时候，此选项才有用。缺省，
Vim 并不备份文件。

更多详情请阅读:

     <code class="badlink">'backupcopy'</code> 
     <code class="badlink">backup</code> 
     <code class="badlink">'backup'</code> 
     <code class="badlink">'writebackup'</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-8">faq-8</a> </b></h4><code class="section">第八节 - 缓冲区</code>

                                                                <b class="vimtag"> <a name="faq-8.1">faq-8.1</a> </b>
8.1. 我在缓冲区上做了修改。如何才能编辑另一个缓冲区而无需保存修改过的缓冲区也
     不会丢失我的改动？

可置位 <code class="badlink">'hidden'</code> 选项来编辑文件而不会丢失当前文件上的修改: 
<code class="example"></code>
<code class="example">    :set hidden</code>

通过置位 <code class="badlink">'hidden'</code> 选项，你也继续保存缓冲区的修改历史 (撤销历史)。否则，文件间
切换时会丢失撤销历史 (除非使用了持续撤销文件)。

更多详情请阅读:

     <code class="badlink">'hidden'</code> 
     <code class="badlink">hidden-quit</code> 
     <code class="badlink">:hide</code> 

                                                                <b class="vimtag"> <a name="faq-8.2">faq-8.2</a> </b>
8.2. 如何配置 Vim 在切换到其它缓冲区时自动保存修改过的缓冲区？

可置位 <code class="badlink">'autowrite'</code> 选项，在切换到其它缓冲区时自动保存修改过的缓冲区: 
<code class="example"></code>
<code class="example">    :set autowrite</code>

更多详情请阅读:

     <code class="badlink">'autowrite'</code> 
     <code class="badlink">'autowriteall'</code> 
     <code class="badlink">'hidden'</code> 

                                                                <b class="vimtag"> <a name="faq-8.3">faq-8.3</a> </b>
8.3. 如何用空缓冲区来替换当前窗口的缓冲区？

可用  <code class="badlink">:enew</code>  命令来载入空缓冲区以替换当前窗口的缓冲区。

更多详情请阅读:

     <code class="badlink">:enew</code> 

                                                                <b class="vimtag"> <a name="faq-8.4">faq-8.4</a> </b>
8.4. 有没有用缓冲区号载入缓冲区的快捷键？

可用 <code class="keystroke">CTRL-^</code> 命令来通过指定缓冲区号载入缓冲区。例如，要载入缓冲区号 5，要用 5
<code class="keystroke">CTRL-^</code> 命令。

更多详情请阅读:

     <code class="badlink">CTRL-^</code> 

                                                                <b class="vimtag"> <a name="faq-8.5">faq-8.5</a> </b>
8.5. 如何在不同的窗口分别打开当前所有的缓冲区？

可用  <code class="badlink">:ball</code>  或  <code class="badlink">:sball</code>  命令来打开缓冲区列表中的所有列表: 
<code class="example"></code>
<code class="example">    :ball</code>

如果想所有的缓冲区在新标签页中打开，简单加上  <code class="badlink">:tab</code>  命令前缀: 
<code class="example"></code>
<code class="example">    :tab :sball</code>

更多详情请阅读:

     <code class="badlink">:ball</code> 

                                                                <b class="vimtag"> <a name="faq-8.6">faq-8.6</a> </b>
8.6. 如何关闭 (删除) 缓冲区而不退出 Vim？

可用  <code class="badlink">:bdelete</code> 、 <code class="badlink">:bwipeout</code>  或  <code class="badlink">:bunload</code>  命令中的一个来删除缓冲区而不退出
Vim。例如: 
<code class="example"></code>
<code class="example">    :bdelete file1</code>

更多详情请阅读:

     <code class="badlink">:bdelete</code> 
     <code class="badlink">:bwipeout</code> 
     <code class="badlink">:bunload</code> 

                                                                <b class="vimtag"> <a name="faq-8.7">faq-8.7</a> </b>
8.7. 用命令  <code class="badlink">:%bd</code>  删除所有缓冲区时，不是所有的缓冲区都删除了。为什么？

用  <code class="badlink">:%bd</code>  命令时，"%" 范围会被当前缓冲区的起末行号代替。不要用 "%" 作为范围，
而应该指定数值作为范围。例如，要删除所有的缓冲区，可用命令  <code class="badlink">:1,9999bd</code> 。

更多详情请阅读:

     <code class="badlink">:bd</code> 

(7.4.530 补丁修正了此行为)

                                                                <b class="vimtag"> <a name="faq-8.8">faq-8.8</a> </b>
8.8. 如何显示当前缓冲区/文件的缓冲区号？

可用 2&lt;<code class="keystroke">CTRL-G</code>&gt; 命令来显示当前文件/缓冲区的缓冲区号。<code class="note">注意</code> <code class="keystroke">CTRL-G</code> 命令计数的使
用。如果计数大于 1，Vim 会显示缓冲区号。

也可用下列命令来显示当前缓冲区号: 
<code class="example"></code>
<code class="example">    :echo bufnr("%")</code>

也可在 <code class="badlink">'statusline'</code> 选项中加入 "%n" 域来在状态行上显示当前缓冲区号。

更多详情请阅读:

     <code class="badlink">CTRL-G</code> 
     <code class="badlink">bufnr()</code> 
     <code class="badlink">:echo</code> 
     <code class="badlink">'statusline'</code> 

                                                                <b class="vimtag"> <a name="faq-8.9">faq-8.9</a> </b>
8.9. 如何删除缓冲区而不关闭显示该缓冲区的窗口？

可用下列命令来打开下个缓冲区并删除当前缓冲区。 
<code class="example"></code>
<code class="example">    :bnext | bdelete #</code>

更多详情请阅读:

     <code class="badlink">:bnext</code> 
     <code class="badlink">:bdelete</code> 
     <code class="badlink">:buffers</code> 

                                                                <b class="vimtag"> <a name="faq-8.10">faq-8.10</a> </b>
8.10. 如何映射 <code class="special">&lt;Tab&gt;</code> 键来循环并打开所有缓冲区？

可用下列两个映射命令来映射 <code class="special">&lt;Ctrl-Tab&gt;</code> 键来打开后一个缓冲区，<code class="special">&lt;Ctrl-Shift-Tab&gt;</code>
键来打开前一个缓冲区: 
<code class="example"></code>
<code class="example">    :nnoremap &lt;C-Tab&gt; :bnext&lt;CR&gt;</code>
<code class="example">    :nnoremap &lt;S-C-Tab&gt; :bprevious&lt;CR&gt;</code>

<code class="note">注意</code>，这不能用于 Vim 终端版本。

更多详情请阅读:

     <code class="badlink">:bnext</code> 
     <code class="badlink">:bprevious</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-9">faq-9</a> </b></h4><code class="section">第九节 - 窗口</code>

                                                                <b class="vimtag"> <a name="faq-9.1">faq-9.1</a> </b>
9.1. Vim 窗口和缓冲区的区别是什么？

Vim 缓冲区是载入内存用于编辑的文件。原始文件保留不变，直到你把缓冲区写回文件为
止。Vim 窗口是缓冲区的投影视窗。同一个缓冲区可用多个窗口，也可为不同缓冲区用多
个窗口。

更多详情请阅读:

     <code class="badlink">usr_08.txt</code> 
     <code class="badlink">22.4</code> 
     <code class="badlink">windows-intro</code> 
     <code class="badlink">Q_wi</code> 

                                                                <b class="vimtag"> <a name="faq-9.2">faq-9.2</a> </b>
9.2. 如何增加 Vim 窗口的宽度？

用下列命令之一可增加 Vim 窗口的宽度: 
<code class="example"></code>
<code class="example">    :vert resize +N</code>
<code class="example">    :vert resize -N</code>
<code class="example">    :vert resize N</code>

也可用 <code class="keystroke">CTRL-W</code> &lt; 或 <code class="keystroke">CTRL-W</code> &gt; 或 <code class="keystroke">CTRL-W</code> | 命令。

更多详情请阅读:

     <code class="badlink">:vertical-resize</code> 
     <code class="badlink">CTRL-W_&gt;</code> 
     <code class="badlink">CTRL-W_&lt;</code> 
     <code class="badlink">window-resize</code> 

                                                                <b class="vimtag"> <a name="faq-9.3">faq-9.3</a> </b>
9.3. 如何放大或缩小窗口？

可用 "&lt;<code class="keystroke">CTRL-W</code>&gt;o" 命令或  <code class="badlink">:only</code>  ex 命令来放大窗口 (关闭除了当前窗口以外的其它
窗口)。

可用 "&lt;<code class="keystroke">CTRL-W</code>&gt;_" 命令或  <code class="badlink">:resize</code>  ex 命令来在不关闭其它窗口的前提下尽量增加当
前窗口的高度。

可用 "&lt;<code class="keystroke">CTRL-W</code>&gt;|" 命令或 `:vertical resize` ex 命令来在不关闭其它窗口的前提下尽
量增加当前窗口的宽度。

可用 "&lt;<code class="keystroke">CTRL-W</code>&gt;=" 命令使所有窗口等高等宽。

可设置下列选项来使上述命令的效果更佳:

方法 1:
设置 <code class="badlink">'winminheight'</code> 选项为 0: 
<code class="example"></code>
<code class="example">    :set winminheight=0</code>

缺省，此选项设为 1。
此选项控制非激活窗口 (亦即非当前窗口) 的最小高度。<code class="badlink">'winminheight'</code> 选项设为 0
时，非激活窗口仅显示状态行。

方法 2:
设置 <code class="badlink">'noequalalways'</code> 选项并设 <code class="badlink">'winheight'</code> 选项为很大的值 (比如 99999): 
<code class="example"></code>
<code class="example">    :set noequalalways</code>
<code class="example">    :set winheight=99999</code>

现在，激活的窗口会打开到最大尺寸，而其它窗口保持可见但缩小到只有状态行。

使用上面提到的一个方法放大窗口后不能恢复窗口布局。如果在放大窗口后还想恢复 Vim
的窗口布局，可用 ZoomWin 插件。可从 Vim online 网站下载此插件:

    <a href="https://www.vim.org/scripts/script.php?script_id=508">https://www.vim.org/scripts/script.php?script_id=508</a>

更多详情请阅读:

     <code class="badlink">CTRL-W_o</code> 
     <code class="badlink">window-resize</code> 
     <code class="badlink">'winminheight'</code> 
     <code class="badlink">'equalalways'</code> 
     <code class="badlink">'winheight'</code> 
     <code class="badlink">08.3</code> 

                                                                <b class="vimtag"> <a name="faq-9.4">faq-9.4</a> </b>
9.4. 如何在所有打开的缓冲区或打开的窗口或参数列表的所有文件上执行 ex 命令？

可用  <code class="badlink">:bufdo</code>  命令为所有打开的缓冲区执行 ex 命令。可用  <code class="badlink">:windo</code>  命令为所有打开
的窗口执行 ex 命令。可用  <code class="badlink">:argdo</code>  命令为参数列表指定的所有文件执行 ex 命令。最
后，可用  <code class="badlink">:tabdo</code>  命令为所有打开的标签页执行 ex 命令。

更多详情请阅读:

     <code class="badlink">:windo</code> 
     <code class="badlink">:bufdo</code> 
     <code class="badlink">:argdo</code> 
     <code class="badlink">:tabdo</code> 
     <code class="badlink">26.3</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-10">faq-10</a> </b></h4><code class="section">第十节 - 动作</code>

                                                                <b class="vimtag"> <a name="faq-10.1">faq-10.1</a> </b>
10.1. 如何跳到文件的开头 (首行) 或尾部 (末行)？

可用 "G" 命令来跳转到文件的末行，而用 "gg" 命令来跳转到文件的首行。

更多详情请阅读:

     <code class="badlink">G</code> 
     <code class="badlink">gg</code> 

                                                                <b class="vimtag"> <a name="faq-10.2">faq-10.2</a> </b>
10.2. 插入模式下，按 <code class="special">&lt;Esc&gt;</code> 键回到命令模式时，光标向左移了一个字符 (除了光标在
      行首以外)。可以改变此行为来保持光标在同一列上吗？

不行。不能改变此行为。光标总是留在合法的字符上 (除非打开了虚拟编辑模式)。所
以，如果在行尾附加文本，返回命令模式时光标 <code class="emphasis">必须</code> 退回到输入的末字符上。为统一起
见，光标不管在哪里，即使你在行的中间，都会退回。

插入模式下，可用 <code class="keystroke">CTRL-O</code> 或 <code class="keystroke">CTRL-\</code> <code class="keystroke">CTRL-O</code> 命令执行单个 ex 命令并返回到插入模式
而不移动光标列。

更多详情请阅读:

     <code class="badlink">'virtualedit'</code> 
     <code class="badlink">i_CTRL-O</code> 
     <code class="badlink">i_CTRL-\_CTRL-O</code> 

                                                                <b class="vimtag"> <a name="faq-10.3">faq-10.3</a> </b>
10.3. 如何配置 Vim 在用 &lt;Page Up&gt;、&lt;Page Down&gt; 等键滚动时保持水平光标位置？

可复位 <code class="badlink">'startofline'</code> 选项来使文本滚动时保持光标水平位置不变: 
<code class="example"></code>
<code class="example">    :set nostartofline</code>

更多详情请阅读:

     <code class="badlink">'startofline'</code> 

                                                                <b class="vimtag"> <a name="faq-10.4">faq-10.4</a> </b>
10.4. 文件中的有些行超过屏幕宽度而被回绕。用 j、k 键从一行移到下一行时光标移动
      到文件的下一行而不是屏幕的下一行。如何才能移动到下一屏幕行？

可用 gj 和 gk 命令来从一屏幕行移到后/前一个屏幕行。j 和 k 命令移动光标从一文件
行到后/前一个文件行。复位 <code class="badlink">'wrap'</code> 选项可避免行回绕: 
<code class="example"></code>
<code class="example">    :set nowrap</code>

更多详情请阅读:

     <code class="badlink">gj</code> 
     <code class="badlink">gk</code> 
     <code class="badlink">'wrap'</code> 

可用以下映射: 
<code class="example"></code>
<code class="example">    :map &lt;Up&gt; gk</code>
<code class="example">    :imap &lt;Up&gt; &lt;C-o&gt;gk</code>
<code class="example">    :map &lt;Down&gt; gj</code>
<code class="example">    :imap &lt;Down&gt; &lt;C-o&gt;gj</code>
<code class="example">    :noremap j gj</code>
<code class="example">    :noremap k gk</code>

                                                                <b class="vimtag"> <a name="faq-10.5">faq-10.5</a> </b>
10.5. 句子、段落和小节的定义是什么？

一个句子以 '.'、'!' 或者 '?' 结尾并紧随着一个换行符、一个空格 (或两个) 或者制
表符。哪个字符和几个空格算作句尾由 <code class="badlink">'joinspaces'</code> 和 <code class="badlink">'cpoptions'</code> 选项。

一个段落以每个空行或段落宏命令开始，段落宏由 <code class="badlink">'paragraphs'</code> 选项里成对出现的字符
所定义。

一个小节以每个首列出现的换页符 (<code class="special">&lt;C-L&gt;</code>) 或小节宏命令开始。小节宏由 <code class="badlink">'sections'</code>
选项里成对出现的字符所定义。

更多详情请阅读:

     <code class="badlink">sentence</code> 
     <code class="badlink">'joinspaces'</code> 
     <code class="badlink">'cpoptions'</code> 
     <code class="badlink">paragraph</code> 
     <code class="badlink">section</code> 
     <code class="badlink">word</code> 

                                                                <b class="vimtag"> <a name="faq-10.6">faq-10.6</a> </b>
10.6. 如何跳转到句子、段落或小节的头部或尾部？

用下列动作命令跳转到句子、段落或小节的头部或尾部:

<code class="section">      动作    位置        哪里 </code>
<code class="section">      ------  ---------   ----------------- </code>
      (       头部        当前句子
      )       尾部        当前句子
      {       头部        当前段落
      }       尾部        当然段落
      []      尾部        前一小节
      [[      头部        当前小节
      ][      尾部        当前小节
      ]]      头部        后一小节

每个动作可以前导一个数值，会延展往前或往后的跳转。

更多详情请阅读:

     <code class="badlink">object-motions</code> 

                                                                <b class="vimtag"> <a name="faq-10.7">faq-10.7</a> </b>
10.7. 我有延伸到屏幕右端之外的文件行。如何往右移动 Vim 视图来看到原来不在屏幕
      上的文本？

可用下列命令之一来横向往左或右滚动屏幕:

<code class="section">    命令 滚动到</code>
<code class="section">    ---  -------------------------- </code>
    zl   往左滚动
    zh   往右滚动
    zL   往左半个屏幕宽度
    zH   往右半个屏幕宽度
    zs   滚动使光标位于屏幕开始的开始位置
    ze   滚动使光标位于屏幕开始的结束位置

可用 g0 命令移动光标到屏幕行的首个字符，而 g$ 命令移动光标到屏幕行的末个字符。
两者都不滚动屏幕。

更多详情请阅读:

     <code class="badlink">scroll-horizontal</code> 

                                                                <b class="vimtag"> <a name="faq-10.8">faq-10.8</a> </b>
10.8. 如何同时滚动两或多个缓冲区？

可为每个缓冲区置位 <code class="badlink">'scrollbind'</code> 选项来同时滚动这些缓冲区。

更多详情请阅读:

     <code class="badlink">'scrollbind'</code> 
     <code class="badlink">scroll-binding</code> 
     <code class="badlink">'scrollopt'</code> 
     <code class="badlink">'cursorbind'</code> 

                                                                <b class="vimtag"> <a name="faq-10.9">faq-10.9</a> </b>
10.9. 用光标键时，Vim 改变了模式，在文档中插入奇怪的字符，但不正确地移动光标。
      怎么啦？

有几个可能性: 或者你在慢速连接上使用 Vim，或者 Vim 不识别你键盘生成的键序列。

如果你在用慢速连接 (例如 2400 bps modem)，可以试试置位 <code class="badlink">'timeout'</code> 或 <code class="badlink">'ttimeout'</code>
选项。这些选项加上 <code class="badlink">'timeoutlen'</code> 和 <code class="badlink">'ttimeoutlen'</code> 选项可能可以解决问题。

如果 Vim 不能识别你的终端发送的键代码，上面的步骤可能没用。为此，最好的选择是
把你的键序列映射到对应的光标移动命令上，并把这些映射保存到某个文件。每次使用该
终端时用  <code class="badlink">:source</code>  这个文件。

更多详情请阅读:

     <code class="badlink">'timeout'</code> 
     <code class="badlink">'ttimeout'</code> 
     <code class="badlink">'timeoutlen'</code> 
     <code class="badlink">'ttimeoutlen'</code> 
     <code class="badlink">:map</code> 
     <code class="badlink">vt100-cursor-keys</code> 

                                                                <b class="vimtag"> <a name="faq-10.10">faq-10.10</a> </b>
10.10. 如何配置 Vim 当光标在行首而按左键时，移动光标到前行的行尾？

可为 <code class="badlink">'whichwrap'</code> 选项加上 "&lt;" 标志位，来配置 Vim 当光标在行首而按左键时，移动
光标到前行的行尾: 
<code class="example"></code>
<code class="example">    :set whichwrap+=&lt;</code>

类似地，当光标在行尾而按右键时，要移动光标到后行的行首，可为 <code class="badlink">'whichwrap'</code> 选项
加上 "&gt;" 标志位: 
<code class="example"></code>
<code class="example">    :set whichwrap+=&gt;</code>

上述设定只可用于普通和可视模式。要在插入和替换模式下也如此，分别加入 "[" 和
"]" 标志位。

更多详情请阅读:

     <code class="badlink">'whichwrap'</code> 
     <code class="badlink">05.7</code> 

                                                                <b class="vimtag"> <a name="faq-10.11">faq-10.11</a> </b>
10.11. 如何配置 Vim 只留在插入模式 (无模式编辑)？

可置位 <code class="badlink">'insertmode'</code> 选项来配置 Vim 只留在插入模式: 
<code class="example"></code>
<code class="example">    :set insertmode</code>

置位该选项可把 Vim 作为无模式的编辑器来使用。如果按了 <code class="special">&lt;Esc&gt;</code> 键，Vim 不会转入普
通模式。要执行单个普通模式命令，可按 <code class="keystroke">CTRL-O</code> 后跟普通模式命令。可执行多于一个普
通模式命令，可用 <code class="keystroke">CTRL-L</code> 后跟那些命令。然后用 <code class="special">&lt;Esc&gt;</code> 键返回插入模式。要关闭此选
项，复位 <code class="badlink">'insertmode'</code> 选项: 
<code class="example"></code>
<code class="example">    :set noinsertmode</code>

也可用 "evim" 命令或 "vim -y" 来作为无模式编辑器启动 Vim。

也可用  <code class="badlink">:startinsert</code>  ex 命令以插入模式启动 Vim。

更多详情请阅读:

     <code class="badlink">'insertmode'</code> 
     <code class="badlink">:startinsert</code> 
     <code class="badlink">:stopinsert</code> 
     <code class="badlink">i_CTRL-O</code> 
     <code class="badlink">i_CTRL-L</code> 
     <code class="badlink">evim</code> 
     <code class="badlink">evim-keys</code> 

                                                                <b class="vimtag"> <a name="faq-10.12">faq-10.12</a> </b>
10.12. 滚动文本时如何显示若干上下文？

可设置 <code class="badlink">'scrolloff'</code> 选项来控制在光标上方和下方显示的最少的屏幕行数 (上下文)。 
<code class="example"></code>
<code class="example">    :set scrolloff=10</code>

更多详情请阅读:

     <code class="badlink">'scrolloff'</code> 
     <code class="badlink">'sidescrolloff'</code> 

                                                                <b class="vimtag"> <a name="faq-10.13">faq-10.13</a> </b>
10.13. 如何回到之前的光标位置？

可用 '' 或 `` 命令回到上次跳转之前的光标位置。<code class="keystroke">CTRL-O</code> 命令会回到跳转列表中更老
的光标位置，而 <code class="keystroke">CTRL-I</code> 命令会跳到跳转列表中更新的光标位置。

更多详情请阅读:

     <code class="badlink">03.10</code> 
     <code class="badlink">mark-motions</code> 
     <code class="badlink">jump-motions</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-11">faq-11</a> </b></h4><code class="section">第十一节 - 搜索文本</code>

                                                                <b class="vimtag"> <a name="faq-11.1">faq-11.1</a> </b>
11.1. 用模式搜索文本后，所有匹配的文本保持高亮。如何临时/永久关闭高亮？

<code class="badlink">'hlsearch'</code> 选项控制是否高亮前次搜索模式所有的匹配。缺省，此选项不打开。如果系
统范围的 vimrc 文件置位了此选项，可用以下命令关闭搜索高亮: 
<code class="example"></code>
<code class="example">    :set nohlsearch</code>

要临时关闭搜索高亮，可用 
<code class="example"></code>
<code class="example">    :nohlsearch</code>

也可用搜索当前文件不存在的模式来清除搜索高亮 (例如，搜索模式 "asdf")。

用下面的映射在 <code class="keystroke">CTRL-L</code> 重画窗口时同时会清除搜索高亮 
<code class="example"></code>
<code class="example">    :nnoremap &lt;silent&gt; &lt;C-L&gt; &lt;C-L&gt;:nohls&lt;CR&gt;</code>

更多详情请阅读:

     <code class="badlink">'hlsearch'</code> 
     <code class="badlink">:nohlsearch</code> 

                                                                <b class="vimtag"> <a name="faq-11.2">faq-11.2</a> </b>
11.2. 如何在搜索模式中输入回车字符？

可用 "\r" 或 &lt;<code class="keystroke">CTRL-V</code>&gt;&lt;<code class="keystroke">CTRL-M</code>&gt; 来在模式中输入回车。在 Vim 脚本里，用 "\r" 代表
回车字符更好。

更多详情请阅读:

     <code class="badlink">sub-replace-special</code> 

                                                                <b class="vimtag"> <a name="faq-11.3">faq-11.3</a> </b>
11.3. 如何搜索字符 "^M"？

在搜索命令中可先按 <code class="keystroke">CTRL-V</code> 键再按 <code class="keystroke">CTRL-M</code> 键来输入 ^M 字符。 
<code class="example"></code>
<code class="example">    /^V^M</code>

也可用 "\r" 字符。在 Vim 脚本 里，建议使用 "\r"。

更多详情请阅读:

     <code class="badlink">c_CTRL-V</code> 
     <code class="badlink">using_CTRL-V</code> 
     <code class="badlink">/\r</code> 

                                                                <b class="vimtag"> <a name="faq-11.4">faq-11.4</a> </b>
11.4. 如何搜索/替代显示为 "~R"、"~S" 等的字符？

可用 "ga" 命令来显示特殊字符的 ASCII 值/代码。例如，假定 ASCII 值是 142。可用
下列命令来搜索此特殊字符: 
<code class="example"></code>
<code class="example">    /^V142</code>

这里，^V 用 <code class="keystroke">CTRL-V</code> 输入。

更多详情请阅读:

     <code class="badlink">ga</code> 
     <code class="badlink">using_CTRL_V</code> 
     <code class="badlink">24.8</code> 

                                                                <b class="vimtag"> <a name="faq-11.5">faq-11.5</a> </b>
11.5. 如何高亮文件中所有的不可显示字符？

可用下列命令和搜索模式来高亮文件中所有的不可显示字符: 
<code class="example"></code>
<code class="example">    :set hlsearch</code>
<code class="example">    /\(\p\|$\)\@!.</code>

更多详情请阅读:

     <code class="badlink">/\p</code> 
     <code class="badlink">/bar</code> 
     <code class="badlink">/$</code> 
     <code class="badlink">/\(</code> 
     <code class="badlink">/\@!</code> 
     <code class="badlink">'hlsearch'</code> 

                                                                <b class="vimtag"> <a name="faq-11.6">faq-11.6</a> </b>
11.6. 如何在文件中搜索整词？

在文件中可用 \&lt; 和 \&gt; 匹配原来搜索整词。例如: 
<code class="example"></code>
<code class="example">    /\&lt;myword\&gt;</code>

\&lt; 匹配原匹配单词开始，而 \&gt; 匹配原匹配单词结尾。

更多详情请阅读:

     <code class="badlink">/\&lt;</code> 
     <code class="badlink">/\&gt;</code> 

                                                                <b class="vimtag"> <a name="faq-11.7">faq-11.7</a> </b>
11.7. 如何搜索光标下的当前单词？

按 * 键可正向搜索光标下的当前单词。# 键进行反向搜索。<code class="note">注意</code> 这些命令只搜索完整的
关键字。

更多详情请阅读:

     <code class="badlink">star</code> 
     <code class="badlink">#</code> 
     <code class="badlink">gstar</code> 
     <code class="badlink">g#</code> 
     <code class="badlink">03.8</code> 
     <code class="badlink">search-commands</code> 

                                                                <b class="vimtag"> <a name="faq-11.8">faq-11.8</a> </b>
11.8. 如何在搜索单词时忽略大小写？

要在搜索模式时忽略大小写，置位 <code class="badlink">'ignorecase'</code> 选项: 
<code class="example"></code>
<code class="example">    :set ignorecase</code>

要仅在搜索特定模式时忽略大小写，使用特殊的 \c 指令: 
<code class="example"></code>
<code class="example">    /\c&lt;pattern&gt;</code>

更多详情请阅读:

     <code class="badlink">'ignorecase'</code> 
     <code class="badlink">/ignorecase</code> 
     <code class="badlink">/\c</code> 

                                                                <b class="vimtag"> <a name="faq-11.9">faq-11.9</a> </b>
11.9. 如何搜索连续两次出现的单词？

可用下面的搜索命令来定位连续两次出现的单词: 
<code class="example"></code>
<code class="example">     /\(\&lt;\w\+\)\_s\+\1\&gt;</code>
<code class="example">     /\(\&lt;\k\+\)\_s\+\1\&gt;</code>

"\w" 和 "\k" 的主要区别是后者基于 <code class="badlink">'iskeyword'</code> 选项，此选项可包含重音和其它语言
特定的字符。

更多详情请阅读:

     <code class="badlink">/\1</code> 
     <code class="badlink">/\(</code> 
     <code class="badlink">/\)</code> 
     <code class="badlink">/\&lt;</code> 
     <code class="badlink">/\&gt;</code> 
     <code class="badlink">/\w</code> 
     <code class="badlink">/\k</code> 
     <code class="badlink">/\+</code> 
     <code class="badlink">/\_x</code> 
     <code class="badlink">'iskeyword'</code> 

                                                                <b class="vimtag"> <a name="faq-11.10">faq-11.10</a> </b>
11.10. 如何统计缓冲区中特定单词出现的次数？

可用下面一组命令来编译缓冲区中特定单词出现的次数: 
<code class="example"></code>
<code class="example">    :let cnt=0</code>
<code class="example">    :g/\&lt;your_word\&gt;/let cnt=cnt+1</code>
<code class="example">    :echo cnt</code>

这只统计单词出现的行数。也可用下面的命令: 
<code class="example"></code>
<code class="example">    :%s/\&lt;word\&gt;/&amp;/gn</code>

要统计文件中字母单词的个数，可用 
<code class="example"></code>
<code class="example">    :%s/\a\+/&amp;/gn</code>

要统计非空白字符构成的单词的个数，可用 
<code class="example"></code>
<code class="example">    :%s/\S\+/&amp;/gn</code>

更多详情请阅读:

     <code class="badlink">count-items</code> 
     <code class="badlink">word-count</code> 
     <code class="badlink">v_g_CTRL-G</code> 
     <code class="badlink">12.5</code> 
     <code class="badlink">:s_flags</code> 

                                                                <b class="vimtag"> <a name="faq-11.11">faq-11.11</a> </b>
11.11. 如何在搜索模式时把光标放置在匹配单词的尾部？

可用搜索命令的 "e" 偏移来把光标放置在匹配单词的尾部。例如 
<code class="example"></code>
<code class="example">    /mypattern/e</code>

关于搜索位移的更多详情请阅读:

     <code class="badlink">search-offset</code> 
     <code class="badlink">/</code> 

                                                                <b class="vimtag"> <a name="faq-11.12">faq-11.12</a> </b>
11.12. 如何搜索空行？

可如此搜索空行: 
<code class="example"></code>
<code class="example">    /^$</code>

    或 
<code class="example"></code>
<code class="example">    /^\s*$</code>

后者也匹配只由空白构成的行，而前者只匹配真正的空行。更多详情请阅读:

     <code class="badlink">/^</code> 
     <code class="badlink">/$</code> 
     <code class="badlink">/\s</code> 
     <code class="badlink">/star</code> 
     <code class="badlink">search-commands</code> 

                                                                <b class="vimtag"> <a name="faq-11.13">faq-11.13</a> </b>
11.13. 如何搜索只有一个字符的行？

可如此搜索只有一个字符的行: 
<code class="example"></code>
<code class="example">    /^\s*\a\s*$</code>

更多详情请阅读:

     <code class="badlink">/^</code> 
     <code class="badlink">/\a</code> 
     <code class="badlink">/\s</code> 
     <code class="badlink">/star</code> 
     <code class="badlink">/$</code> 

                                                                <b class="vimtag"> <a name="faq-11.14">faq-11.14</a> </b>
11.14. 如何搜索和替代多个文件中的字符串？

可用  <code class="badlink">:argdo</code> 、 <code class="badlink">:bufdo</code> 、 <code class="badlink">:windo</code>  或  <code class="badlink">:tabdo</code>  命令来在多个文件中执行 ex 命令。
例如: 
<code class="example"></code>
<code class="example">    :argdo %s/foo/bar/g|upd</code>

更多详情请阅读:

     <code class="badlink">:argdo</code> 
     <code class="badlink">:bufdo</code> 
     <code class="badlink">:windo</code> 
     <code class="badlink">:tabdo</code> 

                                                                <b class="vimtag"> <a name="faq-11.15">faq-11.15</a> </b>
11.15. 我在映射中使用了  <code class="badlink">:s</code>  替代命令。如果模式的搜索失败，映射被终止。我想要
       即使替代命令失败时，映射还继续处理下个命令。该如何做呢？

可用替代命令的 "e" 标志位，即使模式没找到，也让映射继续处理其它命令。

更多详情请阅读:

     <code class="badlink">:s_flags</code> 

                                                                <b class="vimtag"> <a name="faq-11.16">faq-11.16</a> </b>
11.16. 如何搜索一行中某字符的第 n 次出现？

要搜索一行中某字符的第 n 次出现，可为 "f" 命令加上数值前缀。例如，要搜索一行中
@ 字符的第 5 次出现，可用命令 5f@。这假定光标在行首 - 而且首字符不是你要寻找的
那个字符。

更多详情请阅读:

     <code class="badlink">f</code> 
     <code class="badlink">F</code> 
     <code class="badlink">t</code> 
     <code class="badlink">T</code> 
     <code class="badlink">;</code> 
     <code class="badlink">,</code> 

                                                                <b class="vimtag"> <a name="faq-11.17">faq-11.17</a> </b>
11.17. 如何用硬回车 (换行) 字符来替代制表符 (或任何字符)？

可用下列命令来用硬回车 (换行) 字符来替代制表符 (或任何字符): 
<code class="example"></code>
<code class="example">    :s/\t/\r/</code>

<code class="note">注意</code> 上述命令中，如果用 \n 代替\r，制表符并不会被换行符所代替。

更多详情请阅读:

     <code class="badlink">sub-replace-special</code> 
     <code class="badlink">NL-used-for-Nul</code> 
     <code class="badlink">CR-used-for-NL</code> 

                                                                <b class="vimtag"> <a name="faq-11.18">faq-11.18</a> </b>
11.18. 如何用字符的 ASCII 值来搜索字符？

在搜索 "/" 命令中，可用 <code class="keystroke">CTRL-V</code> 后跟字符的十进制或十六进制或八进制值来用 ASCII
值搜索字符。要确定字符的 ASCII 值，可用  <code class="badlink">:ascii</code>  或 "ga" 命令。

例如，要搜索 ASCII 字符值 188 (¼)，可用以下搜索命令之一: 
<code class="example"></code>
<code class="example">    /&lt;CTRL-V&gt;188</code>
<code class="example">    /&lt;CTRL-V&gt;o274</code>
<code class="example">    /&lt;CTRL-V&gt;xBC</code>
<code class="example">    /&lt;CTRL-V&gt;u00bc</code>

也可用排序规则元素 [] 来用十进/八进/十六进数值搜索字符: 
<code class="example"></code>
<code class="example">    /[\d188]</code>
<code class="example">    /[\o274]</code>
<code class="example">    /[\xbc]</code>
<code class="example">    /[\u00bc]</code>

此外，也可用特定匹配原 \%d \%o \%x \%u: 
<code class="example"></code>
<code class="example">    /\%d188</code>
<code class="example">    /\%o274</code>
<code class="example">    /\%xbc</code>
<code class="example">    /\%u00bc</code>

也可用二合字母来输入字符。例如输入: 
<code class="example"></code>
<code class="example">    /CTRL-K14</code>

来搜索上述字符。

更多详情请阅读:

     <code class="badlink">i_CTRL-V_digit</code> 
     <code class="badlink">:ascii</code> 
     <code class="badlink">ga</code> 
     <code class="badlink">/\]</code> 
     <code class="badlink">/\%d</code> 
     <code class="badlink">digraphs</code> 

                                                                <b class="vimtag"> <a name="faq-11.19">faq-11.19</a> </b>
11.19. 如何搜索长行？

可用搜索命令中的 Vim 正规表达式来搜索长行或超过一定数目字符的行。例如，要搜索
所有超过 80 个字符的行，可用以下之一的命令: 
<code class="example"></code>
<code class="example">    /^.\{80}.\+$</code>
<code class="example">    /^.*\%&gt;80c.*$</code>
<code class="example">    /^.*\%&gt;80v.*$</code>

更多详情请阅读:

     <code class="badlink">/\{</code> 
     <code class="badlink">/\%c</code> 
     <code class="badlink">/\%v</code> 

                                                                <b class="vimtag"> <a name="faq-11.20">faq-11.20</a> </b>
11.20. 如何在当前缓冲区中显示包含特定模式的所有行？

可用以下命令来在当前缓冲区中显示包含特定模式的所有行: 
<code class="example"></code>
<code class="example">    :g/&lt;pattern&gt;/p</code>

例如，下列命令会在当前缓冲区中显示包含 "vim" 的所有行: 
<code class="example"></code>
<code class="example">    :g/vim/p</code>

因为  <code class="badlink">:p</code>  是 ex 命令  <code class="badlink">:g</code>  执行的缺省命令，也可用: 
<code class="example"></code>
<code class="example">    :g/vim</code>

如果也想要对应的行号，可用以下的命令: 
<code class="example"></code>
<code class="example">    :g/&lt;pattern&gt;/#</code>

更多详情请阅读:

     <code class="badlink">:global</code> 
     <code class="badlink">:print</code> 
     <code class="badlink">:number</code> 

                                                                <b class="vimtag"> <a name="faq-11.21">faq-11.21</a> </b>
11.21. 如何搜索跨越多行的文本字符串？

可用 \_x 正规表达式匹配原来搜索跨越多行的文本客串。例如，要搜索文件字符串
"Hello
World", 可用下列搜索命令: 
<code class="example"></code>
<code class="example">    /Hello\_sWorld</code>

这会匹配单词 "Hello" 后跟换行符然后跟着从下一行开始的单词 "World"。它也会匹配
单词 "Hello" 后跟空格符然后跟着单词 "World"。要搜索 "Hello World" 字符串并包括
行尾和行首的任意个空白字符，可用以下的搜索命令: 
<code class="example"></code>
<code class="example">    /Hello\_s\+World</code>

更多详情请阅读:

     <code class="badlink">27.8</code> 
     <code class="badlink">pattern-atoms</code> 
     <code class="badlink">/\_</code> 
     <code class="badlink">pattern-searches</code> 

                                                                <b class="vimtag"> <a name="faq-11.22">faq-11.22</a> </b>
11.22. 如何只在缓冲区中给定行范围内搜索模式？

可以用 \%&gt;l 和 \%&lt;l 正规表达式匹配原来在给定行范围内搜索模式。例如，要在缓冲
区第 10 到 30 行间搜索单词 "white"，可用下列命令: 
<code class="example"></code>
<code class="example">    /white\%&gt;9l\%&lt;31l</code>

更多详情请阅读:

     <code class="badlink">/\%l</code> 

                                                                <b class="vimtag"> <a name="faq-11.23">faq-11.23</a> </b>
11.23. 如何清除前次搜索模式？

前次搜索模式存在 "/" 寄存器里。可用下列命令清除此寄存器: 
<code class="example"></code>
<code class="example">    :let @/=""</code>

要在缓冲区卸载时清除前次搜索模式，可用下列命令: 
<code class="example"></code>
<code class="example">    :autocmd BufUnload * let @/ = ""</code>

更多详情请阅读:

     <code class="badlink">@/</code> 
     <code class="badlink">:let-@</code> 
     <code class="badlink">autocmd-searchpat</code> 
     <code class="badlink">last-pattern</code> 

                                                                <b class="vimtag"> <a name="faq-11.24">faq-11.24</a> </b>
11.24. 为什么模式 "a.\<code class="special">{-}</code>p\@!" 不能匹配？

"\<code class="special">{-}</code>" 不意味着 "越少越好"，它的含义是 "越少越好使整个模式匹配"。如果它不匹配
"p"，整个模式会失败 (因为有 "p\@!")，所以它必须匹配 "p"。这确实是一个更长的匹
配，但它是最短的能使整个模式成功的匹配。

如果你想要 "无论如何也越少越好"，可用 "\@&gt;"，它基本上把一个模式分成两部分，每
部分相互独立。如果模式是 "a.\<code class="special">{-}</code>\@&gt;p\@!"，那么 ".\<code class="special">{-}</code>" 总是匹配空串，因为在没
有其它限制的情况下这是最短能成功的匹配。整个模式此时相当于 "ap\@!"，也就是匹配
任何后面不跟 "p" 的 "a"。

这意味着，它会匹配尽量少的 "a" 而不会继续试下去，直到 Vim 找到最长的匹配为止。
这也意味着，它还是会匹配 "ap"。

                                                                <b class="vimtag"> <a name="faq-11.25">faq-11.25</a> </b>
11.25. 如何在模式中使用 "/" 时不用对它转义？

用 / 搜索模式时，需要转义模式中所有的 "/"，不然它们会终止模式。因此，你不能直
接搜索 /usr/share/doc/，而必须搜索 \/usr\/share\/doc\/

最简单的解决方法是用 "?" 来进行反向搜索，然后用 /<code class="special">&lt;CR&gt;</code> 来使用前次搜索模式进行正
向搜索。

如果有内建 eval 特性的 Vim (至少要 normal 版本或更高)，也可直接粘贴模式到搜索
寄存器:

:let @/ = '/usr/share/doc/'

然后用 "n" 跳转到下个它的出现。

另见以下相关帮助

     <code class="badlink">@/</code> 
     <code class="badlink">/&lt;CR&gt;</code> 

                                                                <b class="vimtag"> <a name="faq-11.26">faq-11.26</a> </b>
11.26. 如何操作搜索的匹配？

"gn" 命令很容易地在匹配当前搜索模式的文本区域中操作。缺省，正向搜索前次搜索模
式并可视选择此匹配。如果光标已经在匹配上，就对它可视选择。如果在操作符后使用
"gn" 命令 (如 "c" 来修改文本)，此操作符会适用于匹配上。

如果使用 gn 之前激活了可视模式，可视选择区会延伸到下个匹配的结尾。

"gN" 命令类似，但用于反向搜索。

此命令可用于为每个匹配重复一些简单操作。例如，要把所有的 apple 换成 peach。先
用 "/apple" 开始搜索，然后用 "cgnpeach<code class="special">&lt;Esc&gt;</code>" 把当前匹配替代成 peach。现在用句
号 "." 命令就可为缓冲区其余部分重做替代操作。

另见以下相关帮助

     <code class="badlink">gn</code> 
     <code class="badlink">gN</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-12">faq-12</a> </b></h4><code class="section">第十二节 - 修改文本</code>

                                                                <b class="vimtag"> <a name="faq-12.1">faq-12.1</a> </b>
12.1. 如何删除文件中所有行的拖尾空白字符 (空格和制表)？

可用  <code class="badlink">:substitute</code>  命令在整个文件上搜索和删除所有的拖尾空白字符: 
<code class="example"></code>
<code class="example">    :%s/\s\+$//</code>

更多详情请阅读:

     <code class="badlink">:%</code> 
     <code class="badlink">:s</code> 
     <code class="badlink">/\s</code> 
     <code class="badlink">/\+</code> 
     <code class="badlink">/$</code> 

                                                                <b class="vimtag"> <a name="faq-12.2">faq-12.2</a> </b>
12.2. 如何把所有的多个连续出现的空格字符替代把单个空格？

可用以下命令来把所有的多个连续出现的空格字符替代把单个空格: 
<code class="example"></code>
<code class="example">    :%s/ \{2,}/ /g</code>

也可用: 
<code class="example"></code>
<code class="example">    :%s/  \+/ /g</code>

更多详情请阅读:

     <code class="badlink">:%</code> 
     <code class="badlink">:s</code> 
     <code class="badlink">/\{</code> 
     <code class="badlink">:s_flags</code> 

                                                                <b class="vimtag"> <a name="faq-12.3">faq-12.3</a> </b>
12.3. 如何把一串空行缩减成一行？

可用下列命令来把一串空行缩减成一行: 
<code class="example"></code>
<code class="example">    :v/./.,/./-1join</code>

此命令的解释如下:

<code class="section">    部分            描述</code>
<code class="section">    -----           -------------------------- </code>
    :v/./           为所有不包含一个字符的行 (也就是空行) 执行下列命令。
     .,             使用当前行作为行范围的开始行。
     /./            使用包含一个字符的行作为结束行。
     -1             调整行范围，使结束行变成原来结束行的前一行。
     j              连接范围中的所有行。

<code class="note">备注</code> 如果文件末有空行这会报错。要改正这个问题，在文件末加一行临时行，执行本命
令，然后再删除临时行。

更多详情请阅读:

     <code class="badlink">:v</code> 
     <code class="badlink">:join</code> 
     <code class="badlink">cmdline-ranges</code> 
     <code class="badlink">collapse</code> 

                                                                <b class="vimtag"> <a name="faq-12.4">faq-12.4</a> </b>
12.4. 如何删除文件中的全部空行？如何删除全部只有空白字符的行？

要删除全部空行，使用下列命令: 
<code class="example"></code>
<code class="example">    :g/^$/d</code>

要删除全部只有空白字符 (空格或制表) 的行，使用下列命令: 
<code class="example"></code>
<code class="example">    :g/^\s\+$/d</code>

要删除全部如果有的话只有空白字符的行，使用下列命令: 
<code class="example"></code>
<code class="example">    :g/^\s*$/d</code>

                                                                <b class="vimtag"> <a name="faq-12.5">faq-12.5</a> </b>
12.5. 如何复制/抽出当前单词？

可用 "yiw" (抽出内含单词，不带空白) 命令或 "yaw" (抽出一个单词，带空白) 命令来
复制/抽出当前单词。

更多详情请阅读:

     <code class="badlink">04.6</code> 
     <code class="badlink">04.8</code> 
     <code class="badlink">iw</code> 
     <code class="badlink">yank</code> 
     <code class="badlink">text-objects</code> 
     <code class="badlink">objects</code> 

                                                                <b class="vimtag"> <a name="faq-12.6">faq-12.6</a> </b>
12.6. 如何从一行中抽出一个位置到另一个位置的文本而不是抽出整行？

可用动作命令带抽出操作符 (y) 来从一行中抽出一个位置到另一个位置的文本。例如，
要抽出当前光标位置到下个 x 字符的文本，用 yfx 或 Fx 和 tx 或 Tx。要抽出直到第
n 列的文本，用 n|。要抽出直到下个 "word" 的出现的文本，用 /word。要抽出直到另
一行第 n 列的文本，先用 "ma" 命令标记该位置，再转到抽出开始的位置，然后用 y`a
来抽出直到标记所在的文本 (<code class="note">注意</code> 引号的方向)

更多详情请阅读:

     <code class="badlink">yank</code> 
     <code class="badlink">motion.txt</code> 
     <code class="badlink">04.6</code> 

                                                                <b class="vimtag"> <a name="faq-12.7">faq-12.7</a> </b>
12.7. 抽出文本到寄存器时，如何附加文本到当前寄存器的内容上？

指定一些操作的寄存器时，如果使用了寄存器名的大写形式，则新的文本会附加到已有的
内容上。例如，假定寄存器 "a" 有些文本，如果想附加新文本于其后，可用 "A" 寄存器
名。如果用寄存器名的小写形式，则寄存器内容会给新文本覆盖。

更多详情请阅读:

     <code class="badlink">quote</code> 
     <code class="badlink">quote_alpha</code> 
     <code class="badlink">10.1</code> 

                                                                <b class="vimtag"> <a name="faq-12.8">faq-12.8</a> </b>
12.8. 如何抽出跨越多行的完整句子？

要抽出跨越多行的完整句子，须用带动作命令的抽出操作符。如: 
<code class="example"></code>
<code class="example">        y)</code>

从句子内部可用 "yi)" 来抽出句子。

更多详情请阅读:

     <code class="badlink">yank</code> 
     <code class="badlink">{motion}</code> 
     <code class="badlink">object-motions</code> 
     <code class="badlink">04.6</code> 

                                                                <b class="vimtag"> <a name="faq-12.9">faq-12.9</a> </b>
12.9. 如何抽出所有包含一个模式的行到一个缓冲区？

可用  <code class="badlink">:global</code>  命令来把所有包含一个模式的行抽出到寄存器里，然后把寄存器的内容
粘贴到缓冲区上: 
<code class="example"></code>
<code class="example">    :let @a=''</code>
<code class="example">    :g/mypattern/y A</code>

第一个命令，清除寄存器 "a" 的内容。第二个命令复制所有包含 "mypattern" 的行到寄
存器 "a" 里。<code class="note">注意</code> 使用了大写字母 "A"，把匹配的行附加进来。现在可用 "ap 命令来
粘贴突破口 "a" 的内容到缓冲区里。

如果你只想收集所有的匹配，还有一个不同的方法。为此，用  <code class="badlink">:s</code>  命令带上标志位
"gn"，这样不实际修改缓冲区 ("n" 标志位) 但选择所有匹配 ("g" 标志位)。把此命令
和替代部分的 "\=" 部分组合起来，可把每个匹配复制到，比如，一个列表上。 加总起
来，可用下面的形式: 
<code class="example"></code>
<code class="example">    :let list=[]</code>
<code class="example">    :%s/pattern/\=add(list, submatch(0))/gn</code>

现在所有的匹配都会在列表里，然后你可按需对它们进行后期处理。

更多详情请阅读:

     <code class="badlink">:g</code> 
     <code class="badlink">:y</code> 
     <code class="badlink">:let-register</code> 
     <code class="badlink">quote_alpha</code> 
     <code class="badlink">put</code> 
     <code class="badlink">registers</code> 
     <code class="badlink">:registers</code> 
     <code class="badlink">sub-replace-\=</code> 

                                                                <b class="vimtag"> <a name="faq-12.10">faq-12.10</a> </b>
12.10. 如何删除文件中所有不包含特定模式的行？

可用  <code class="badlink">:v</code>  来删除文件中所有不包含特定模式的行: 
<code class="example"></code>
<code class="example">    :v/pattern/d</code>

或 
<code class="example"></code>
<code class="example">    :g!/pattern/d</code>

更多详情请阅读:

     <code class="badlink">:v</code> 
     <code class="badlink">:g</code> 

                                                                <b class="vimtag"> <a name="faq-12.11">faq-12.11</a> </b>
12.11. 如何在每个带 "pattern" 的行之前加上一行？

可用下列命令来在每个带 "pattern" 的行之前加上一行: 
<code class="example"></code>
<code class="example">    :g/pattern/normal! Oi&lt;把文本行放在这里&gt;</code>

此外，还要用 Y 命令抽出行，然后用下列命令插入该行: 
<code class="example"></code>
<code class="example">    :g/pattern/put!</code>

更多详情请阅读:

     <code class="badlink">:g</code> 
     <code class="badlink">:put</code> 
     <code class="badlink">insert</code> 
     <code class="badlink">0</code> 

                                                                <b class="vimtag"> <a name="faq-12.12">faq-12.12</a> </b>
12.12. 有没有办法在前行包含指定模式的行上操作？

可用  <code class="badlink">:global</code>  命令在前行包含指定模式的行上操作: 
<code class="example"></code>
<code class="example">    :g/&lt;pattern&gt;/+{cmd}</code>

更多详情请阅读:

     <code class="badlink">:g</code> 
     <code class="badlink">:range</code> 

                                                                <b class="vimtag"> <a name="faq-12.13">faq-12.13</a> </b>
12.13. 如何在所有包含指定模式的行上执行命令？

可用  <code class="badlink">:global</code>  (:g) 命令在所有包含指定模式的行上执行命令。 
<code class="example"></code>
<code class="example">    :g/my pattern/d</code>

如要想用非 Ex 的命令，可用  <code class="badlink">:normal</code>  命令: 
<code class="example"></code>
<code class="example">    :g/my pattern/normal {command}</code>

除非你希望普通模式命令被重映射，考虑用  <code class="badlink">:normal!</code>  命令来代替 (<code class="note">注意</code> 这里的 "!")。

更多详情请阅读:

     <code class="badlink">:global</code> 
     <code class="badlink">:v</code> 
     <code class="badlink">:normal</code> 

                                                                <b class="vimtag"> <a name="faq-12.14">faq-12.14</a> </b>
12.14. 可以复制光标上方的字符到当前光标位置吗？

在插入模式下，可用 <code class="keystroke">CTRL-Y</code> 来复制光标上方的字符到当前光标位置。也可用 <code class="keystroke">CTRL-E</code> 来
对光标下方的字符同样办理。

更多详情请阅读:

     <code class="badlink">i_CTRL-Y</code> 
     <code class="badlink">i_CTRL-E</code> 

                                                                <b class="vimtag"> <a name="faq-12.15">faq-12.15</a> </b>
12.15. 如何在当前行上方/下方插入空行而无需进入插入模式？

可用  <code class="badlink">:put</code>  ex 命令来插入空行。例如，试试 
<code class="example"></code>
<code class="example">    :put =''</code>
<code class="example">    :put! =''</code>

更多详情请阅读:

     <code class="badlink">:put</code> 

                                                                <b class="vimtag"> <a name="faq-12.16">faq-12.16</a> </b>
12.16. 如何插入当前文件名到当前缓冲区？

有几种办法到插入当前文件名到当前缓冲区。插入模式下，可用 <code class="special">&lt;C-R&gt;</code>% 或
<code class="special">&lt;C-R&gt;</code>=expand("%") 命令。普通模式下，可用 `:put =@%` 命令。

更多详情请阅读:

     <code class="badlink">i_CTRL-R</code> 
     <code class="badlink">expand()</code> 
     <code class="badlink">!!</code> 

                                                                <b class="vimtag"> <a name="faq-12.17">faq-12.17</a> </b>
12.17. 如何插入 Vim 寄存器的内容到当前缓冲区？

插入模式下，可用 &lt;<code class="keystroke">CTRL-R</code>&gt;<code class="special">&lt;register&gt;</code> 命令来插入 <code class="special">&lt;register&gt;</code> 的内容。例如，
&lt;<code class="keystroke">CTRL-R</code>&gt;a 插入寄存器 "a" 的内容到当前缓冲区。

普通模式下，可用 `:put <code class="special">&lt;register&gt;</code>` 命令来插入 <code class="special">&lt;register&gt;</code> 的内容。例如，
`:put d` 命令插入寄存器 "d" 的内容到当前缓冲区。

更多详情请阅读:

     <code class="badlink">i_CTRL-R</code> 
     <code class="badlink">i_CTRL-R_CTRL-R</code> 
     <code class="badlink">i_CTRL-R_CTRL-O</code> 
     <code class="badlink">i_CTRL-R_CTRL-P</code> 
     <code class="badlink">:put</code> 

                                                                <b class="vimtag"> <a name="faq-12.18">faq-12.18</a> </b>
12.18. 如何移动光标跨过行尾并在行尾之后的列插入字符？

可设置 <code class="badlink">'virtualedit'</code> 选项，这样就可以移动光标跨过行尾并在行尾之后的列插入字
符。要启动虚拟模式，用 
<code class="example"></code>
<code class="example">    :set virtualedit=all</code>

更多详情请阅读:

     <code class="badlink">'virtualedit'</code> 

                                                                <b class="vimtag"> <a name="faq-12.19">faq-12.19</a> </b>
12.19. Vim 如何把光标所在的单词 (比如说: junk) 替代为 "foojunkbar"？

有几种方法。如果单词是本行首个这样的词，可用以下的命令: 
<code class="example"></code>
<code class="example">    :exe "s/".expand("&lt;cword&gt;")."/foo&amp;bar/"</code>

要只匹配整个单词，可以这样用一个更复杂的替代: 
<code class="example"></code>
<code class="example">    :exe 's/\&lt;'.expand("&lt;cword&gt;").'\%&gt;'.(col(".")-1).'c\&gt;/foo&amp;bar/'</code>

也可用命令: ciwfoo<code class="special">&lt;C-R&gt;</code>"bar<code class="special">&lt;Esc&gt;</code>

更多详情请阅读:

     <code class="badlink">:substitute</code> 
     <code class="badlink">expand()</code> 
     <code class="badlink">col()</code> 
     <code class="badlink">/\%c</code> 

                                                                <b class="vimtag"> <a name="faq-12.20">faq-12.20</a> </b>
12.20. 如何对一个目录里所有文件里的特定文本进行替代？

可用  <code class="badlink">:argdo</code>  命令在参数指定的所有文件上执行替代命令: 
<code class="example"></code>
<code class="example">    :args *</code>
<code class="example">    :argdo %s/&lt;your_text&gt;/&lt;replacement_text&gt;/ge | update</code>

更多详情请阅读:

     <code class="badlink">:args_f</code> 
     <code class="badlink">:argdo</code> 
     <code class="badlink">:s_flags</code> 

                                                                <b class="vimtag"> <a name="faq-12.21">faq-12.21</a> </b>
12.21. 文件中有若干数值。如何为文件中的数值增量或减量？

可用 <code class="keystroke">CTRL-A</code> 键来增量数值，而用 <code class="keystroke">CTRL-X</code> 键来减量数值。也可通过指定键的计数来指定
增量/减量的数值。可用十进制、八进制和十六进制数值。修改 <code class="badlink">'nrformats'</code> 选项可改变
此操作 Vim 使用的基底。

更多详情请阅读:

     <code class="badlink">26.2</code> 
     <code class="badlink">CTRL-A</code> 
     <code class="badlink">CTRL-X</code> 
     <code class="badlink">'nrformats'</code> 

                                                                <b class="vimtag"> <a name="faq-12.22">faq-12.22</a> </b>
12.22. 如何在  <code class="badlink">:substitute</code>  命令中重用前次搜索模式？

要在  <code class="badlink">:substitute</code>  命令中重用前次搜索模式，不要指定新的搜索模式: 
<code class="example"></code>
<code class="example">    :s/pattern/newtext/</code>
<code class="example">    :s//sometext/</code>

第二个  <code class="badlink">:s</code>  命令里没有指定搜索模式，所以使用第一个  <code class="badlink">:s</code>  命令的模式 "pattern"。

如果你想改变搜索模式但重复替代模式，可用特殊的右手边形式，波浪符: 
<code class="example"></code>
<code class="example">    :s/newpattern/~/</code>

更多详情请阅读:

     <code class="badlink">:s</code> 
     <code class="badlink">:&</code> 
     <code class="badlink">:~</code> 
     <code class="badlink">&</code> 
     <code class="badlink">sub-replace-special</code> 

                                                                <b class="vimtag"> <a name="faq-12.23">faq-12.23</a> </b>
12.23. 如何用  <code class="badlink">:substitute</code>  改变字符串的大小写？

可用  <code class="badlink">:substitute</code>  命令的替代字符串中的特殊字符来改变匹配字符串的大小写。例
如，要把字符串 "MyString" 改成全部大写，可用以下命令: 
<code class="example"></code>
<code class="example">    :%s/MyString/\U&amp;/g</code>

要改成小写，可用以下命令: 
<code class="example"></code>
<code class="example">    :%s/MyString/\L&amp;/g</code>

要把当前行的所有单词的首字符改为大写，可用以下命令: 
<code class="example"></code>
<code class="example">    :s/\&lt;\(.\)\(\k*\)\&gt;/\u\1\L\2/g</code>

更多详情请阅读:

     <code class="badlink">sub-replace-special</code> 
     <code class="badlink">:substitute</code> 
     <code class="badlink">/\U</code> 
     <code class="badlink">/\L</code> 
     <code class="badlink">/\u</code> 

                                                                <b class="vimtag"> <a name="faq-12.24">faq-12.24</a> </b>
12.24. 如何键入键盘上没有的字符？

可用二合字母来键入键盘上没有的字符。可用  <code class="badlink">:digraphs</code>  命令来显示所有当前定义的
二合字母。可用  <code class="badlink">:digraphs</code>  命令在该列表中加入新的二合字母。

更多详情请阅读:

     <code class="badlink">digraphs</code> 
     <code class="badlink">'digraph'</code> 
     <code class="badlink">24.9</code> 

                                                                <b class="vimtag"> <a name="faq-12.25">faq-12.25</a> </b>
12.25. 有没有命令删除任何或所有的二合字母？

没有。二合字母表是编译时定义的。只可以加入新二合字母。将来会考虑增加新命令来删
除二合字母。

                                                                <b class="vimtag"> <a name="faq-12.26">faq-12.26</a> </b>
12.26. 插入模式下，按退格键时，只删除这次在插入模式中键入的字符。如何能用退格
       键删除在之前的插入模式中键入的字符？

这是 vi 的传统行为。可用 <code class="badlink">'backspace'</code> 选项来删除之前插入模式中键入的字符: 
<code class="example"></code>
<code class="example">    :set backspace=indent,eol,start</code>

更多详情请阅读:

     <code class="badlink">'backspace'</code> 
     <code class="badlink">i_backspacing</code> 

                                                                <b class="vimtag"> <a name="faq-12.27">faq-12.27</a> </b>
12.27. 文件有长于 72 字符的行，以 "+" 终止并回绕到下一行。如何快速连接这些行？

可用  <code class="badlink">:global</code>  命令来搜索和连接这些行: 
<code class="example"></code>
<code class="example">    :g/+$/j</code>

不过，这只会对每两行进行连接。一个更复杂的例子，可以连接所有连续以 "+" 结尾的
行: 
<code class="example"></code>
<code class="example">    :g/+$/,/\(^\|[^+]\)$/j</code>
<code class="example">    :g/+$/mark a | .,/\(^\|[^+]\)$/s/+$// | 'a,.j</code>

更多详情请阅读:

     <code class="badlink">:g</code> 
     <code class="badlink">:j</code> 
     <code class="badlink">:mark</code> 

                                                                <b class="vimtag"> <a name="faq-12.28">faq-12.28</a> </b>
12.28. 如何把抽出的面向字符的文本粘贴到单独的行上？

可用  <code class="badlink">:put</code>  命令来把抽出的面向字符的文本粘贴到单独的行上: 
<code class="example"></code>
<code class="example">    :put =@"</code>

更多详情请阅读:

     <code class="badlink">:put</code> 
     <code class="badlink">quote_=</code> 

                                                                <b class="vimtag"> <a name="faq-12.29">faq-12.29</a> </b>
12.29. 如何改变单词或字符或文本块的大小写？

可用 "~" 命令切换字符的大小写。

可用 "gUiw" 或 "viwU" 命令把光标所在的单词改为大写，而用 "guiw" 或 "viwu" 命令
改为小写。

可用 "viw~" 或 "g~iw" 命令切换光标所在的单词的大小写 (大写到小写，小写到大
写)。

可用 "gUgU" 命令把当前行改为大写，而用 "gugu" 命令把当前行改为小写。

可用 "g~g~" 命令切换当前行的大小写。可用 "g~<code class="special">{motion}</code>" 或 "<code class="special">{Visual}</code>~" 命令来切
换文本块的大小写。

如果置位了 <code class="badlink">'tildeop'</code>，"~" 命令类似操作符，会期待后跟应用的动作命令。如果设了 
<code class="example"></code>
<code class="example">    :set tildeop</code>

而现在要切换当前光标位置到行尾的大小写，只要简单地用 "~$"。

更多详情请阅读:

     <code class="badlink">case</code> 
     <code class="badlink">'tildeop'</code> 

                                                                <b class="vimtag"> <a name="faq-12.30">faq-12.30</a> </b>
12.30. 如何键入键盘上没有的 ASCII 字符？

可用 <code class="keystroke">CTRL-V</code> 后跟 ASCII 字符值来键入键盘上没有的 ASCII 字符。也可用二合字母来键
入特殊的 ASCII 字符。

更多详情请阅读:

     <code class="badlink">i_CTRL-V_digit</code> 
     <code class="badlink">digraphs</code> 
     <code class="badlink">45.5</code> 

                                                                <b class="vimtag"> <a name="faq-12.31">faq-12.31</a> </b>
12.31. 如何替代文件中的不可显示字符？

要替代不可显示字符，需要先决定字符的 ASCII 值。可用  <code class="badlink">:ascii</code>  ex 命令或 "ga" 普
通模式命令来显示光标所在字符的 ASCII 值。

可用 <code class="keystroke">CTRL-V</code> 后跟十进制数 1-255 (不能有前导的零)、或用 x 加上十六进数 00-FF，或
用八进制数 0-0377 (要有前导的零)，或用 u 和十六进制数 0-FFFF，或用 U 和十六进
制数 0-7FFFFFFF

另一个办法是用  <code class="badlink">:digraphs</code>  ex 命令来显示所有字符的二合字母以及它们的十进制值和
字母值。可用 <code class="keystroke">CTRL-K</code> 后跟两个字母数字字符 (二合字母) 来输入不可显示字符。

更多详情请阅读:

     <code class="badlink">:ascii</code> 
     <code class="badlink">i_CTRL-V</code> 
     <code class="badlink">i_CTRL-V_digit</code> 
     <code class="badlink">:digraphs</code> 

                                                                <b class="vimtag"> <a name="faq-12.32">faq-12.32</a> </b>
12.32. 如何删除缓冲区中的重复行？

可用以下用户定义的命令来删除缓冲区中的重复行:

:command -range=% Uniq <code class="special">&lt;line1&gt;</code>,<code class="special">&lt;line2&gt;</code>g/^\%&lt;<code class="special">&lt;line2&gt;</code>l\(.*\)\n\1$/d

把上述命令加入 .vimrc 文件，并调用  <code class="badlink">:Uniq</code>  来删除所有的重复行。

                                                                <b class="vimtag"> <a name="faq-12.33">faq-12.33</a> </b>
12.33. 如何给文件中的所有行加上对应行号前缀？

有几个方法给文件中的所有行加上对应行号前缀。下面列出一些: 
<code class="example"></code>
<code class="example">    :%s/^/\=line('.'). ' '</code>
<code class="example">    :%s/^/\=printf('%5d ', line('.'))/</code>
<code class="example">    :%s/^/\=strpart(line('.').'.     ', 0, 5)</code>
<code class="example">    :%s/^/\=strpart('   ', strlen(line('.'))).line('.').'. '</code>

最后两个命令会用空格填充行号。最后那个命令会右对齐行号，而之前那个命令则左对齐
行号。

如果不想为连续行编号，而要为一些非连续的区域编号，可用以下的套路: 
<code class="example"></code>
<code class="example">    :let i = 1</code>
<code class="example">    :g/TODO/s/^/\=printf('%2d.',i)|let i+=1</code>

首先，变量 i 初始化为 1。下一行中  <code class="badlink">:g</code>  命令用于只在匹配 "TODO" 的行上执行替代
命令。变量 i 在每次替代命令发生后增加 1。

更多详情请阅读:

     <code class="badlink">sub-replace-special</code> 
     <code class="badlink">line()</code> 
     <code class="badlink">expr6</code> 
     <code class="badlink">strpart()</code> 
     <code class="badlink">printf()</code> 
     <code class="badlink">:execute</code> 
     <code class="badlink">:global</code> 

                                                                <b class="vimtag"> <a name="faq-12.34">faq-12.34</a> </b>
12.34. 如何交换两个字符或单词或行？

可用 "xp" 命令序列来交换两个字符。"c" 会删除光标所在的字符而 "p" 会把刚刚删
除的字符粘贴到光标所在字符之后。最终结果就是交换了两了字符。

可有 "deep" 命令序列来交换两个单词 (先移动光标到首个单词之前的空白上)。

可用 "ddp" 命令序列来交换两行。"dd" 删除当前行，而 "p" 把刚刚删除的行粘贴到当
前行后。最终结果就是交换了两行。

所有以上的操作都会改变 " 无名寄存器。

可用 `:m +` ex 命令来交换两行而不改变无名寄存器。

更多详情请阅读:

     <code class="badlink">x</code> 
     <code class="badlink">p</code> 
     <code class="badlink">dd</code> 
     <code class="badlink">d</code> 
     <code class="badlink">e</code> 
     <code class="badlink">linewise-register</code> 
     <code class="badlink">quotequote</code> 
     <code class="badlink">:move</code> 

                                                                <b class="vimtag"> <a name="faq-12.35">faq-12.35</a> </b>
12.35. 如何改变用作单词定界的字符？

Vim 使用 <code class="badlink">'iskeyword'</code> 选项指定的字符用作单词定界符。此选项的缺省值是
"@,48-57,_,192-255"。

例如，要加上 ":" 作为单词定界符，可用 
<code class="example"></code>
<code class="example">    :set iskeyword+=:</code>

要让 "_" 不再用作单词定界符，可用 
<code class="example"></code>
<code class="example">    :set iskeyword-=_</code>

更多详情请阅读:

     <code class="badlink">'iskeyword'</code> 
     <code class="badlink">word</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-13">faq-13</a> </b></h4><code class="section">第十三节 - 插入模式补全</code>

                                                                <b class="vimtag"> <a name="faq-13.1">faq-13.1</a> </b>
13.1. 插入模式下如何补全单词或行？

插入模式下，可用 <code class="keystroke">CTRL-P</code> 和 <code class="keystroke">CTRL-N</code> 键补全单词。
<code class="keystroke">CTRL-N</code> 命令正向搜索下个匹配关键字。
<code class="keystroke">CTRL-P</code> 命令反向搜索下个匹配关键字。

插入模式下，可用 <code class="keystroke">CTRL-X</code> <code class="keystroke">CTRL-L</code> 命令序列来补全开头和当前行光标前字符序列相同的
行。要得到下个匹配行，按 <code class="keystroke">CTRL-P</code> 或 <code class="keystroke">CTRL-N</code> 键。插入模式下还有其它很多的键/方法
可用。

Vim 支持以下项目的补全: 
<code class="example"></code>
<code class="example">    CTRL-X CTRL-L    整行</code>
<code class="example">    CTRL-X CTRL-N    当前文件中的关键字</code>
<code class="example">    CTRL-X CTRL-K    字典里的单词</code>
<code class="example">    CTRL-X CTRL-T    同义词字典里的单词</code>
<code class="example">    CTRL-X CTRL-I    当前文件和头文件</code>
<code class="example">    CTRL-X CTRL-]    标签</code>
<code class="example">    CTRL-X CTRL-F    文件名</code>
<code class="example">    CTRL-X CTRL-D    宏定义 (也包含头文件里的)</code>
<code class="example">    CTRL-X CTRL-V    Vim 命令行</code>
<code class="example">    CTRL-X CTRL-U    用户定义补全</code>
<code class="example">    CTRL-X CTRL-O    全能补全</code>

用户定义补全和全能补全常由文件类型插件设置。

更多详情请阅读:

     <code class="badlink">24.3</code> 
     <code class="badlink">ins-completion</code> 

                                                                <b class="vimtag"> <a name="faq-13.2">faq-13.2</a> </b>
13.2. 插入模式下如何补全文件名？

插入模式下，可用 <code class="keystroke">CTRL-X</code> <code class="keystroke">CTRL-F</code> 命令序列来补全开头和当前行光标前字符序列相同的
文件名。

更多详情请阅读:

     <code class="badlink">compl-filename</code> 

                                                                <b class="vimtag"> <a name="faq-13.3">faq-13.3</a> </b>
13.3. 插入模式下用了 <code class="keystroke">CTRL-P</code>/<code class="keystroke">CTRL-N</code> 补全单词。如何补全刚补全的单词之后的单词？

可用 <code class="keystroke">CTRL-X</code> <code class="keystroke">CTRL-N</code> 和 <code class="keystroke">CTRL-X</code> <code class="keystroke">CTRL-P</code> 键来补全刚补全的单词之后的单词。

更多详情请阅读:

     <code class="badlink">i_CTRL-X_CTRL-P</code> 
     <code class="badlink">i_CTRL-X_CTRL-N</code> 
     <code class="badlink">ins-completion</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-14">faq-14</a> </b></h4><code class="section">第十四节 - 文本排版</code>

                                                                <b class="vimtag"> <a name="faq-14.1">faq-14.1</a> </b>
14.1. 如何排版文本段落以在每个回绕行尾插入换行符？

可用 "gq" 命令来排版段落。它会按照当前的 <code class="badlink">'textwidth'</code> 设置来排版文本。另一方案
是用 "gw" 命令，和 "gq" 一样排版，但不移动光标。

<code class="note">注意</code> gq 操作符可和动作命令联用，在指定文本范围上操作。例如: 
<code class="example"></code>
<code class="example">    gqgq - 排版当前行</code>
<code class="example">    gqap - 排版当前段落</code>
<code class="example">    gwap - 排版当前段落 (且不移动光标)</code>
<code class="example">    gq3j - 排版当前行和后 3 行</code>

更多详情请阅读:

     <code class="badlink">gq</code> 
     <code class="badlink">gw</code> 
     <code class="badlink">formatting</code> 
     <code class="badlink">usr_25.txt</code> 
     <code class="badlink">motion.txt</code> 

                                                                <b class="vimtag"> <a name="faq-14.2">faq-14.2</a> </b>
14.2. 如何排版文件中的长行使得每行少于 "n" 个字符？

可设置 <code class="badlink">'textwidth'</code> 选项来控制一行可拥有的字符数。例如，要设置行的最大宽度为 70
个字符，可用以下命令: 
<code class="example"></code>
<code class="example">    set textwidth=70</code>

现在要在文件里断开长行到 <code class="badlink">'textwidth'</code> 选项定义的长度，可用 
<code class="example"></code>
<code class="example">    :g/./normal gqq</code>

更多详情请阅读:

     <code class="badlink">'textwidth'</code> 
     <code class="badlink">gq</code> 

                                                                <b class="vimtag"> <a name="faq-14.3">faq-14.3</a> </b>
14.3. 如何连接短行以形成段落？

首先，确保 <code class="badlink">'textwidth'</code> 选项设为大值: 
<code class="example"></code>
<code class="example">    :set textwidth=99999</code>

然后，用以下命令来连接短行以形成段落: 
<code class="example"></code>
<code class="example">    1GgqG</code>

上述命令会在整个文件上操作。要在指定行范围上段落排版，可用: 
<code class="example"></code>
<code class="example">    :'a,'bg/\S/normal gq}</code>

更多详情请阅读:

     <code class="badlink">gq</code> 
     <code class="badlink">G</code> 
     <code class="badlink">gqq</code> 

                                                                <b class="vimtag"> <a name="faq-14.4">faq-14.4</a> </b>
14.4. 如何排版项目符号和编号列表？

可用 <code class="badlink">'formatoptions'</code> 选项来配置 Vim 为项目符号和编号列表排版。例如，可以排版下
列格式的列表:

  - this is a test. this is a test. this is a test. this is a test.
  this is a test.

为如下格式:

  - this is a test. this is a test. this is a test. this is a test.
    this is a test.

可用 <code class="badlink">'formatoptions'</code> 里的 "n" 标志位来对齐文本。 
<code class="example"></code>
<code class="example">    :set fo+=n</code>

有此选项时，Vim 在文本排版时会识别编号列表。要此选项可用，必须置位
<code class="badlink">'autoindent'</code> 选项。

更多详情请阅读:

     <code class="badlink">'formatoptions'</code> 
     <code class="badlink">fo-table</code> 
     <code class="badlink">format-comments</code> 

                                                                <b class="vimtag"> <a name="faq-14.5">faq-14.5</a> </b>
14.5. 插入模式下如何缩进行？

插入模式下，可用 <code class="keystroke">CTRL-T</code> 键来在当前行的行首插入一个 shiftwidth 的缩进。插入模式
下，可用 <code class="keystroke">CTRL-D</code> 键来删除当前行行首的一个 shiftwidth 的缩进。插入模式下也可用
<code class="keystroke">CTRL-O</code> &gt;&gt; 和 <code class="keystroke">CTRL-O</code> &lt;&lt; 命令来缩进当前行。

更多详情请阅读:

     <code class="badlink">i_CTRL-T</code> 
     <code class="badlink">i_CTRL-D</code> 
     <code class="badlink">i_0_CTRL-D</code> 
     <code class="badlink">i_CTRL-O</code> 
     <code class="badlink">&gt;&gt;</code> 
     <code class="badlink">&lt;&lt;</code> 

                                                                <b class="vimtag"> <a name="faq-14.6">faq-14.6</a> </b>
14.6. 如何排版/缩进整个文件？

可以用 gg=G 命令来排版/缩进整个文件，其中 
<code class="example"></code>
<code class="example">    gg - 转到文件头</code>
<code class="example">    =  - 应用缩进</code>
<code class="example">    G  - 直到文件尾</code>

更多详情请阅读:

     <code class="badlink">gg</code> 
     <code class="badlink">=</code> 
     <code class="badlink">G</code> 
     <code class="badlink">'formatprg'</code> 
     <code class="badlink">C-indenting</code> 

                                                                <b class="vimtag"> <a name="faq-14.7">faq-14.7</a> </b>
14.7. 如何增加或减少当前行的缩进？

可用 "&gt;&gt;" 和 "&lt;&lt;" 命令来增加或减少当前行的缩进。

更多详情请阅读:

     <code class="badlink">shift-left-right</code> 
     <code class="badlink">&gt;&gt;</code> 
     <code class="badlink">&lt;&lt;</code> 
     <code class="badlink">'shiftwidth'</code> 

                                                                <b class="vimtag"> <a name="faq-14.8">faq-14.8</a> </b>
14.8. 如果对一组/块行进行缩进？

可以先可视选择一组行，然后按 &gt; 或 &lt; 键来对行缩进/反向缩进。也可用下列 ex 命令
来对行缩进 
<code class="example"></code>
<code class="example">    :10,20&gt;</code>

更多详情请阅读:

     <code class="badlink">shift-left-right</code> 
     <code class="badlink">v_&gt;</code> 
     <code class="badlink">v_&lt;</code> 
     <code class="badlink">:&lt;</code> 
     <code class="badlink">:&gt;</code> 

                                                                <b class="vimtag"> <a name="faq-14.9">faq-14.9</a> </b>
14.9.用 &gt; 或 &lt; 键缩进行时，使用标准的 8-制表位而不是当前 <code class="badlink">'tabstop'</code> 设置。为什
     么？

"&gt;" 操作符缩进行时使用的空格数由 <code class="badlink">'shiftwidth'</code> 选项控制。仅当 <code class="badlink">'shiftwidth'</code> 选项
为零时才使用 <code class="badlink">'tabstop'</code> 设置。 
<code class="example"></code>
<code class="example">    :set shiftwidth=4</code>

更多详情请阅读:

     <code class="badlink">'shiftwidth'</code> 
     <code class="badlink">&gt;&gt;</code> 
     <code class="badlink">'softtabstop'</code> 

                                                                <b class="vimtag"> <a name="faq-14.10">faq-14.10</a> </b>
14.10. 如何关闭文本的自动缩进？

缺省，不打开文本的自动缩进。检查配置文件 (.vimrc、.gvimrc) 关于缩进的设置。确
保没有 `:filetype indent on` 命令。如果有，把它删掉。另外，取决于你的选择，也
可以检查一下 <code class="badlink">'autoindent'</code>、<code class="badlink">'smartindent'</code>、<code class="badlink">'cindent'</code> 和 <code class="badlink">'indentexpr'</code> 选项的值，
有必要时关闭它们。

更多详情请阅读:

     <code class="badlink">:filetype-indent-off</code> 
     <code class="badlink">'autoindent'</code> 
     <code class="badlink">'smartindent'</code> 
     <code class="badlink">'cindent'</code> 
     <code class="badlink">'indentexpr'</code> 

                                                                <b class="vimtag"> <a name="faq-14.11">faq-14.11</a> </b>
14.11. 如何配置 Vim 在编辑邮件时自动设置 <code class="badlink">'textwidth'</code> 选项为指定值？

可用 "FileType" 自动命令来设置 <code class="badlink">'textwidth'</code> 选项: 
<code class="example"></code>
<code class="example">    autocmd FileType mail set tw=&lt;your_value&gt;</code>

更多详情请阅读:

     <code class="badlink">:autocmd</code> 
     <code class="badlink">FileType</code> 
     <code class="badlink">usr_43.txt</code> 

                                                                <b class="vimtag"> <a name="faq-14.12">faq-14.12</a> </b>
14.12. 有没有办法使得 Vim 自动神奇地断行？

有。设置 <code class="badlink">'textwidth'</code> 选项为推荐的行长度。Vim 会自动神奇在新输入的行上断开。例
如: 
<code class="example"></code>
<code class="example">    :set textwidth=75</code>

更多详情请阅读:

     <code class="badlink">'textwidth'</code> 
     <code class="badlink">ins-textwidth</code> 
     <code class="badlink">'formatoptions'</code> 
     <code class="badlink">fo-table</code> 
     <code class="badlink">formatting</code> 

                                                                <b class="vimtag"> <a name="faq-14.13">faq-14.13</a> </b>
14.13. 我在文件中看到很多的 ^M 符号。我试过设置 <code class="badlink">'fileformat'</code> 选项为 <code class="badlink">'dos'</code>，又
       试过 <code class="badlink">'unix'</code> 然后 <code class="badlink">'mac'</code>。都不行。我怎么才能隐藏这些符号呢？

文件载入到 Vim 时，文件的格式由以下步骤决定:

- 如果所有行都以换行符 (<code class="special">&lt;NL&gt;</code>) 结尾，则 fileformat 为 "unix"。
- 如果所有行都以回车符 (<code class="special">&lt;CR&gt;</code>) 后跟换行符 (<code class="special">&lt;NL&gt;</code>) 结尾，则 fileformat 为 "dos"。
- 如果所有行都以回车符 (<code class="special">&lt;CR&gt;</code>) 结尾，则 fileformat 为 "mac"。

如果文件有些行以 <code class="special">&lt;CR&gt;</code> 结尾，有些行以 <code class="special">&lt;CR&gt;</code> 后跟 <code class="special">&lt;NL&gt;</code> 结尾，则 fileformat 设为
"unix"。

可以通过显式设置来改变当前文件的格式，例如改成 dos 格式: 
<code class="example"></code>
<code class="example">    :w ++ff=dos</code>

要显示当前文件的格式，可用 
<code class="example"></code>
<code class="example">    :set fileformat?</code>

上述行为也由 <code class="badlink">'fileformats'</code> 选项控制。可用以下命令: 
<code class="example"></code>
<code class="example">    :set fileformats+=unix</code>
<code class="example">    :e &lt;your_file&gt;</code>
<code class="example">    :set fileformat=unix</code>
<code class="example">    :w</code>

要删除当前文件所有行尾的回车符 (<code class="special">&lt;CR&gt;</code>)，可用以下命令: 
<code class="example"></code>
<code class="example">    :%s/\r$//</code>

要强制 Vim 在编辑文件时使用指定的文件格式，可用以下命令: 
<code class="example"></code>
<code class="example">    :e ++ff=dos filename</code>

更多详情请阅读:

     <code class="badlink">'fileformats'</code> 
     <code class="badlink">'fileformat'</code> 
     <code class="badlink">file-formats</code> 
     <code class="badlink">DOS-format-write</code> 
     <code class="badlink">Unix-format-write</code> 
     <code class="badlink">Mac-format-write</code> 
     <code class="badlink">dos-file-formats</code> 
     <code class="badlink">23.1</code> 
     <code class="badlink">++ff</code> 

                                                                <b class="vimtag"> <a name="faq-14.14">faq-14.14</a> </b>
14.14. 我从另一个应用粘贴文本到 Vim 缓冲区时，新文本的对齐 (缩进) 不对。如何修
       正？

用鼠标粘贴文本到 GUI Vim 时，Vim 可以检测到你在粘贴文本。此时，忽略缩进有关的
设置 (如 autoindent、smartindent、cindent 等等)，按本义粘贴文本。

用鼠标粘贴文本到终端 (如 xterm) 上运行的 Vim 时，Vim 可能检测不到你在粘贴文
本。这取决于几种事: 终端给 Vim 传递鼠标事件的能力、编译 Vim 时关于鼠标事件处理
和剪贴板访问的支持，DISPLAY 变量的正确设置，Vim <code class="badlink">'mouse'</code> 选项的正确设置。

如果 Vim 能检测到你在用鼠标粘贴文本，粘贴的文本会按本义插入。

如果 Vim 不能检测到你在用鼠标粘贴文本，它会把文本的粘贴当作你在按文本直接输入
文本。插入粘贴文本的第一行后，Vim 看到了换行符，因为有缩进设置，下行会以缩进开
始，粘贴文本第二行开头的空白会导致额外的缩进。之后的行上，这会重复进行，所以最
后会以阶梯形式的缩进插入粘贴文本。

对终端 Vim 有几种方法可以修正此问题:

1. 编译 Vim 时带上 +mouse 和 +xterm_clipboard 编译时选项。Vim 的 normal 或 big
   或 huge 版本包含了这些选项。设置 <code class="badlink">'mouse'</code> 选项为 "a" 或至少包含 "i"。用鼠标
   粘贴文本时，不要按 Shift 键。仅当 Vim 可访问 X 显示时可用。更多详情请阅读以
   下 Vim 帮助主题:

     <code class="badlink">+feature-list</code> 
     <code class="badlink">'mouse'</code> 
     <code class="badlink">&lt;MiddleMouse&gt;</code> 
     <code class="badlink">x11-selection</code> 
     <code class="badlink">xterm-clipboard</code> 

1.1 有些 Linux 发布编译它们的终端 vim 包时没有 X 支持。这不合理，给很多用户留
    下了终端模式下的 Vim 不支持某些操作，比如用鼠标正确地粘贴文本的印象。

    如果你的发布包含了如今几乎肯定有的 gvim，解决方案包含以下选项之一。

    a)  用下列方式启动 Vim 
<code class="example"></code>
<code class="example">            gvim -v</code>

    b)  把下列 alias 放进外壳配置文件，如 ~/.bashrc 里: 
<code class="example"></code>
<code class="example">            alias vim='gvim -v'</code>

    c)  把下列命令存到名为 "vim" 的文件中，并把此文件放到你的 ~/bin 目录里: 
<code class="example"></code>
<code class="example">            gvim -v "$@"</code>

    d)  用下列命令把发布的 gvim 链接到 ~/bin/vim。只需要执行一次。 
<code class="example"></code>
<code class="example">            ln -s $(which gvim) ~/bin/vim</code>

    对 c) 和 d) 而言，确保你的 PATH 里 ~/bin 在 /usr/bin 之前。

2. 用 <code class="keystroke">CTRL-R</code> <code class="keystroke">CTRL-O</code> * 命令粘贴文本。这会按本义粘贴文本，不应用自动缩进。如果你
   希望先粘贴文本然后修正缩进，可用 <code class="keystroke">CTRL-R</code> <code class="keystroke">CTRL-P</code> *。仅当 Vim 能访问 X 显示时
   才能使用这些命令。更多详情请阅读以下 Vim 帮助主题:

     <code class="badlink">i_CTRL-R_CTRL-O</code> 
     <code class="badlink">i_CTRL-R_CTRL-P</code> 
     <code class="badlink">quotestar</code> 

3. 在粘贴文本前置位 <code class="badlink">'paste'</code> 选项。此选项会关闭所有缩进相关设置的效果。粘贴完文
   本后务必用 `:set nopaste` 关闭此选项。否则 Vim 的缩进特性会停止工作。不要在
   .vimrc 文件里永久置位 <code class="badlink">'paste'</code> 选项。如果你经常重复以上步骤，可设置
   <code class="badlink">'pastetoggle'</code> 选项为某个键。按此键时，切换 <code class="badlink">'paste'</code> 选项的值。粘贴文本前按此
   键一次，粘贴文本后再按此键一次。<code class="note">注意</code> 置位 <code class="badlink">'paste'</code> 选项时，关闭所有的映射和
   缩写。更多详情请阅读以下 Vim 帮助主题:

     <code class="badlink">'paste'</code> 
     <code class="badlink">'pastetoggle'</code> 

也可参考用户手册中的以下主题:

     <code class="badlink">04.7</code> 
     <code class="badlink">09.3</code> 

                                                                <b class="vimtag"> <a name="faq-14.15">faq-14.15</a> </b>
14.15. 有很长回绕行 (回绕处于 "on" 状态) 时，如有一行不能完全放进屏幕，它会完
       全不显示。出现的是 "@" 符号开始的空行而不是回绕行。如果滚动屏幕后行能完
       全放进，"@" 符号消失而该行会再次显示。什么 Vim 设置控制此行为？

可设置 <code class="badlink">'display'</code> 选项为 "lastline" 来显示窗口末行尽量多的内容，而不是显示 "@"
符号。 
<code class="example"></code>
<code class="example">    :set display=lastline</code>

更多详情请阅读:

     <code class="badlink">'display'</code> 

                                                                <b class="vimtag"> <a name="faq-14.16">faq-14.16</a> </b>
14.16. 如何把文件中的所有的制表符转化为空格符？

可用  <code class="badlink">:retab</code>  命令来用 <code class="badlink">'expandtab'</code> 和 <code class="badlink">'tabstop'</code> 的当前设置来更新当前文件中所有
的制表符。例如，把所有的制表符转化为空格符，可用 
<code class="example"></code>
<code class="example">    :set expandtab</code>
<code class="example">    :retab</code>

更多详情请阅读:

     <code class="badlink">:retab</code> 
     <code class="badlink">'expandtab'</code> 
     <code class="badlink">'tabstop'</code> 
     <code class="badlink">25.3</code> 

                                                                <b class="vimtag"> <a name="faq-14.17">faq-14.17</a> </b>
14.17. 什么 Vim 选项可用来编辑之后会用文字处理器处理的文本？

可用以下选项来编辑之后会用文字处理器处理的文本: 
<code class="example"></code>
<code class="example">    :set wrap</code>
<code class="example">    :set linebreak</code>
<code class="example">    :set textwidth=0</code>
<code class="example">    :set showbreak=&gt;&gt;&gt;</code>

可用 "gk" 和 "gj" 命令来向上和向下移动一行屏幕行。更多详情请阅读:

     <code class="badlink">'wrap'</code> 
     <code class="badlink">'linebreak'</code> 
     <code class="badlink">'textwidth'</code> 
     <code class="badlink">'showbreak'</code> 
     <code class="badlink">gk</code> 
     <code class="badlink">gj</code> 

                                                                <b class="vimtag"> <a name="faq-14.18">faq-14.18</a> </b>
14.18. 如何才能连接行而不加减空格字符？

缺省用 "J" 或  <code class="badlink">:join</code>  命令连接行时，Vim 会把换行符、引导和拖尾的空白替代为单个
空格符。如果行尾已经有空格或一行以 ")" 字符开头，Vim 不会加入空格符。

要连接行而不加减空格字符，可用 gJ 或  <code class="badlink">:join!</code>  命令。

更多详情请阅读:

     <code class="badlink">gJ</code> 
     <code class="badlink">:join</code> 
     <code class="badlink">J</code> 
     <code class="badlink">10.5</code> 
     <code class="badlink">'joinspaces'</code> 
     <code class="badlink">'cpoptions'</code> 
     <code class="badlink">'formatoptions'</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-15">faq-15</a> </b></h4><code class="section">第十五节 - 可视模式</code>

                                                                <b class="vimtag"> <a name="faq-15.1">faq-15.1</a> </b>
15.1. 如何进行矩形列块复制？

Vim 中可用面向列块的可视模式来进行矩形列块复制。要启动面向列块的可视模式，用
<code class="keystroke">CTRL-V</code> 键。用任何动作命令来移动光标，然后用 y 操作符来抽出可视选中的文本。

如果 <code class="keystroke">CTRL-V</code> 没有效果，可能是被 mswin.vim 脚本重映射到了 <code class="keystroke">CTRL-Q</code>，在 Windows 机
器上 vimrc 常执行此脚本以模拟一些其它程序常用的快捷方式。

更多详情请阅读:

     <code class="badlink">04.4</code> 
     <code class="badlink">blockwise-visual</code> 
     <code class="badlink">visual-mode</code> 
     <code class="badlink">Q_vi</code> 

                                                                <b class="vimtag"> <a name="faq-15.2">faq-15.2</a> </b>
15.2. 如何删除或修改文件中的一列文本？

可用 Vim 面向列块的可视方式来选择文本列并在其上应用操作符 (删除、修改、复制等
等)。

更多详情请阅读:

     <code class="badlink">visual-block</code> 
     <code class="badlink">visual-operators</code> 

                                                                <b class="vimtag"> <a name="faq-15.3">faq-15.3</a> </b>
15.3. 如何在一组可视选中的行上应用 ex 命令？

在可视模式下选中了行范围时，&lt; 寄存器设为可视区域的开始处而 &gt; 寄存器设为可视区
域的结束处。可用这些寄存器来指定 ex 命令的范围。可视地选择了行后，按 ":" 转到
命令行模式。Vim 会自动插入可视范围 '&lt;,'&gt;。在可视范围上可以运行任何 ex 命令。

更多详情请阅读:

     <code class="badlink">v_:</code> 
     <code class="badlink">'&lt;</code> 
     <code class="badlink">'&gt;</code> 

                                                                <b class="vimtag"> <a name="faq-15.4">faq-15.4</a> </b>
15.4. 如何在可视列块模式选中的文本列上执行 ex 命令？

所有的 ex 命令仅在整行上操作。如果试图在可视列块模式选中的文本列执行 ex 命令，
Vim 会在所有选中的行 (而不是选中的列) 上操作。可用 <a href="https://www.vim.org">https://www.vim.org</a> 脚本归
档里的 vis.vim 或 NrrwRgn 插件脚本来完成。

更多详情请阅读:

     <code class="badlink">cmdline-ranges</code> 
     <code class="badlink">10.3</code> 
     <code class="badlink">cmdline-lines</code> 

                                                                <b class="vimtag"> <a name="faq-15.5">faq-15.5</a> </b>
15.5. 如何用可视模式选择整个文件？

可用 ggVG 在可视模式下选择整个文件。 
<code class="example"></code>
<code class="example">    gg - 转到文件头。</code>
<code class="example">    V  - 启动面向行的可视模式</code>
<code class="example">    G  - 转到文件尾。</code>

更多详情请阅读:

     <code class="badlink">gg</code> 
     <code class="badlink">linewise-visual</code> 
     <code class="badlink">G</code> 

                                                                <b class="vimtag"> <a name="faq-15.6">faq-15.6</a> </b>
15.6. 可视选择一组行并按 &gt; 键缩进选中的行时，可视模式结束。如何才能重新选择区
      域用于将来的操作？(或) 如何才能重新选择最近选中的可视区域？

可用 "gv" 命令来重重新选择最近选中的可视区域。也可用位置标记 '&lt; 和  '&gt; 来跳转
到最近选中可视区域的开始和结束处。

更多详情请阅读:

     <code class="badlink">gv</code> 
     <code class="badlink">'&lt;</code> 
     <code class="badlink">'&gt;</code> 

                                                                <b class="vimtag"> <a name="faq-15.7">faq-15.7</a> </b>
15.7. 如何跳转到可视选择区域的开始/结束处？

可用 "o" 命令来跳转到可视选择区域的开始/结束处。

更多详情请阅读:

     <code class="badlink">v_o</code> 

                                                                <b class="vimtag"> <a name="faq-15.8">faq-15.8</a> </b>
15.8. 用鼠标选择文本并按 : 来输入 ex 命令时，选中的文本被 : 字符替代。如何才能
      用鼠标在选中的文本上执行 ex 命令，就像在可视模式选中的文本那样？

如果配置 Vim 通过 <code class="badlink">'selectmode'</code> 选项来使用选择模式而不是可视模式时，这会发生。
检查此选项的值: 
<code class="example"></code>
<code class="example">    :set selectmode?</code>

此模式被称为选择模式，它和可视模式类似。用 "behave mswin" 命令时自动置位此选
项。选择模式类似于可视模式，但和 MS-Windows 的选择模式更类似。

更多详情请阅读:

     <code class="badlink">Select-mode</code> 
     <code class="badlink">'selectmode'</code> 
     <code class="badlink">09.4</code> 
     <code class="badlink">:behave</code> 

                                                                <b class="vimtag"> <a name="faq-15.9">faq-15.9</a> </b>
15.9. 用鼠标选择文本块时，Vim 进入了选择模式而不是可视模式。为什么？

<code class="badlink">'selectmode'</code> 选项控制用鼠标选择文本块时是否启动可视模式。要在用鼠标选择文本时
启动可视模式，从 <code class="badlink">'selectmode'</code> 选项中删除 "mouse" 值: 
<code class="example"></code>
<code class="example">    :set selectmode-=mouse</code>

<code class="note">注意</code> 缺省情况下，<code class="badlink">'selectmode'</code> 选项设为空，因而总是使用可视模式。

更多详情请阅读:

     <code class="badlink">'selectmode'</code> 
     <code class="badlink">Select-mode</code> 
     <code class="badlink">:behave</code> 

                                                                <b class="vimtag"> <a name="faq-15.10">faq-15.10</a> </b>
15.10. 如何可视地选择最近的复制/粘贴文本？

可用 '[ 和 '] 位置标记来可视地选择最近的复制/粘贴文本。'[ 位置标记设为最近修改
/抽出文本的开始处而 '] 位置标记设为最近修改/抽出文本的结束处。要可视地选择此文
本块，用命令 '[v']

更多详情请阅读:

     <code class="badlink">'[</code> 
     <code class="badlink">']</code> 
     <code class="badlink">`a</code> 
     <code class="badlink">v</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-16">faq-16</a> </b></h4><code class="section">第十六节 - 命令行模式</code>

                                                                <b class="vimtag"> <a name="faq-16.1">faq-16.1</a> </b>
16.1. 如何在命令模式或 ex 命令行上使用当前文件名？

命令行上 "%" 字符代表当前文件名。有些命令需要你用  <code class="badlink">expand("%")</code>  来取得文件
名: 
<code class="example"></code>
<code class="example">    :!perl %</code>

另一例是载入从你正在编辑的文件用 latex 生成的 pdf 文件: 
<code class="example"></code>
<code class="example">    :!xpdf %&lt;.pdf</code>

更多详情请阅读:

     <code class="badlink">:_%</code> 
     <code class="badlink">cmdline-special</code> 
     <code class="badlink">expand()</code> 

                                                                <b class="vimtag"> <a name="faq-16.2">faq-16.2</a> </b>
16.2. 如何有效地在 Vim 命令行上编辑文本？

可用命令行窗口来编辑 Vim 的命令行文本。要打开 Vim 命令行窗口，可在普通模式下用
"q:" 命令。在命令行模式下，用 <code class="keystroke">CTRL-F</code> 键。在此窗口中，会显示命令行历史。可用普
通的 Vim 键/命令来编辑任何之前/新的命令行。要执行某命令行，按 enter/retur
键。

类似地，可用 "q/" 和 "q?" 命令编辑搜索历史。

更多详情请阅读:

     <code class="badlink">cmdline-window</code> 

                                                                <b class="vimtag"> <a name="faq-16.3">faq-16.3</a> </b>
16.3. 如何从 Vi 模式切换到 Ex 模式？

可用 Q 命令来从 Vi 模式切换到 Ex 模式。要从 Ex 模式切换回 Vi 模式，可用  <code class="badlink">:vi</code> 
命令。

更多详情请阅读:

     <code class="badlink">Q</code> 
     <code class="badlink">gQ</code> 
     <code class="badlink">Ex-mode</code> 
     <code class="badlink">:vi</code> 

                                                                <b class="vimtag"> <a name="faq-16.4">faq-16.4</a> </b>
16.4. 如何把 ex 命令的输出复制进缓冲区？

要把 ex 命令的输出复制到缓冲区里，先要把命令输出放进一个寄存器。这可用
 <code class="badlink">:redir</code>  命令来完成。例如， 
<code class="example"></code>
<code class="example">    :redir @a</code>
<code class="example">    :g/HelloWord/p</code>
<code class="example">    :redir END</code>

现在寄存器 "a" 会包含 ex 命令  <code class="badlink">:g/HelloWord/p</code>  的输出，然后你可以把寄存器 "a"
的内容粘贴进缓冲区。也可用  <code class="badlink">:redir</code>  命令把 ex 命令的输出发送或附加到文件。

可给  <code class="badlink">:global</code>  命令加上  <code class="badlink">:silent</code>  前缀，以避免把行显示在屏幕上。

要重定向 ex 命令的输出到文件，可用下列的命令组合: 
<code class="example"></code>
<code class="example">    :redir &gt; myfile</code>
<code class="example">    :g/HelloWord/p</code>
<code class="example">    :redir END</code>

更多详情请阅读:

     <code class="badlink">:redir</code> 
     <code class="badlink">:silent</code> 

                                                                <b class="vimtag"> <a name="faq-16.5">faq-16.5</a> </b>
16.5. 在命令模式下按了 <code class="special">&lt;Tab&gt;</code> 键补全文件名时，如果有多于一个匹配的文件名，Vim
      会用第一个匹配文件名补全并显示所有匹配文件名的列表。如何配置 Vim 只显示
      匹配文件名的列表而不用第一个补全？

可修改 <code class="badlink">'wildmode'</code> 选项来配置 Vim 在命令模式下补全文件名的方式。在这个情况下，
可设置 <code class="badlink">'wildmode'</code> 选项为 "list": 
<code class="example"></code>
<code class="example">    :set wildmode=list</code>

更多详情请阅读:

     <code class="badlink">'wildmode'</code> 

                                                                <b class="vimtag"> <a name="faq-16.6">faq-16.6</a> </b>
16.6. 如何从缓冲区复制文本到命令行，又如何从命令行到缓冲区？

要从缓冲区复制文本到命令行，在从缓冲区抽出文本后，命令行上用 "&lt;<code class="keystroke">CTRL-R</code>&gt;0" 来粘
贴文本。也可抽出文本到指定寄存器并用 <code class="keystroke">CTRL-R</code> <code class="special">&lt;register&gt;</code> 来粘贴文本到命令行。可
用 <code class="keystroke">CTRL-R</code> <code class="keystroke">CTRL-W</code> 来粘贴光标所在的单词到命令行。

要从命令行复制文本到缓冲区，可用 ":p 命令粘贴 : 寄存器的内容。最近执行的命令行
存在 : 寄存器里。

另一个从或到命令行的复制和粘贴文本的办法是用普通模式下的 q: 或命令行模式的
<code class="keystroke">CTRL-F</code> 来打开命令行窗口。命令行窗口里可用所有的 Vim 命令来编辑命令行。

更多详情请阅读:

     <code class="badlink">c_CTRL-R</code> 
     <code class="badlink">quote_:</code> 
     <code class="badlink">cmdline-window</code> 

                                                                <b class="vimtag"> <a name="faq-16.7">faq-16.7</a> </b>
16.7. 如何把命令放进命令历史而不执行它？

要把命令放进命令历史而不执行它，按 <code class="special">&lt;Esc&gt;</code> 取消该命令。

一个替代方法是用 histadd() 函数，就像这样: 
<code class="example"></code>
<code class="example">    :call histadd(':', 'echo strftime("%c")')</code>

更多详情请阅读:

     <code class="badlink">c_&lt;Esc&gt;</code> 
     <code class="badlink">histadd()</code> 

                                                                <b class="vimtag"> <a name="faq-16.8">faq-16.8</a> </b>
16.8. 如何增加命令行的高度？

可修改 <code class="badlink">'cmdheight'</code> 选项来增加命令行的高度: 
<code class="example"></code>
<code class="example">    :set cmdheight=2</code>

更多详情请阅读:

     <code class="badlink">'cmdheight'</code> 
     <code class="badlink">hit-enter</code> 
     <code class="badlink">05.7</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-17">faq-17</a> </b></h4><code class="section">SECTION 17 - VIMINFO </code>

                                                                <b class="vimtag"> <a name="faq-17.1">faq-17.1</a> </b>
17.1. When I invoke Vim, I get error messages about illegal characters in
      the viminfo file. What should I do to get rid of these messages?

You can remove the $HOME/.viminfo or the $HOME/_viminfo file to get rid of
these error messages.

更多详情请阅读:

     <code class="badlink">viminfo-errors</code> 
     <code class="badlink">viminfo-file-name</code> 
     <code class="badlink">viminfo</code> 
     <code class="badlink">21.3</code> 

                                                                <b class="vimtag"> <a name="faq-17.2">faq-17.2</a> </b>
17.2. How do I disable the viminfo feature?

By default, the viminfo feature is disabled. If the viminfo feature is
enabled by a system-wide vimrc file, then you can disable the viminfo
feature by setting the <code class="badlink">'viminfo'</code> option to an empty string in your local
.vimrc file: 
<code class="example"></code>
<code class="example">    :set viminfo=""</code>

更多详情请阅读:

     <code class="badlink">'viminfo'</code> 

                                                                <b class="vimtag"> <a name="faq-17.3">faq-17.3</a> </b>
17.3. How do I save and use Vim marks/commands across Vim sessions?

You can save and restore Vim marks across Vim sessions using the viminfo
file. To use the viminfo file, make sure the <code class="badlink">'viminfo'</code> option is not empty.
To save and restore Vim marks, the <code class="badlink">'viminfo'</code> option should not contain the
"f" flag or should have a value greater than zero for the "f" option.

You can also use the viminfo file to synchronize the commandline history
across different sessions using  <code class="badlink">:wvimfo</code>  and  <code class="badlink">:rviminfo</code>  commands together
with the FocusGained and FocusLost autocommands: 
<code class="example"></code>
<code class="example">    augroup viminfo</code>
<code class="example">        au!</code>
<code class="example">        au FocusLost   * wviminfo</code>
<code class="example">        au FocusGained * rviminfo</code>
<code class="example">    augroup end</code>

Note, this will only work reliably, when Vim can detect the FocusLost
and FocusGained autocommands correctly. This means it should work with
GVim but might depend on your terminal for konsole vim.

更多详情请阅读:

     <code class="badlink">21.3</code> 
     <code class="badlink">viminfo</code> 
     <code class="badlink">'viminfo'</code> 
     <code class="badlink">:wviminfo</code> 
     <code class="badlink">:rviminfo</code> 
     <code class="badlink">FocusLost</code> 
     <code class="badlink">FocusGained</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-18">faq-18</a> </b></h4><code class="section">SECTION 18 - REMOTE EDITING </code>

                                                                <b class="vimtag"> <a name="faq-18.1">faq-18.1</a> </b>
18.1. How do I open a file with existing instance of gvim? What happened to
      the Vim 5.x OpenWithVim.exe and SendToVim.exe files?

Starting with Vim6, the OLE version of OpenWithVim.exe and SendToVim.exe
Vim utilities are replaced by the new client-server feature. To open the
file j.txt with an existing instance of Gvim (MyVim), use: 
<code class="example"></code>
<code class="example">    $ gvim --servername MyVim --remote-silent j.txt</code>

To list the server names of all the currently running Vim instances, use 
<code class="example"></code>
<code class="example">    $ vim --serverlist</code>

To get more information about client-server feature, read

     <code class="badlink">client-server</code> 

                                                                <b class="vimtag"> <a name="faq-18.2">faq-18.2</a> </b>
18.2. How do I send a command to a Vim server to write all buffers to disk?

You can use the Vim remote server functionality to do this: 
<code class="example"></code>
<code class="example">    $ gvim --servername myVIM --remote-send "&lt;C-\&gt;&lt;C-N&gt;:wall&lt;CR&gt;"</code>

更多详情请阅读:

     <code class="badlink">client-server</code> 
     <code class="badlink">CTRL-\_CTRL-N</code> 
     <code class="badlink">:wall</code> 

                                                                <b class="vimtag"> <a name="faq-18.3">faq-18.3</a> </b>
18.3. Where can I get the documentation about the Vim remote server
      functionality?

You can get more information about the Vim remote server functionality by
reading

     <code class="badlink">client-server</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-19">faq-19</a> </b></h4><code class="section">SECTION 19 - OPTIONS </code>

                                                                <b class="vimtag"> <a name="faq-19.1">faq-19.1</a> </b>
19.1. How do I configure Vim in a simple way?

You can use the  <code class="badlink">:options</code>  command to open the Vim option window: 
<code class="example"></code>
<code class="example">    :options</code>

This window can be used for viewing and setting all the options.

更多详情请阅读:

     <code class="badlink">:options</code> 

                                                                <b class="vimtag"> <a name="faq-19.2">faq-19.2</a> </b>
19.2. How do I toggle the value of an option?

You can prefix the option with "inv" to toggle the value of the option: 
<code class="example"></code>
<code class="example">    :set invignorecase</code>
<code class="example">    :set invhlsearch</code>

You can also suffix the option with "!" to toggle the value: 
<code class="example"></code>
<code class="example">    :set ignorecase!</code>
<code class="example">    :set hlsearch!</code>

更多详情请阅读:

     <code class="badlink">set-option</code> 

                                                                <b class="vimtag"> <a name="faq-19.3">faq-19.3</a> </b>
19.3. How do I set an option that affects only the current buffer/window?

Some of the Vim options can have a local or global value. A local value
applies only to a specific buffer or window. A global value applies to all
the buffers or windows.

When a Vim option is modified using the  <code class="badlink">:set</code>  command, both the global and
local values for the option are changed. You can use the  <code class="badlink">:setlocal</code> 
command to modify only the local value for the option and the  <code class="badlink">:setglobal</code> 
command to modify only the global value.

You can use the  <code class="badlink">:setlocal</code>  command to set an option that will affect only
the current file/buffer: 
<code class="example"></code>
<code class="example">    :setlocal textwidth=70</code>

<code class="note">Note </code>that not all options can have a local value. You can use  <code class="badlink">:setlocal</code> 
command to set an option locally to a buffer/window only if the option is
allowed to have a local value.

You can also use the following command to set an option locally: 
<code class="example"></code>
<code class="example">    :let &amp;l:{option-name} = &lt;value&gt;</code>

更多详情请阅读:

     <code class="badlink">:setlocal</code> 
     <code class="badlink">local-options</code> 

                                                                <b class="vimtag"> <a name="faq-19.4">faq-19.4</a> </b>
19.4. How do I use space characters for a Vim option value?

To use space characters in a Vim option value, you have to escape the space
character. For example: 
<code class="example"></code>
<code class="example">    :set tags=tags\ /usr/tags</code>

更多详情请阅读:

     <code class="badlink">option-backslash</code> 

                                                                <b class="vimtag"> <a name="faq-19.5">faq-19.5</a> </b>
19.5. Can I add (embed) Vim option settings to the contents of a file?

You can use modelines to add Vim option settings to the contents of a file.
For example, in a C file, you can add the following line to the top or the
bottom of the file: 
<code class="example"></code>
<code class="example">    /* vim:sw=4: */</code>

This will set the <code class="badlink">'shiftwidth'</code> option to 4, when editing that C file.
For this to work, the <code class="badlink">'modeline'</code> option should be set. By default, the
<code class="badlink">'modeline'</code> option is set. An alternative example is given in this document
in the first line.

The <code class="badlink">'modelines'</code> settings specifies the number of
lines that will be checked for the Vim set commands.

更多详情请阅读:

     <code class="badlink">21.6</code> 
     <code class="badlink">modeline</code> 
     <code class="badlink">auto-setting</code> 
     <code class="badlink">'modeline'</code> 
     <code class="badlink">'modelines'</code> 

                                                                <b class="vimtag"> <a name="faq-19.6">faq-19.6</a> </b>
19.6. How do I display the line numbers of all the lines in a file?

You can set the <code class="badlink">'number'</code> option to display the line numbers for all the
lines. 
<code class="example"></code>
<code class="example">    :set number</code>

更多详情请阅读:

     <code class="badlink">'number'</code> 

                                                                <b class="vimtag"> <a name="faq-19.7">faq-19.7</a> </b>
19.7. How do I change the width of the line numbers displayed using the
      <code class="badlink">'number'</code> option?

You can set the minimum number of columns to be used for line numbering by
setting the <code class="badlink">'numberwidth'</code> option: 
<code class="example"></code>
<code class="example">    :set numberwidth=3</code>

This set's the width for the line number to 3 digits, which is enough, if
your buffer contains less than 999 lines. However, if your current buffer
contains more lines than 999, the <code class="badlink">'numberwidth'</code> will be adjusted accordingly,
so that the maximum line number will fit on the screen.

                                                                <b class="vimtag"> <a name="faq-19.8">faq-19.8</a> </b>
19.8. How do I display (view) all the invisible characters like space, tabs
      and newlines in a file?

You can set the <code class="badlink">'list'</code> option to see all the invisible characters in your
file. 
<code class="example"></code>
<code class="example">    :set list</code>

With this option set, you can view space characters, tabs, newlines,
trailing space characters and wrapped lines.

To not display the invisible characters (which is the default), you have to
reset the <code class="badlink">'list'</code> option: 
<code class="example"></code>
<code class="example">    :set nolist</code>
<code class="example">    (or)</code>
<code class="example">    :set list!</code>

The `:set list!` command will toggle the current setting of the boolean
<code class="badlink">'list'</code> option.

You can modify the <code class="badlink">'listchars'</code> option to configure how and which invisible
characters are displayed. For example, with the following command all the
trailing space characters will be displayed with a "." character. 
<code class="example"></code>
<code class="example">    :set listchars=trail:.</code>

更多详情请阅读:

     <code class="badlink">'listchars'</code> 
     <code class="badlink">'list'</code> 

                                                                <b class="vimtag"> <a name="faq-19.9">faq-19.9</a> </b>
19.9. How do I configure Vim to always display the current line and column
      number?

You can set the <code class="badlink">'ruler'</code> option to display current column and line number in
the status line: 
<code class="example"></code>
<code class="example">    :set ruler</code>

更多详情请阅读:

     <code class="badlink">'ruler'</code> 

                                                                <b class="vimtag"> <a name="faq-19.10">faq-19.10</a> </b>
19.10. How do I display the current Vim mode?

You can set the <code class="badlink">'showmode'</code> option to display the current Vim mode. In
Insert, Replace and Visual modes, Vim will display the current mode on the
last line. 
<code class="example"></code>
<code class="example">    :set showmode</code>

更多详情请阅读:

     <code class="badlink">'showmode'</code> 

                                                                <b class="vimtag"> <a name="faq-19.11">faq-19.11</a> </b>
19.11. How do I configure Vim to show pending/partial commands on the
       status line?

You can set the <code class="badlink">'showcmd'</code> option to display pending/partial commands in the
status line: 
<code class="example"></code>
<code class="example">    :set showcmd</code>

更多详情请阅读:

     <code class="badlink">'showcmd'</code> 

                                                                <b class="vimtag"> <a name="faq-19.12">faq-19.12</a> </b>
19.12. How do I configure the Vim status line to display different
       settings/values?

You can set the <code class="badlink">'statusline'</code> option to display different values/settings in
the Vim status line.

更多详情请阅读:

     <code class="badlink">'statusline'</code> 
     <code class="badlink">'laststatus'</code> 
     <code class="badlink">'rulerformat'</code> 
     <code class="badlink">'ruler'</code> 

                                                                <b class="vimtag"> <a name="faq-19.13">faq-19.13</a> </b>
19.13. How do I configure Vim to display status line always?

You can set the <code class="badlink">'laststatus'</code> option to 2 to display the status line always. 
<code class="example"></code>
<code class="example">    :set laststatus=2</code>

更多详情请阅读:

     <code class="badlink">'laststatus'</code> 

                                                                <b class="vimtag"> <a name="faq-19.14">faq-19.14</a> </b>
19.14. How do I make a Vim setting persistent across different Vim
       invocations/instances/sessions?

To make a Vim option setting persistent across different Vim instances, add
your setting to the .vimrc or .gvimrc file. You can also use the  <code class="badlink">:mkvimrc</code> 
command to generate a vimrc file for the current settings.

更多详情请阅读:

     <code class="badlink">save-settings</code> 
     <code class="badlink">vimrc</code> 
     <code class="badlink">gvimrc</code> 
     <code class="badlink">vimrc-intro</code> 
     <code class="badlink">:mkvimrc</code> 
     <code class="badlink">initialization</code> 

                                                                <b class="vimtag"> <a name="faq-19.15">faq-19.15</a> </b>
19.15. Why do I hear a beep (why does my window flash) about 1 second after
       I hit the Escape key?

This is normal behavior. If your window flashes, then you've got the visual
bell on. Otherwise, you should hear a beep.

Vim needs a timeout to tell the difference between a simple escape and,
say, a cursor key sequence.  When you press a key in normal mode (and even
in insert mode) and that key is the beginning of a mapping, Vim waits a
certain amount of time to see if the rest of the mapping sequence follows.
If the mapping sequence is completed before a given timeout period, the
mapping for that sequence of keys is applied. If you interrupt the mapping,
the normal actions associated with the keys are executed.

For example, if you have a mapping defined as `:imap vvv Vim is great!!`
and you type "vvv" quickly, the "Vim is great!!" will be inserted into your
text. But if you type "vv v" then that is what will put into your text.
This is also true if you type "vvv" too slowly where "too slowly" is longer
than the value for the timeout option. Setting the timeout option to a
larger value can help alleviate problems that appear when using function
keys over a slow line.

更多详情请阅读:

     <code class="badlink">'ttimeout'</code> 

                                                                <b class="vimtag"> <a name="faq-19.16">faq-19.16</a> </b>
19.16. How do I make the "c" and "s" commands display a "$" instead of
       deleting the characters I'm changing?

To make the "c" and "s" commands display a "$" instead of deleting the
characters, add the $ flag to the <code class="badlink">'cpoptions'</code> option: 
<code class="example"></code>
<code class="example">    :set cpoptions+=$</code>

更多详情请阅读:

     <code class="badlink">'cpoptions'</code> 

                                                                <b class="vimtag"> <a name="faq-19.17">faq-19.17</a> </b>
19.17. How do I remove more than one flag using a single  <code class="badlink">:set</code>  command
       from a Vim option?

You can remove more than one flag from a Vim option using a single  <code class="badlink">:set</code> 
command, by specifying the flags in exactly the same order as they appear
in the option. For example, if you use the following command to remove the
"t" and "n" flags from the <code class="badlink">'formatoptions'</code> option: 
<code class="example"></code>
<code class="example">    :set formatoptions-=tn</code>

The "t" and "n" flags will be removed from the <code class="badlink">'formatoptions'</code> option, only
if the <code class="badlink">'formatoptions'</code> option contains these flags in this order: "tn".
Otherwise, it will not remove the flags. To avoid this problem, you can
remove the flags one by one: 
<code class="example"></code>
<code class="example">    :set formatoptions-=t formatoptions-=n</code>

更多详情请阅读:

     <code class="badlink">:set-=</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-20">faq-20</a> </b></h4><code class="section">SECTION 20 - MAPPING KEYS </code>

                                                                <b class="vimtag"> <a name="faq-20.1">faq-20.1</a> </b>
20.1. How do I know what a key is mapped to?

To see what a key is mapped to, use the following commands: 
<code class="example"></code>
<code class="example">    :map &lt;key&gt;</code>
<code class="example">    :map! &lt;key&gt;</code>

You can also check the mappings in a particular mode using one of the
 <code class="badlink">:cmap</code> ,  <code class="badlink">:nmap</code> ,  <code class="badlink">:vmap</code> ,  <code class="badlink">:imap</code> ,  <code class="badlink">:omap</code> , etc commands.

To find out, where the key has been mapped, prefix the  <code class="badlink">:verbose</code>  command: 
<code class="example"></code>
<code class="example">    :verbose :map &lt;key&gt;</code>

更多详情请阅读:

     <code class="badlink">map-listing</code> 
     <code class="badlink">map-overview</code> 

                                                                <b class="vimtag"> <a name="faq-20.2">faq-20.2</a> </b>
20.2. How do I list all the user-defined key mappings?

You can list all the user-defined key mappings using: 
<code class="example"></code>
<code class="example">    :map</code>

更多详情请阅读:

     <code class="badlink">map-listing</code> 

                                                                <b class="vimtag"> <a name="faq-20.3">faq-20.3</a> </b>
20.3. How do I unmap a previously mapped key?

You can unmap a previously mapped key using the  <code class="badlink">:unmap</code>  command: 
<code class="example"></code>
<code class="example">    :unmap &lt;key&gt;</code>
<code class="example">    :unmap! &lt;key&gt;</code>

For mode specific mappings, you can use one of the these commands: 
<code class="example"></code>
<code class="example">    :nunmap</code>
<code class="example">    :vunmap</code>
<code class="example">    :ounmap</code>
<code class="example">    :iunmap</code>
<code class="example">    :lunmap</code>
<code class="example">    :cunmap</code>

The following command will fail to unmap a buffer-local mapped key: 
<code class="example"></code>
<code class="example">    :unmap &lt;key&gt;</code>

To unmap a buffer-local mapped key, you have to use the <code class="special">&lt;buffer&gt;</code> keyword in
the unmap command: 
<code class="example"></code>
<code class="example">    :unmap &lt;buffer&gt; &lt;key&gt;</code>
<code class="example">    :unmap! &lt;buffer&gt; &lt;key&gt;</code>

更多详情请阅读:

     <code class="badlink">:unmap</code> 
     <code class="badlink">map-modes</code> 
     <code class="badlink">:map-local</code> 
     <code class="badlink">mapleader</code> 

                                                                <b class="vimtag"> <a name="faq-20.4">faq-20.4</a> </b>
20.4. I am not able to create a mapping for the <code class="special">&lt;xxx&gt;</code> key. What is wrong?

1) First make sure, the key is passed correctly to Vim. To determine if
   this is the case, put Vim in Insert mode and then hit <code class="keystroke">CTRL-V</code> (or
   <code class="keystroke">CTRL-Q</code> if your <code class="keystroke">CTRL-V</code> is remapped to the paste operation (e.g. on
   Windows if you are using the mswin.vim script file) followed by your
   key.

   If nothing appears in the buffer (and assuming that you have
   <code class="badlink">'showcmd'</code> on, ^V remains displayed near the bottom right of the Vim
   screen), then Vim doesn't get your key correctly and there is nothing
   to be done, other than selecting a different key for your mapping or
   using GVim, which should recognise the key correctly.

2) Possibly, Vim gets your key, but sees it as no different than
   something else. Say you want to map <code class="special">&lt;Ctrl-Right&gt;</code>, then in Insert mode
   hit <code class="keystroke">CTRL-K</code> followed by <code class="special">&lt;Ctrl-Right&gt;</code>. If Vim displays <code class="special">&lt;C-Right&gt;</code> it has
   correctly seen the keystroke and you should be able to map it (by
   using <code class="special">&lt;C-Right&gt;</code> as your <code class="special">{lhs}</code>). If it displays <code class="special">&lt;Right&gt;</code> it has seen
   the keystroke but as if you hadn't held <code class="special">&lt;Ctrl&gt;</code> down: this means your
   temrinal passes <code class="special">&lt;Ctrl-Right&gt;</code> as if it were just <code class="special">&lt;Right&gt;</code>. Anything else
   means the key has been misidentified.

3) If the key is seen, but not as itself and not as some recognizable
   key, then there is probably an error in the terminal library for the
   current terminal (termcap or terminfo database). In that case 
<code class="example"></code>
<code class="example">        :set term?</code>

   will tell you which termcap or terminfo Vim is using. You can try to
   tell vim, what termcode to use in that terminal, by adding the
   following to your vimrc: 
<code class="example"></code>
<code class="example">        if &amp;term == &lt;termname&gt;</code>
<code class="example">            set &lt;C-Right&gt;=&lt;keycode&gt;</code>
<code class="example">        endif</code>

   where <code class="special">&lt;termname&gt;</code> above should be replaced by the value of <code class="badlink">'term'</code>
   (with quotes around it) and <code class="special">&lt;keycode&gt;</code> by what you get when hitting
   <code class="keystroke">CTRL-V</code> followed by <code class="special">&lt;Ctrl-Right&gt;</code> in Insert mode (with nothing around
   it). <code class="special">&lt;C-Right&gt;</code> should be left as-is (9 characters). Don't forget that
   in a  <code class="badlink">:set</code>  command, white space is not allowed between the equal sign
   and the value, and any space, double quote, vertical bar or backslash
   present as part of the value must be backslash-escaped.

   Now you should be able to see the keycode corresponding to the key
   and you can create a mapping for the key using the following command: 
<code class="example"></code>
<code class="example">        :map &lt;C-Right&gt;  &lt;your_command_to_be_mapped&gt;</code>

更多详情请阅读:

     <code class="badlink">map-keys-fails</code> 
     <code class="badlink">:map-special-keys</code> 
     <code class="badlink">key-codes</code> 

                                                                <b class="vimtag"> <a name="faq-20.5">faq-20.5</a> </b>
20.5. Why does mapping the &lt;C-...&gt; key not work?

The only <code class="special">&lt;Ctrl&gt;</code>-<code class="special">&lt;printable-key&gt;</code> chords which Vim can reliably detect
(because they are defined in the ASCII standard) are the following: 
<code class="example"></code>
<code class="example">        CTRL-@                 0x00            NUL</code>
<code class="example">        CTRL-A to CTRL-Z       0x01 to 0x1A</code>
<code class="example">        CTRL-a to CTRL-z       0x01 to 0x1A</code>
<code class="example">        CTRL-[                 0x1B            ESC</code>
<code class="example">        CTRL-\                 0x1C</code>
<code class="example">        CTRL-]                 0x1D</code>
<code class="example">        CTRL-^                 0x1E</code>
<code class="example">        CTRL-_                 0x1F</code>
<code class="example">        CTRL-?                 0x7F            DEL</code>

Most of these, however, already have a function in Vim (and some are
aliases of other keys: <code class="keystroke">CTRL-H</code> and <code class="special">&lt;BS&gt;</code>, <code class="keystroke">CTRL-I</code> and <code class="special">&lt;Tab&gt;</code>, <code class="keystroke">CTRL-M</code> and <code class="special">&lt;Enter&gt;</code>,
<code class="keystroke">CTRL-[</code> and <code class="special">&lt;Esc&gt;</code>, <code class="keystroke">CTRL-?</code> and <code class="special">&lt;Del&gt;</code>).

The "safest" keys to use in Vim for the <code class="special">{lhs}</code> of a mapping are the F
keys, with or without Shift: <code class="special">&lt;F2&gt;</code> to <code class="special">&lt;F12&gt;</code> and <code class="special">&lt;S-F1&gt;</code> to <code class="special">&lt;S-F12&gt;</code>. (Some
OSes, including mine, intercept <code class="special">&lt;Ctrl-Fn&gt;</code> and <code class="special">&lt;Alt-Fn&gt;</code>, which never reach an
application program such as vim or gvim).

You can try other combinations of <code class="special">&lt;Ctrl&gt;</code> + any key, but they may either
not work everywhere (e.g. the terminal might not pass that key to Vim,
or they might have unintended side effects (e.g. mapping <code class="special">&lt;C-I&gt;</code> means
also to map <code class="special">&lt;Tab&gt;</code>).

This is a known issue, that has been discussed and might be implemented
in the future to enable Vim to distinguish between various keys even in
console mode. (e.g.
<a href="https://groups.google.com/d/msg/vim_dev/2bp9UdfZ63M/sajb9KM0pNYJ">https://groups.google.com/d/msg/vim_dev/2bp9UdfZ63M/sajb9KM0pNYJ</a>)

                                                                <b class="vimtag"> <a name="faq-20.6">faq-20.6</a> </b>
20.6. How do I map the numeric keypad keys?

First make sure that the numeric keypad keys are passed to Vim. Next, you
can use the following command to map the numeric keypad keys: 
<code class="example"></code>
<code class="example">    :map &lt;kSomething&gt;  &lt;your_command&gt;</code>

where, <code class="special">&lt;kSomething&gt;</code> can be kHome, kEnd, kPageUp, kPageDown, kPlus, kMinus,
kDivide, kMultiply, kEnter, etc.

更多详情请阅读:

     <code class="badlink">key-codes</code> 
     <code class="badlink">terminal-options</code> 

                                                                <b class="vimtag"> <a name="faq-20.7">faq-20.7</a> </b>
20.7. How do I create a mapping that works only in visual mode?

You can create mappings that work only in specific modes (normal, command,
insert, visual, etc). To create a mapping that works only in the visual
mode, use the  <code class="badlink">:vmap</code>  command: 
<code class="example"></code>
<code class="example">    :vmap &lt;F3&gt; &lt;your mapping here&gt;</code>

This mapping will work in visual and select mode. If you want the map to
work only in visual mode (excluding select mode), use:
 
<code class="example"></code>
<code class="example">    :xmap &lt;F3&gt; &lt;your mapping here&gt;</code>

and to have the mapping only work in select mode (but not visual mode),
use: 
<code class="example"></code>
<code class="example">    :smap &lt;F3&gt; &lt;your mapping here&gt;</code>

更多详情请阅读:

     <code class="badlink">:vmap</code> 
     <code class="badlink">:xmap</code> 
     <code class="badlink">:smap</code> 
     <code class="badlink">map-modes</code> 
     <code class="badlink">40.1</code> 

                                                                <b class="vimtag"> <a name="faq-20.8">faq-20.8</a> </b>
20.8. How do I create a mapping that works only in normal and operator
   pending mode (but not in visual mode)?

Using  <code class="badlink">:map</code>  creates a mapping that works in normal, visual+select mode and
operator pending mode. You can use  <code class="badlink">:nmap</code>  to have the mapping only work in
normal mode and  <code class="badlink">:vmap</code>  to have the mapping only be defined for visual and
select mode or use  <code class="badlink">:omap</code>  to have the mapping only defined in operator
pending mode.

But if you want to have a mapping defined, that works in both operator
pending mode and normal mode, but not in visual and select mode, you need
to first define the mapping using  <code class="badlink">:map</code>  and afterwards delete the mapping
for visual and select mode:

        :map <code class="special">&lt;f3&gt;</code> &lt;your mapping here&gt;
        :vunmap <code class="special">&lt;f3&gt;</code>

                                                                <b class="vimtag"> <a name="faq-20.9">faq-20.9</a> </b>
20.9. In a Vim script, how do I know which keys to use for my mappings, so
      that the mapped key will not collide with an already used key?

Vim uses most of the keys in the keyboard. You can use the <code class="special">&lt;leader&gt;</code> prefix
in maps to define keys which will not overlap with Vim keys. For example: 
<code class="example"></code>
<code class="example">    :map &lt;leader&gt;S &lt;C-W&gt;s</code>
<code class="example">    :map &lt;leader&gt;j &lt;C-W&gt;j</code>
<code class="example">    :map &lt;leader&gt;k &lt;C-W&gt;k</code>

where by default <code class="special">&lt;leader&gt;</code> gets substituted with a backslash (\), so the
user would enter 
<code class="example"></code>
<code class="example">        \s</code>
<code class="example">        \j</code>
<code class="example">        \k</code>

to invoke the above map commands. The user can change the mapleader
variable to be whatever they wanted: 
<code class="example"></code>
<code class="example">    :let mapleader = ","</code>

When writing a plugin or other script, more often than not, it is advisable
to use  <code class="badlink">:noremap</code>  instead of  <code class="badlink">:map</code>  to avoid side effects from user defined
mappings.

更多详情请阅读:

     <code class="badlink">&lt;Leader&gt;</code> 
     <code class="badlink">&lt;LocalLeader&gt;</code> 
     <code class="badlink">write-plugin</code> 

                                                                <b class="vimtag"> <a name="faq-20.10">faq-20.10</a> </b>
20.10. How do I map the escape key?

You can map the Escape key to some other key using the  <code class="badlink">:map</code>  command. For
example, the following command maps the escape key to <code class="keystroke">CTRL-O</code>. 
<code class="example"></code>
<code class="example">    :map &lt;C-O&gt; &lt;Esc&gt;</code>

                                                                <b class="vimtag"> <a name="faq-20.11">faq-20.11</a> </b>
20.11. How do I map a key to perform nothing?

You can map a key to <code class="special">&lt;Nop&gt;</code> to perform nothing when the key is pressed. For
example, with the following mappings, the <code class="special">&lt;F7&gt;</code> key will do nothing when
pressed. 
<code class="example"></code>
<code class="example">    :map &lt;F7&gt; &lt;Nop&gt;</code>
<code class="example">    :map! &lt;F7&gt; &lt;Nop&gt;</code>

更多详情请阅读:

     <code class="badlink">&lt;Nop&gt;</code> 
     <code class="badlink">:map</code> 
     <code class="badlink">:map!</code> 
     <code class="badlink">map-modes</code> 

                                                                <b class="vimtag"> <a name="faq-20.12">faq-20.12</a> </b>
20.12. I want to use the <code class="special">&lt;Tab&gt;</code> key to indent a block of text and <code class="special">&lt;Shift-Tab&gt;</code>
       key to unindent a block of text. How do I map the keys to do this?
       This behavior is similar to textpad, visual studio, etc.

Use the following mapping: 
<code class="example"></code>
<code class="example">    :inoremap &lt;S-Tab&gt; &lt;C-O&gt;&lt;lt&gt;&lt;lt&gt;</code>
<code class="example">    :nnoremap &lt;Tab&gt; &gt;&gt;</code>
<code class="example">    :nnoremap &lt;S-Tab&gt; &lt;lt&gt;&lt;lt&gt;</code>
    :vnoremap <code class="special">&lt;Tab&gt;</code> 
<code class="example">    :vnoremap &lt;S-Tab&gt; &lt;lt&gt;</code>

Note, that the <code class="special">&lt;S-Tab&gt;</code> mapping will work only if Vim receives the correct
key sequence. This is mostly the case with GUI Vim.

更多详情请阅读:

     <code class="badlink">:inoremap</code> 
     <code class="badlink">:nnoremap</code> 
     <code class="badlink">:vnoremap</code> 
     <code class="badlink">&lt;S-Tab&gt;</code> 
     <code class="badlink">i_CTRL-O</code> 
     <code class="badlink">&gt;&gt;</code> 
     <code class="badlink">&lt;&lt;</code> 
     <code class="badlink">&lt;lt&gt;</code> 

                                                                <b class="vimtag"> <a name="faq-20.13">faq-20.13</a> </b>
20.13. In my mappings the special characters like <code class="special">&lt;CR&gt;</code> are not recognized.
       How can I configure Vim to recognize special characters?

Check the value of the <code class="badlink">'cpoptions'</code> option: 
<code class="example"></code>
<code class="example">    :set cpoptions?</code>

If this option contains the "&lt;" flag, then special characters will not be
recognized in mappings. Remove the "&lt;" flag from <code class="badlink">'cpoptions'</code> option: 
<code class="example"></code>
<code class="example">    :set cpo-=&lt;</code>

Also, check the value of the <code class="badlink">'compatible'</code> option: 
<code class="example"></code>
<code class="example">    :set compatible?</code>

The <code class="badlink">'compatible'</code> option must be reset: 
<code class="example"></code>
<code class="example">    :set nocompatible</code>

更多详情请阅读:

     <code class="badlink">'cpoptions'</code> 
     <code class="badlink">'compatible'</code> 

                                                                <b class="vimtag"> <a name="faq-20.14">faq-20.14</a> </b>
20.14. How do I use the "|" to separate multiple commands in a map?

You can escape the "|" character using backslash (\) to use "|" in a map. 
<code class="example"></code>
<code class="example">    :map _l :!ls \| more&lt;CR&gt;</code>

You can also try the following command: 
<code class="example"></code>
<code class="example">    :map _l :!ls &lt;bar&gt; more&lt;CR&gt;</code>

There are also other ways to do this.

更多详情请阅读:

     <code class="badlink">map_bar</code> 

                                                                <b class="vimtag"> <a name="faq-20.15">faq-20.15</a> </b>
20.15. If I have a mapping/abbreviation whose ending is the beginning of
       another mapping/abbreviation, how do I keep the first from expanding
       into the second one?

Instead of using the `:map lhs rhs` command, use the `:noremap lhs rhs`
command. For abbreviations, use "noreabbrev lhs rhs". The "nore" prefix
prevents the mapping or abbreviation from being expanded again.

更多详情请阅读:

     <code class="badlink">:noremap</code> 
     <code class="badlink">:noreabbrev</code> 

                                                                <b class="vimtag"> <a name="faq-20.16">faq-20.16</a> </b>
20.16. Why does it take a second or more for Vim to process a key,
       sometimes when I press a key?

Make sure you have not defined a mapping for this key using the following
command: 
<code class="example"></code>
<code class="example">    :map &lt;key&gt;</code>

If a mapping is defined for this key and the mapped key contains more than
one character, then Vim will wait for the next character to be pressed to
determine whether it is the mapped key or not. For example, if you have
mapped "ab", then if you press "a", Vim will wait for the next key to be
pressed. If the next key is "b", Vim will execute the mapped sequence.
Otherwise, Vim will proceed with the normal processing of "a" followed by
the next key. If the <code class="badlink">'timeout'</code> option is set (which is the default), then
Vim will timeout after waiting for the period specified with the
<code class="badlink">'timeoutlen'</code> option (default is 1 second).

更多详情请阅读:

     <code class="badlink">map-typing</code> 
     <code class="badlink">'timeoutlen'</code> 
     <code class="badlink">'ttimeoutlen'</code> 
     <code class="badlink">'timeout'</code> 
     <code class="badlink">'ttimeout'</code> 
     <code class="badlink">vt100-cursor-keys</code> 
     <code class="badlink">slow-fast-terminal</code> 

                                                                <b class="vimtag"> <a name="faq-20.17">faq-20.17</a> </b>
20.17. How do I map a key to run an external command using a visually
       selected text?

You can the  <code class="badlink">:vmap</code>  command to map a key in the visual mode. In the mapped
command sequence, you have to first yank the text. The yanked text is
available in the '"' register. Now, you can use the contents of this
register to run the external command. For example, to run the external
command "perldoc" on a visually selected text, you can use the following
mapping: 
<code class="example"></code>
<code class="example">    :vmap &lt;F7&gt; y:!exec "!perldoc '" . @" . "'"&lt;CR&gt;</code>

If you want the mapping to work in the visual mode, but not with the
highlighted text, you can use the following command: 
<code class="example"></code>
<code class="example">    :vmap &lt;F7&gt; :&lt;C-U&gt;!perldoc &lt;cword&gt;&lt;CR&gt;</code>

The above mapping will use the word under the cursor instead of the
highlighted text. <code class="note">Note </code>the use of the <code class="special">&lt;C-U&gt;</code> before invoking the "perldoc"
external command. The <code class="special">&lt;C-U&gt;</code> is used to erase the range of text selected in
the visual mode and displayed on the command line. If the visual range is
not removed using <code class="special">&lt;C-U&gt;</code>, then the output from the external command will
replace the visually selected text.

更多详情请阅读:

     <code class="badlink">:vmap</code> 
     <code class="badlink">quote_quote</code> 
     <code class="badlink">:let-register</code> 
     <code class="badlink">c_CTRL-U</code> 
     <code class="badlink">:!cmd</code> 

                                                                <b class="vimtag"> <a name="faq-20.18">faq-20.18</a> </b>
20.18. How do I map the <code class="keystroke">CTRL-I</code> key while still retaining the functionality
       of the <code class="special">&lt;Tab&gt;</code> key?

The <code class="keystroke">CTRL-I</code> key and the <code class="special">&lt;Tab&gt;</code> key produce the same keycode, so Vim cannot
distinguish between the <code class="keystroke">CTRL-I</code> and the <code class="special">&lt;Tab&gt;</code> key. When you map the <code class="keystroke">CTRL-I</code>
key, the <code class="special">&lt;Tab&gt;</code> key is also mapped (and vice versa). The same restriction
applies for the <code class="keystroke">CTRL-[</code> key and the <code class="special">&lt;Esc&gt;</code> key.

更多详情请阅读:

     <code class="badlink">keycodes</code> 

                                                                <b class="vimtag"> <a name="faq-20.19">faq-20.19</a> </b>
20.19. How do I define a map to accept a count?

Use the @= command to use an expression. For example, 
<code class="example"></code>
<code class="example">    nnoremap = @='3l'</code>

Now you can specify a count to the "=" command.

     <code class="badlink">complex-repeat</code> 

                                                                <b class="vimtag"> <a name="faq-20.20">faq-20.20</a> </b>
20.20. How can I make my normal mode mapping work from within Insert
       Mode?

Mappings in normal mode can be executed after <code class="keystroke">CTRL-O</code> from insert mode as
well but if there are more commands included in the mapping <code class="special">{rhs}</code>, only the
first one will be executed in normal mode and the rest of <code class="special">{rhs}</code> will be
printed literally in insert mode. One of ways to workaround this problem is
to make <code class="special">{rhs}</code> be one command, via wrapping it to the function. For example: 
<code class="example"></code>
<code class="example">    function GetFontNameOfFirstChar()</code>
<code class="example">    normal! 0</code>
<code class="example">    echo getfontname()</code>
<code class="example">    endfunction</code>

    :nmap <code class="special">&lt;F9&gt;</code> :call GetFontNameOfFirstChar()<code class="special">&lt;CR&gt;</code>

A more technical and detailed solution to this problem follows and can
be found at <a href="https://groups.google.com/group/vim_dev/msg/75f1f2dfc00908bb">https://groups.google.com/group/vim_dev/msg/75f1f2dfc00908bb</a>

Not every normal mode-mapping is automatically suitable for execution via
<code class="keystroke">CTRL-O</code> from within insert mode; you need to explicitly design your mappings
for that purpose.

The <code class="keystroke">CTRL-O</code> command allows execution of one normal mode command from
within insert mode, then returns to insert mode. If a normal mode mapping
concatenates multiple normal mode commands, this breaks down in temporary
normal mode and literally inserts the second part of the command into the
buffer instead. To support execution of normal mode mappings from within
insert mode, these strategies can be used:

1) Instead of concatenating multiple normal mode commands, use one  <code class="badlink">:normal</code> 
    mapping: 
<code class="example"></code>
<code class="example">    :nnoremap &lt;silent&gt; zC :&lt;C-U&gt;normal! zCVzC&lt;CR&gt;</code>

2) Concatenate multiple Ex commands via <code class="special">&lt;Bar&gt;</code> on the rhs: 
<code class="example"></code>
<code class="example">    :nnoremap zC :&lt;C-U&gt;call MyMap1()&lt;Bar&gt;call MyMap2()&lt;CR&gt;</code>

3) Shadow normal mode mappings by insert mode mappings that
    re-enter normal mode, then invoke the normal mode mapping: 
<code class="example"></code>
<code class="example">    :nnoremap &lt;silent&gt; &lt;SID&gt;MyMap2 :&lt;C-U&gt;call MyMap2()&lt;CR&gt;</code>
<code class="example">    :inoremap &lt;silent&gt; &lt;script&gt; &lt;SID&gt;MyMap2 &lt;C-\&gt;&lt;C-O&gt;&lt;SID&gt;MyMap2</code>
<code class="example">    :nnoremap &lt;silent&gt; &lt;script&gt; zC &lt;SID&gt;MyMap1&lt;SID&gt;MyMap2</code>

4) Normal mode mappings that consist of multiple Ex command lines (and
    where Ex commands cannot be concatenated via <code class="special">&lt;Bar&gt;</code>) replace  <code class="badlink">:<code class="special">&lt;C-U&gt;</code></code> 
    with <code class="special">&lt;SID&gt;</code>NM; the <code class="special">&lt;SID&gt;</code>NM mapping enters normal mode for one ex command
    line: 
<code class="example"></code>
<code class="example">    :nnoremap &lt;silent&gt; &lt;SID&gt;NM :&lt;C-U&gt;</code>
<code class="example">    :inoremap &lt;silent&gt; &lt;SID&gt;NM &lt;C-\&gt;&lt;C-O&gt;:</code>
<code class="example">    :nnoremap &lt;silent&gt; &lt;script&gt; zC &lt;SID&gt;MyMap1&lt;SID&gt;NMcall MyMap2()&lt;CR&gt;</code>

5)  If none of the above is possible, at least force normal mode for
    subsequent commands via <code class="keystroke">CTRL-\</code> <code class="keystroke">CTRL-N</code> to avoid accidental insertion
    of the remainder of the mapping. 
<code class="example"></code>
<code class="example">    :nnoremap zC zC&lt;C-\&gt;&lt;C-N&gt;VzCzz</code>


更多详情请阅读:

     <code class="badlink">i_CTRL-O</code> 
     <code class="badlink">map_bar</code> 
     <code class="badlink">i_CTRL-\_CTRL-O</code> 
     <code class="badlink">CTRL-\_CTRL-N</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-21">faq-21</a> </b></h4><code class="section">SECTION 21 - ABBREVIATIONS </code>

                                                                <b class="vimtag"> <a name="faq-21.1">faq-21.1</a> </b>
21.1. How do I auto correct misspelled words?

You can auto correct misspelled words using abbreviations. For example, the
following abbreviation can be used to correct "teh" with "the": 
<code class="example"></code>
<code class="example">    :abbreviate teh the</code>

Vim supports abbreviations in insert mode, replace mode and command-line
mode.

更多详情请阅读:

     <code class="badlink">24.7</code> 
     <code class="badlink">abbreviations</code> 
     <code class="badlink">Q_ab</code> 

                                                                <b class="vimtag"> <a name="faq-21.2">faq-21.2</a> </b>
21.2. How do I create multi-line abbreviations?

You can create multi-line abbreviations by embedding the "<code class="special">&lt;CR&gt;</code>"
key code in the text: 
<code class="example"></code>
<code class="example">    iabbrev #c --------------&lt;CR&gt;-- Date:&lt;CR&gt;--&lt;CR&gt;---------</code>

With the above abbreviation, when you type #c, it will be expanded to
the following text:

</section><hr class="singleline" /><section class=inner>
-- Date:
</section><hr class="singleline" /><section class=inner>
</section><hr class="singleline" /><section class=inner>

更多详情请阅读:

     <code class="badlink">abbreviations</code> 

                                                                <b class="vimtag"> <a name="faq-21.3">faq-21.3</a> </b>
21.3. When my abbreviations are expanded, an additional space character is
      added at the end of the expanded text. How do I avoid this character?

To avoid an additional space character at the end of the expanded text, you
can expand the abbreviation by pressing the <code class="keystroke">CTRL-]</code> key.  The abbreviation
will be expanded without adding a space character at the end.

Another alternative is to use the following function and command: 
<code class="example"></code>
<code class="example">    function! Eatchar(pat)</code>
<code class="example">        let c = nr2char(getchar())</code>
<code class="example">        return (c =~ a:pat) ? '' : c</code>
<code class="example">    endfunction</code>
<code class="example">    command! -nargs=+ Iabbr execute "iabbr" &lt;q-args&gt; . "&lt;C-R&gt;=Eatchar('\\s')&lt;CR&gt;"</code>

Now, define your abbreviations using the new "Iabbr" command instead of the
builtin  <code class="badlink">:iabbrev</code>  command. With this command, after expanding the
abbreviated text, the next typed space character will be discarded.

更多详情请阅读:

     <code class="badlink">abbreviations</code> 

                                                                <b class="vimtag"> <a name="faq-21.4">faq-21.4</a> </b>
21.4. How do I insert the current date/time stamp into the file?

You can use the strftime() function to insert the current data/time stamp
in a file. For example, you can use the following abbreviation: 
<code class="example"></code>
<code class="example">    iabbrev dts &lt;C-R&gt;=strftime("%y/%m/%d %H:%M")&lt;CR&gt;</code>

With this abbreviation, when you type dts in insert mode, it will be
expanded to the date/time stamp.

Some other forms of the above abbreviation are listed below: 
<code class="example"></code>
<code class="example">    iabbrev mdyl &lt;C-R&gt;=strftime("%a %d %b %Y")&lt;CR&gt;</code>
<code class="example">    iabbrev mdys &lt;C-R&gt;=strftime("%y%m%d")&lt;CR&gt;</code>
<code class="example">    iabbrev mdyc &lt;C-R&gt;=strftime("%c")&lt;CR&gt;</code>
<code class="example">    iabbrev hml  &lt;C-R&gt;=strftime("%d/%m/%y %H:%M:%S")&lt;CR&gt;</code>
<code class="example">    iabbrev hms  &lt;C-R&gt;=strftime("%H:%M:%S")&lt;CR&gt;</code>

更多详情请阅读:

     <code class="badlink">strftime()</code> 
     <code class="badlink">i_CTRL-R</code> 

                                                                <b class="vimtag"> <a name="faq-21.5">faq-21.5</a> </b>
21.5. How do I prevent an abbreviation from expanding in insert mode?

You can prevent an abbreviation from expanding in insert mode by typing
<code class="keystroke">CTRL-V</code> before the character after the abbreviated word.

更多详情请阅读:

     <code class="badlink">abbreviations</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-22">faq-22</a> </b></h4><code class="section">SECTION 22 - RECORD AND PLAYBACK </code>

                                                                <b class="vimtag"> <a name="faq-22.1">faq-22.1</a> </b>
22.1. How do I repeat an editing operation (insertion, deletion, paste,
      etc)?

You can repeat the last editing operation using the "." command. This will
repeat the last simple change like a insert, delete, change, paste, etc.

更多详情请阅读:

     <code class="badlink">04.3</code> 
     <code class="badlink">single-repeat</code> 
     <code class="badlink">Q_re</code> 

                                                                <b class="vimtag"> <a name="faq-22.2">faq-22.2</a> </b>
22.2. How I record and repeat a set of key sequences?

You can use the "q" command in normal mode to record a set of key sequences
and store it in a register. For example, in the normal mode you can press q
followed by a register name {0-9a-bA-Z"} to start the recording.  To
end/stop the recording press q again. You can playback/repeat the recorded
key sequences by pressing @ followed by the register name. e.g. @a.

Another approach is to start Vim with the "-w" command-line argument. 
<code class="example"></code>
<code class="example">    $ vim -w &lt;file_name&gt;</code>

Vim will record all the characters typed in the session in the
specified file "file_name". You can use the recorded file with the "-s"
command line argument to play it back: 
<code class="example"></code>
<code class="example">    $ vim -s &lt;file_name&gt;</code>

更多详情请阅读:

     <code class="badlink">10.1</code> 
     <code class="badlink">recording</code> 
     <code class="badlink">-w</code> 
     <code class="badlink">-s</code> 

                                                                <b class="vimtag"> <a name="faq-22.3">faq-22.3</a> </b>
22.3. How do I edit/modify a recorded set of key sequences?

The recorded key sequences are stored in a register. You can paste the
contents of the register into a Vim buffer, edit the pasted text and again
yank the text into the register. You can also use the  <code class="badlink">:let</code>  command to
modify the register. For example: 
<code class="example"></code>
<code class="example">    :let @a = "iHello World\&lt;Esc&gt;"</code>

更多详情请阅读:

     <code class="badlink">recording</code> 
     <code class="badlink">10.1</code> 
     <code class="badlink">:let-register</code> 
     <code class="badlink">&lt;&gt;</code> 
     <code class="badlink">'cpoptions'</code> 

                                                                <b class="vimtag"> <a name="faq-22.4">faq-22.4</a> </b>
22.4. How do I write recorded key sequences to a file?

The recorded key sequences are stored in a register. You can paste the
contents of the register into a Vim buffer. Now you can save the buffer
into a file. You can also modify the pasted text and again yank into the
register to modify the recorded key sequence. For example, if you record a
set of key sequences using qa ..... q. The recorded key sequences are
stored in the register "a". You can paste the contents of register "a"
using "ap.

更多详情请阅读:

     <code class="badlink">recording</code> 
     <code class="badlink">10.1</code> 

                                                                <b class="vimtag"> <a name="faq-22.5">faq-22.5</a> </b>
22.5. I am using register 0 to record my key sequences (i.e. q0 .... q).
      In the recorded key sequences, I am yanking some text. After the
      first replay of the recorded key sequence, I am no longer able to
      play it back.

Register 0 contains the text from the last yank operation. In your recorded
key sequence, when the yank is performed, register 0 is overwritten with
the yanked text. So your recording stored in register 0 is lost. You have
to use some other register.

更多详情请阅读:

     <code class="badlink">registers</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-23">faq-23</a> </b></h4><code class="section">SECTION 23 - AUTOCOMMANDS </code>

                                                                <b class="vimtag"> <a name="faq-23.1">faq-23.1</a> </b>
23.1. How do I execute a command when I try to modify a read-only file?

You can use the FileChangedRO autocommand event to execute a command when a
read-only file is modified. For example, you can use this event to checkout a
read-only file: 
<code class="example"></code>
<code class="example">    :autocmd FileChangedRO * call MyCheckoutFunction()</code>

更多详情请阅读:

     <code class="badlink">FileChangedRO</code> 

                                                                <b class="vimtag"> <a name="faq-23.2">faq-23.2</a> </b>
23.2. How do I execute a command every time when entering a buffer?

You can use the BufEnter autocommand event to execute a command every time
when entering a buffer. For example: 
<code class="example"></code>
<code class="example">    :autocmd BufEnter *.c set formatoptions=croqt</code>

更多详情请阅读:

     <code class="badlink">BufEnter</code> 

                                                                <b class="vimtag"> <a name="faq-23.3">faq-23.3</a> </b>
23.3. How do I execute a command every time when entering a window?

You can use the WinEnter autocommand event to execute a command every time
when entering a window. For example: 
<code class="example"></code>
<code class="example">    :autocmd WinEnter *.c call MyFunction()</code>

更多详情请阅读:

     <code class="badlink">WinEnter</code> 

                                                                <b class="vimtag"> <a name="faq-23.4">faq-23.4</a> </b>
23.4. From an autocmd, how can I determine the name of the file or the
      buffer number for which the autocommand is executed?

You can use the special words <code class="special">&lt;afile&gt;</code> or <code class="special">&lt;abuf&gt;</code> in an autocmd to get the
name of the file or the buffer number for which the autocommand is
executed.

更多详情请阅读:

     <code class="badlink">:&lt;afile&gt;</code> 
     <code class="badlink">:&lt;abuf&gt;</code> 
     <code class="badlink">:&lt;amatch&gt;</code> 

                                                                <b class="vimtag"> <a name="faq-23.5">faq-23.5</a> </b>
23.5. How do I automatically save all the changed buffers whenever Vim
      loses focus?

You can define an autocommand for the FocusLost event which will save all
the modified buffers whenever Vim loses focus: 
<code class="example"></code>
<code class="example">    :autocmd FocusLost * wall</code>

更多详情请阅读:

     <code class="badlink">FocusLost</code> 
     <code class="badlink">:wall</code> 

                                                                <b class="vimtag"> <a name="faq-23.6">faq-23.6</a> </b>
23.6. How do I execute/run a function when Vim exits to do some cleanup?

You can use VimLeave autocmd event to execute a function just before Vim
exits. For example, 
<code class="example"></code>
<code class="example">    :autocmd VimLeave * call MyCleanupFunction()</code>

更多详情请阅读:

     <code class="badlink">VimLeave</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-24">faq-24</a> </b></h4><code class="section">SECTION 24 - SYNTAX HIGHLIGHT </code>

                                                                <b class="vimtag"> <a name="faq-24.1">faq-24.1</a> </b>
24.1. How do I turn off/on syntax highlighting?

By default, the Vim syntax highlighting is turned off. To enable the syntax
highlighting, you can use one of the following commands: 
<code class="example"></code>
<code class="example">    :syntax enable</code>

    or 
<code class="example"></code>
<code class="example">    :syntax on</code>

To disable the syntax highlighting, you can use the following command: 
<code class="example"></code>
<code class="example">    :syntax off</code>

更多详情请阅读:

     <code class="badlink">06.1</code> 
     <code class="badlink">06.4</code> 
     <code class="badlink">:syntax-enable</code> 
     <code class="badlink">:syntax-on</code> 
     <code class="badlink">:syn-clear</code> 

                                                                <b class="vimtag"> <a name="faq-24.2">faq-24.2</a> </b>
24.2. How do I change the background and foreground colors used by Vim?

Vim uses the "Normal" highlight group for the background and foreground
colors. To change the foreground/background colors, you have to modify the
"Normal" highlight group. For example, to set the background color to blue
and foreground color to white, you can use 
<code class="example"></code>
<code class="example">    :highlight Normal ctermbg=blue ctermfg=white guibg=blue guifg=white</code>

If you are using the Motif or the Athena version of the GUI Vim, then you
can modify the foreground and background resource names in the .Xdefaults
files to change the colors: 
<code class="example"></code>
<code class="example">    Vim.foreground:     Black</code>
<code class="example">    Vim.background:     Wheat</code>

You can also use the "-foreground" and "-background" command-line arguments
to specify the foreground and background colors. These arguments are
supported only in the Motif or Athena versions: 
<code class="example"></code>
<code class="example">    $ gvim -foreground Black -background Wheat</code>

更多详情请阅读:

     <code class="badlink">:highlight</code> 
     <code class="badlink">.Xdefaults</code> 
     <code class="badlink">-gui</code> 

                                                                <b class="vimtag"> <a name="faq-24.3">faq-24.3</a> </b>
24.3. How do I change the highlight colors to suit a dark/light background?

You can set the <code class="badlink">'background'</code> option to either "dark" or "light" to change
the highlight colors to suit a dark/light background: 
<code class="example"></code>
<code class="example">    :set background=dark</code>

更多详情请阅读:

     <code class="badlink">'background'</code> 
     <code class="badlink">06.2</code> 

                                                                <b class="vimtag"> <a name="faq-24.4">faq-24.4</a> </b>
24.4. How do I change the color of the line numbers displayed when the
      `:set number` command is used?

The line numbers displayed use the LineNr highlighting group. To display
the current colors used, use 
<code class="example"></code>
<code class="example">    :hi LineNr</code>

To change the color modify the LineNr highlight group. For example: 
<code class="example"></code>
<code class="example">    :hi linenr guifg=red guibg=black</code>

This will give red numbers on a black background in GVIM.

更多详情请阅读:

     <code class="badlink">:highlight</code> 

                                                                <b class="vimtag"> <a name="faq-24.5">faq-24.5</a> </b>
24.5. How do I change the background color used for a Visually selected
      block?

You can modify the "Visual" highlight group to change the color used for a
visually selected block: 
<code class="example"></code>
<code class="example">    :highlight Visual guibg=red</code>

更多详情请阅读:

     <code class="badlink">:highlight</code> 
     <code class="badlink">hl-Visual</code> 

                                                                <b class="vimtag"> <a name="faq-24.6">faq-24.6</a> </b>
24.6. How do I highlight the special characters (tabs, trailing spaces, end
      of line, etc) displayed by the <code class="badlink">'list'</code> option?

You can modify the "NonText" and "SpecialKey" highlight groups to highlight
the special characters displayed by the <code class="badlink">'list'</code> option: 
<code class="example"></code>
<code class="example">    :highlight NonText guibg=red</code>
<code class="example">    :highlight SpecialKey guibg=green</code>

The "NonText" highlighting group is used for "eol", "extends" and
"precedes" settings in the <code class="badlink">'listchars'</code> option.  The "SpecialKey"
highlighting group is used for the "tab" and "trail" settings.

更多详情请阅读:

     <code class="badlink">'listchars'</code> 
     <code class="badlink">hl-NonText</code> 
     <code class="badlink">hl-SpecialKey</code> 

                                                                <b class="vimtag"> <a name="faq-24.7">faq-24.7</a> </b>
24.7. How do I specify a colorscheme in my .vimrc/.gvimrc file, so that Vim
      uses the specified colorscheme every time?

You can specify the color scheme using the  <code class="badlink">:colorscheme</code>  command in your
.vimrc or .gvimrc file: 
<code class="example"></code>
<code class="example">    colorscheme evening</code>

更多详情请阅读:

     <code class="badlink">:colorscheme</code> 

                                                                <b class="vimtag"> <a name="faq-24.8">faq-24.8</a> </b>
24.8. Vim syntax highlighting is broken. When I am editing a file, some
      parts of the file is not syntax highlighted or syntax highlighted
      incorrectly.

Vim doesn't read the whole file to parse the text for syntax highlighting.
It starts parsing wherever you are viewing the file. That saves a lot of
time, but sometimes the colors are wrong. A simple fix is refreshing the
screen using the <code class="keystroke">CTRL-L</code> key. Or scroll back a bit and then forward again.
You can also use the command: 
<code class="example"></code>
<code class="example">    :syntax sync fromstart</code>

<code class="note">Note </code>that this might considerably slow down the screen refreshing.

更多详情请阅读:

     <code class="badlink">:syn-sync</code> 
     <code class="badlink">:syn-sync-first</code> 

                                                                <b class="vimtag"> <a name="faq-24.9">faq-24.9</a> </b>
24.9. Is there a built-in function to syntax-highlight the corresponding
      matching bracket?

Yes. Vim includes the matchparen Plugin as standard plugin that is enabled
by default. Whenever the cursor moves over an item defined with the
<code class="badlink">'matchpairs'</code> option, Vim will highlight the corresponding bracket using the
MatchParen highlighting group.

However, if the corresponding parenthesis is not visible in the current
window, the cursor won't jump to it.

The matchit plugin provides a similar function, that lets the cursor
jump to related items (e.g. "if", "else", "endif" items) and skips
matches in comments. This uses the % command to jump to corresponding
items. Though both plugins provide similar functions they are unrelated
and work differently.

更多详情请阅读:

     <code class="badlink">matchparen</code> 
     <code class="badlink">'matchpairs'</code> 
     <code class="badlink">matchit-install</code> 
     <code class="badlink">matchit-intro</code> 

                                                                <b class="vimtag"> <a name="faq-24.10">faq-24.10</a> </b>
24.10. How do I turn off the C comment syntax highlighting?

You can use the following command to turn off C comment syntax
highlighting: 
<code class="example"></code>
<code class="example">    :highlight clear comment</code>

更多详情请阅读:

     <code class="badlink">ft-c-syntax</code> 

                                                                <b class="vimtag"> <a name="faq-24.11">faq-24.11</a> </b>
24.11. How do I add my own syntax extensions to the standard syntax files
       supplied with Vim?

You should not modify the syntax files supplied with Vim to add your
extensions. When you install the next version of Vim, you will lose your
changes. Instead you should create a file under the ~/.vim/after/syntax
directory with the same name as the original syntax file and add your
additions to this file.

更多详情请阅读:

     <code class="badlink">mysyntaxfile-add</code> 
     <code class="badlink">'runtimepath'</code> 

                                                                <b class="vimtag"> <a name="faq-24.12">faq-24.12</a> </b>
24.12. How do I replace a standard syntax file that comes with the Vim
       distribution with my own syntax file?

You can replace a standard syntax file that comes with the Vim distribution
by creating a file with the same name as the original syntax file and
placing it in the vim runtime syntax (~/.vim/syntax) directory. For
example, to replace the c.vim syntax file in a Unix system, place the new
c.vim in the ~/.vim/syntax directory. In a MS-Windows system, place the new
syntax file in the $HOME/vimfiles/syntax or $VIM/vimfiles/syntax directory.

更多详情请阅读:

     <code class="badlink">mysyntaxfile-replace</code> 
     <code class="badlink">44.11</code> 
     <code class="badlink">mysyntaxfile</code> 

                                                                <b class="vimtag"> <a name="faq-24.13">faq-24.13</a> </b>
24.13. How do I highlight all the characters after a particular column?

You can use the  <code class="badlink">:match</code>  command to highlight all the characters after a
particular column: 
<code class="example"></code>
<code class="example">    :match Todo '\%&gt;75v.\+'</code>

This will highlight all the characters after the 75th column.

You can also set the <code class="badlink">'colorcolumn'</code> option to highlight a particular
column:

   :set colorcolumn=+2

which highlights 2 columns after the current <code class="badlink">'textwidth'</code> setting
(alternatively, you can use the exact column number).

更多详情请阅读:

     <code class="badlink">:match</code> 
     <code class="badlink">/\%v</code> 
     <code class="badlink">/\+</code> 
     <code class="badlink">/.</code> 
     <code class="badlink">'colorcolumn'</code> 

                                                                <b class="vimtag"> <a name="faq-24.14">faq-24.14</a> </b>
24.14. How do I convert a source file (.c, .h, etc) with the Vim syntax
       highlighting into a HTML file?

You can use the 2html.vim script to convert a source file into a HTML file
with the Vim syntax highlighting. Use the following command: 
<code class="example"></code>
<code class="example">    :TOhtml</code>

更多详情请阅读:

     <code class="badlink">convert-to-HTML</code> 
     <code class="badlink">:TOhtml</code> 

                                                                <b class="vimtag"> <a name="faq-24.15">faq-24.15</a> </b>
24.15. How do I list the definition of all the current highlight groups?

You can list the definition of all the current highlight groups using the
 <code class="badlink">:highlight</code>  (without any arguments) ex command.

更多详情请阅读:

     <code class="badlink">:highlight</code> 

                                                                <b class="vimtag"> <a name="faq-24.16">faq-24.16</a> </b>
24.16. How can I embed one syntax highlighting language into another one?

It is possible to include one syntax highlighting into another one,
however most of the currently deployed syntax highlighting scripts are
not prepared to be included into another syntax script.

You can however create your own custom script to define your own
regions, which will be highlighted with a different language.

See the wiki for a comprehensive solution:

    <a href="http://vim.wikia.com/wiki/Different_syntax_highlighting_within_regions_of_a_file">http://vim.wikia.com/wiki/Different_syntax_highlighting_within_regions_of_a_file</a>

更多详情请阅读:

     <code class="badlink">:syn-include</code> 
     <code class="badlink">sh-awk</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-25">faq-25</a> </b></h4><code class="section">SECTION 25 - VIM SCRIPT WRITING </code>

                                                                <b class="vimtag"> <a name="faq-25.1">faq-25.1</a> </b>
25.1. How do I list the names of all the scripts sourced by Vim?

You can use the  <code class="badlink">:scriptnames</code>  command to list the names of all the scripts
sourced by Vim: 
<code class="example"></code>
<code class="example">    :scriptnames</code>

更多详情请阅读:

     <code class="badlink">:scriptnames</code> 

                                                                <b class="vimtag"> <a name="faq-25.2">faq-25.2</a> </b>
25.2. How do I debug Vim scripts?

Vim has built-in support for a primitive debugger to debug Vim plugins and
scripts. Using this debugger you can set breakpoints and step through the
plugin functions.

更多详情请阅读:

     <code class="badlink">debug-scripts</code> 
     <code class="badlink">-D</code> 

                                                                <b class="vimtag"> <a name="faq-25.3">faq-25.3</a> </b>
25.3. How do I locate the script/plugin which sets a Vim option?

You can use the  <code class="badlink">:verbose</code>  command to locate the plugin/script which last
modified a Vim option. For example: 
<code class="example"></code>
<code class="example">    :verbose set textwidth?</code>

更多详情请阅读:

     <code class="badlink">:set-verbose</code> 
     <code class="badlink">:verbose</code> 

                                                                <b class="vimtag"> <a name="faq-25.4">faq-25.4</a> </b>
25.4. I am getting some error/informational messages from Vim (possibly
      when running a script), the messages are cleared immediately. How do
      I display the messages again?

You can use the  <code class="badlink">:messages</code>  command to display the previous messages. 
<code class="example"></code>
<code class="example">    :messages</code>

更多详情请阅读:

     <code class="badlink">:messages</code> 
     <code class="badlink">:echoerr</code> 
     <code class="badlink">:echomsg</code> 
     <code class="badlink">message-history</code> 

                                                                <b class="vimtag"> <a name="faq-25.5">faq-25.5</a> </b>
25.5. How do I save and restore a plugin specific information across Vim
      invocations?

Vim will save and restore global variables that start with an uppercase
letter and don't contain a lower case letter. For this to work, the
<code class="badlink">'viminfo'</code> option must contain the "!" flag. Vim will store the variables in
the viminfo file.

更多详情请阅读:

     <code class="badlink">'viminfo'</code> 
     <code class="badlink">viminfo-file</code> 
     <code class="badlink">variables</code> 

                                                                <b class="vimtag"> <a name="faq-25.6">faq-25.6</a> </b>
25.6. How do I start insert mode from a Vim function?

You can use the  <code class="badlink">:startinsert</code>  command to start the insert mode from inside
a Vim function.

更多详情请阅读:

     <code class="badlink">:startinsert</code> 

                                                                <b class="vimtag"> <a name="faq-25.7">faq-25.7</a> </b>
25.7. How do I change the cursor position from within a Vim function?

You can use the cursor() function to position the cursor. 
<code class="example"></code>
<code class="example">        call cursor(lnum, col)</code>

Alternatively, use the setpos() function: 
<code class="example"></code>
<code class="example">        call setpos('.', [bufnum, lnum, col, off])</code>

which set's the cursor in the buffer bufnum to line lnum, column col and
offset for <code class="badlink">'virtualedit'</code>. You can use the getpos() function, to return a
list with these values, that can then be fed back to the setpos() function.

If you want to save and restore the viewpoint on a window, use the
winsaveview() and winrestview() function calls.

You can also use the following command to change the cursor position: 
<code class="example"></code>
<code class="example">        exe "normal! " . lnum . "G" . col . "|"</code>

更多详情请阅读:

     <code class="badlink">cursor()</code> 
     <code class="badlink">bar</code> 
     <code class="badlink">getpos()</code> 
     <code class="badlink">setpos()</code> 
     <code class="badlink">winsaveview()</code> 
     <code class="badlink">winrestview()</code> 

                                                                <b class="vimtag"> <a name="faq-25.8">faq-25.8</a> </b>
25.8. How do I check the value of an environment variable in the .vimrc
      file?

You can use prefix the environment variable name with the "$" character to
use it from a Vim script/function.  You can refer to the value of an
environment variable using the $env_var syntax: 
<code class="example"></code>
<code class="example">    if $EDITOR == 'vi'</code>
<code class="example">    endif</code>

更多详情请阅读:

     <code class="badlink">expr-env</code> 

                                                                <b class="vimtag"> <a name="faq-25.9">faq-25.9</a> </b>
25.9. How do I check whether an environment variable is set or not from a
      Vim function?

You can use the exists() function to check for the existence of an
environment variable. 
<code class="example"></code>
<code class="example">    if exists("$MY_ENV_VAR")</code>
<code class="example">    endif</code>

更多详情请阅读:

     <code class="badlink">exists()</code> 
     <code class="badlink">expr-env</code> 

                                                                <b class="vimtag"> <a name="faq-25.10">faq-25.10</a> </b>
25.10. How do I call/use the Vim built-in functions?

You can use the  <code class="badlink">:call</code>  command to invoke a Vim built-in function: 
<code class="example"></code>
<code class="example">    :call cursor(10,20)</code>

You can use the  <code class="badlink">:echo</code>  command to echo the value returned by a function: 
<code class="example"></code>
<code class="example">    :echo char2nr('a')</code>

You can use the  <code class="badlink">:let</code>  command to assign the value returned by a function
to a variable: 
<code class="example"></code>
<code class="example">    :let a = getline('.')</code>

To store the return value from a function into a Vim register, you can use
the following command: 
<code class="example"></code>
<code class="example">    :let @a = system('ls')</code>

The above command will store the output of the "ls" command into
the register "a".

更多详情请阅读:

     <code class="badlink">:call</code> 
     <code class="badlink">:echo</code> 
     <code class="badlink">:let</code> 
     <code class="badlink">:let-register</code> 
     <code class="badlink">user-functions</code> 
     <code class="badlink">usr_41.txt</code> 

                                                                <b class="vimtag"> <a name="faq-25.11">faq-25.11</a> </b>
25.11. I am using some normal mode commands in my Vim script. How do I
       avoid using the user-defined mappings for these normal mode commands
       and use the standard Vim functionality for these normal mode
       commands?

You can use the  <code class="badlink">:normal!</code>  command in your script to invoke a normal-mode
command. This will use the standard functionality of the normal mode
command and will not use the user-defined mapping.

更多详情请阅读:

     <code class="badlink">:normal</code> 

                                                                <b class="vimtag"> <a name="faq-25.12">faq-25.12</a> </b>
25.12. How do I get the current visually selected text into a Vim variable
       or register?

You can get the current visually selected text into a Vim variable by
yanking the text into Vim register and then assigning the contents of the
register into the variable: 
<code class="example"></code>
<code class="example">    :normal! gvy</code>
<code class="example">    :let myvar = @"</code>

The above command copies the visually selected text into the variable
"myvar".

You can also use the command: 
<code class="example"></code>
<code class="example">    :normal! gv"*y</code>

In the above command, gv reselects the last visually selected text and the
rest of the command copies the selected text into the * (clipboard)
register. Alternatively, you can set the "a" flag in the <code class="badlink">'guioptions'</code>
option to automatically copy a visually selected text into the * register.
To do this as part of a visual map, you can use a command similar to the
one shown below: 
<code class="example"></code>
<code class="example">    :vmap &lt;F3&gt; "*y:call ...</code>


更多详情请阅读:

     <code class="badlink">gv</code> 
     <code class="badlink">:normal</code> 
     <code class="badlink">:let-@</code> 
     <code class="badlink">quotestar</code> 
     <code class="badlink">clipboard</code> 
     <code class="badlink">registers</code> 

                                                                <b class="vimtag"> <a name="faq-25.13">faq-25.13</a> </b>
25.13. I have some text in a Vim variable "myvar". I would like to use this
       variable in a  <code class="badlink">:s</code>  substitute command to replace a text "mytext".
       How do I do this?

You can use the  <code class="badlink">:execute</code>  command to evaluate the variable: 
<code class="example"></code>
<code class="example">    :execute '%s/mytext/' . myvar . '/'</code>

更多详情请阅读:

     <code class="badlink">:execute</code> 

You can also use "\=" in the substitute command to evaluate the variable: 
<code class="example"></code>
<code class="example">    :%s/mytext/\=myvar/</code>

更多详情请阅读:

     <code class="badlink">sub-replace-special</code> 

                                                                <b class="vimtag"> <a name="faq-25.14">faq-25.14</a> </b>
25.14. A Vim variable (bno) contains a buffer number. How do I use this
       variable to open the corresponding buffer?

The  <code class="badlink">:buffer</code>  command will not accept a variable name. It accepts only a
buffer number or buffer name. You have to use the  <code class="badlink">:execute</code>  command to
evaluate the variable into the corresponding value. For example: 
<code class="example"></code>
<code class="example">    :execute "buffer " . bno</code>

更多详情请阅读:

     <code class="badlink">:execute</code> 

                                                                <b class="vimtag"> <a name="faq-25.15">faq-25.15</a> </b>
25.15. How do I store the value of a Vim option into a Vim variable?

You can prefix the option name with the "&amp;" character and assign the option
value to a Vim variable using the  <code class="badlink">:let</code>  command. For example, to store the
value of the <code class="badlink">'textwidth'</code> option into the Vim variable "old_tw", you can use
the following command: 
<code class="example"></code>
<code class="example">    :let old_tw = &amp;tw</code>

To explicitly save buffer local options, use the prefix "l:" 
<code class="example"></code>
<code class="example">    :let old_tw = &amp;l:tw</code>

If you want to explicitly select the global option, use the "g:" prefix to
the option name.

To do the opposite, to set the <code class="badlink">'textwidth'</code> option with the value stored in
the "old_tw" variable, you can use the following command: 
<code class="example"></code>
<code class="example">    :let &amp;tw = old_tw</code>

更多详情请阅读:

     <code class="badlink">expr-option</code> 
     <code class="badlink">:let-option</code> 

                                                                <b class="vimtag"> <a name="faq-25.16">faq-25.16</a> </b>
25.16. I have copied and inserted some text into a buffer from a Vim
       function. How do I indent the inserted text from the Vim function?

You can use the following command to format the just inserted text: 
<code class="example"></code>
<code class="example">    :normal '[=']</code>

更多详情请阅读:

     <code class="badlink">'[</code> 
     <code class="badlink">']</code> 
     <code class="badlink">=</code> 
     <code class="badlink">:normal</code> 

                                                                <b class="vimtag"> <a name="faq-25.17">faq-25.17</a> </b>
25.17. How do I get the character under the cursor from a Vim script?

You can use the getline() function and use string index [] to get the
character: 
<code class="example"></code>
<code class="example">    :echo getline(".")[col(".") - 1]</code>

In the above command, getline(".") returns  the text in the current line.
The indexing of the string starts at zero, and you can get a single
character in a string by its index with the "string[index]" notation. The
col(".") returns the column of the cursor position; the adjustment is to
get the right character of the string. However, this does NOT work with
multibyte characters as this command only returns the byte index.

Alternatively, you can use the following sequence of commands to get the
character under the cursor: 
<code class="example"></code>
<code class="example">    normal! vy</code>
<code class="example">    let ch=@"</code>

Note, that the above commands will change the '&lt; and '&gt; marks.

更多详情请阅读:

     <code class="badlink">getline()</code> 
     <code class="badlink">col()</code> 
     <code class="badlink">expr-[]</code> 

                                                                <b class="vimtag"> <a name="faq-25.18">faq-25.18</a> </b>
25.18. How do I get the name of the current file without the extension?

You can get the name of the current file without the extension using: 
<code class="example"></code>
<code class="example">    :echo expand("%:r")</code>

With some commands, you can use the file name modifiers directly: 
<code class="example"></code>
<code class="example">    :cd %:p:h</code>
<code class="example">    :!gcc -o %:r.o %</code>
<code class="example">    :!xpdf %&lt;.pdf</code>

更多详情请阅读:

     <code class="badlink">filename-modifiers</code> 
     <code class="badlink">expand()</code> 
     <code class="badlink">cmdline-special</code> 
     <code class="badlink">fnamemodify()</code> 

                                                                <b class="vimtag"> <a name="faq-25.19">faq-25.19</a> </b>
25.19. How do I get the basename of the current file?

You can use the ":t" filename modifier to get the basename of the current
file: 
<code class="example"></code>
<code class="example">    :echo expand("%:t")</code>

更多详情请阅读:

     <code class="badlink">filename-modifiers</code> 

                                                                <b class="vimtag"> <a name="faq-25.20">faq-25.20</a> </b>
25.20. How do I get the output from a Vim function into the current buffer?

You can insert the return value from a function using the following command
in insert mode: 
<code class="example"></code>
<code class="example">    &lt;C-R&gt;=MyFunc()</code>

Note, that this will only insert the return value of the function.

更多详情请阅读:

     <code class="badlink">i_CTRL-R</code> 
     <code class="badlink">i_CTRL-R_CTRL-R</code> 
     <code class="badlink">i_CTRL-R_CTRL-O</code> 
     <code class="badlink">expression</code> 

                                                                <b class="vimtag"> <a name="faq-25.21">faq-25.21</a> </b>
25.21. How do I call external programs from a Vim function?

There are several ways to call external programs from a Vim function. You
can use the builtin system() function to invoke external programs and get
the result: 
<code class="example"></code>
<code class="example">    :let output = system("ls")</code>

You can also use "!" ex-command to run an external command.

更多详情请阅读:

     <code class="badlink">system()</code> 
     <code class="badlink">:!</code> 
     <code class="badlink">10.9</code> 

                                                                <b class="vimtag"> <a name="faq-25.22">faq-25.22</a> </b>
25.22. How do I get the return status of a program executed using the  <code class="badlink">:!</code> 
       command?

You can use the predefined Vim v:shell_error variable to get the return
status of the last run shell command.

更多详情请阅读:

     <code class="badlink">v:shell_error</code> 

                                                                <b class="vimtag"> <a name="faq-25.23">faq-25.23</a> </b>
25.23. How do I determine whether the current buffer is modified or not?

You can check the value of the <code class="badlink">'modified'</code> option to determine whether the
current buffer is modified: 
<code class="example"></code>
<code class="example">    :set modified?</code>

From a Vim script, you can check the value of the <code class="badlink">'modified'</code> option: 
<code class="example"></code>
<code class="example">    if &amp;modified</code>
<code class="example">        echo "File is modified"</code>
<code class="example">    endif</code>

更多详情请阅读:

     <code class="badlink">'modified'</code> 

                                                                <b class="vimtag"> <a name="faq-25.24">faq-25.24</a> </b>
25.24. I would like to use the carriage return character in a normal
       command from a Vim script. How do I specify the carriage return
       character?

You can use the  <code class="badlink">:execute</code>  command to specify the special (control)
character in a normal mode command: 
<code class="example"></code>
<code class="example">    :execute "normal \&lt;CR&gt;"</code>
<code class="example">    :execute "normal ixxx\&lt;Esc&gt;"</code>

更多详情请阅读:

     <code class="badlink">:execute</code> 
     <code class="badlink">expr-quote</code> 

                                                                <b class="vimtag"> <a name="faq-25.25">faq-25.25</a> </b>
25.25. How do I split long lines in a Vim script?

You can split long lines in a Vim script by inserting the backslash
character ("\") at the start of the next line. For example, 
<code class="example"></code>
<code class="example">    set comments=sr:/*,mb:*,el:*/,</code>
<code class="example">                \://,</code>
<code class="example">                \b:#,</code>
<code class="example">                \:%,</code>
<code class="example">                \n:&gt;,</code>
<code class="example">                \fb:-</code>

更多详情请阅读:

     <code class="badlink">line-continuation</code> 

                                                                <b class="vimtag"> <a name="faq-25.26">faq-25.26</a> </b>
25.26. When I try to "execute" my function using the `:execute Myfunc()`
       command, the cursor is moved to the top of the current buffer.
       Why?

The  <code class="badlink">:execute</code>  command runs the ex command specified by the argument.
In the case of the following command: 
<code class="example"></code>
<code class="example">    :execute Myfunc()</code>

The call to Myfunc() will return 0. The  <code class="badlink">:execute</code>  command will run
the ex command  <code class="badlink">:0</code> , which moves the cursor to the top of the file.
To call a Vim function, you should use the  <code class="badlink">:call</code>  command instead of the
 <code class="badlink">:execute</code>  command: 
<code class="example"></code>
<code class="example">    :call Myfunc()</code>

更多详情请阅读:

     <code class="badlink">:call</code> 
     <code class="badlink">:execute</code> 
     <code class="badlink">:echo</code> 
     <code class="badlink">user-functions</code> 
     <code class="badlink">41.5</code> 
     <code class="badlink">41.6</code> 
     <code class="badlink">cmdline-lines</code> 

                                                                <b class="vimtag"> <a name="faq-25.27">faq-25.27</a> </b>
25.27. How do I source/execute the contents of a register?

If you have yanked a set of Vim commands into a Vim register (for example
register "a"), then you can source the contents of the register using one
of the following commands:

    :@a
or
    :exe @a

更多详情请阅读:

     <code class="badlink">:@</code> 

                                                                <b class="vimtag"> <a name="faq-25.28">faq-25.28</a> </b>
25.28. After calling a Vim function or a mapping, when I press the "u"
       key to undo the last change, Vim undoes all the changes made by
       the mapping/function. Why?

When you call a function or a mapping, all the operations performed by the
function/mapping are treated as one single operation. When you undo the
last operation by pressing "u", all the changes made by the
function/mapping are reversed.

更多详情请阅读:

     <code class="badlink">undo-redo</code> 
     <code class="badlink">:map-undo</code> 

                                                                <b class="vimtag"> <a name="faq-25.29">faq-25.29</a> </b>
25.29. How can I call a function defined with s: (script local function)
       from another script/plugin?

The s: prefix for a Vim function name is used to create a script local
function. A script local function can be called only from within that
script and cannot be called from other scripts. To define a function in a
script/plugin, so that it can be called from other plugins/scripts, define
the function without the s: prefix.

更多详情请阅读:

     <code class="badlink">script-variable</code> 
     <code class="badlink">script-local</code> 
     <code class="badlink">:scriptnames</code> 

                                                                <b class="vimtag"> <a name="faq-25.30">faq-25.30</a> </b>
25.30. Is it possible to un-source a sourced script? In other words, reverse
       all the commands executed by sourcing a script.

No. It is not possible to reverse or undo all the commands executed by
sourcing a script.

更多详情请阅读:

     <code class="badlink">:source</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-26">faq-26</a> </b></h4><code class="section">SECTION 26 - PLUGINS </code>

                                                                <b class="vimtag"> <a name="faq-26.1">faq-26.1</a> </b>
26.1. How do I set different options for different types of files?

You can create filetype plugins to set different options for different
types of files. You should first enable filetype plugins using the command: 
<code class="example"></code>
<code class="example">    :filetype plugin on</code>

A filetype plugin is a vim script that is loaded whenever Vim opens or
creates a file of that type.  For example, to ensure that the <code class="badlink">'textwidth'</code>
option is set to 80 when editing a C program (filetype "c"), create one of
the following files: 
<code class="example"></code>
<code class="example">        ~/.vim/ftplugin/c.vim (Unix)</code>
<code class="example">        %HOME%\vimfiles\ftplugin\c.vim (Windows)</code>

with the following text in it: 
<code class="example"></code>
<code class="example">        setlocal textwidth=80</code>

You can also use autocommands to set specific options when editing specific
type of files. For example, to set the <code class="badlink">'textwidth'</code> option to 75 for only
*.txt files, you can use the following autocmd: 
<code class="example"></code>
<code class="example">    autocmd BufRead *.txt setlocal textwidth=80</code>

更多详情请阅读:

     <code class="badlink">filetype-plugin</code> 
     <code class="badlink">add-filetype-plugin</code> 
     <code class="badlink">:autocmd</code> 
     <code class="badlink">40.3</code> 

                                                                <b class="vimtag"> <a name="faq-26.2">faq-26.2</a> </b>
26.2. I have downloaded a Vim plugin or a syntax file or a indent file, or
      a color scheme or a filetype plugin from the web. Where should I copy
      these files so that Vim will find them?

You can place the Vim runtime files (plugins, syntax files, indent files,
color schemes, filetype plugins, etc) under one of the directories
specified in the <code class="badlink">'runtimepath'</code> option. To determine the current value of
the <code class="badlink">'runtimepath'</code> option, use the following command: 
<code class="example"></code>
<code class="example">    :set runtimepath</code>

For Unix systems, this is usually the "$HOME/.vim" directory. For MS-Windows
systems, this is usually the $VIM\vimfiles or $HOME\vimfiles directory.
Depending on the type of the runtime file, you have to place it under a
specific directory under the above runtime directory. The names of the
directories are listed below:

<code class="section">    name        description </code>
<code class="section">    ----------  ------------------ </code>
    colors/     color scheme files
    compiler/   compiler files
    doc/        documentation
    ftplugin/   filetype plugins
    indent/     indent scripts
    keymap/     key mapping files
    lang/       menu translations
    plugin/     plugin scripts
    syntax/     syntax files
    tutor/      files for vimtutor

更多详情请阅读:

     <code class="badlink">your-runtime-dir</code> 
     <code class="badlink">'runtimepath'</code> 
     <code class="badlink">:runtime</code> 

                                                                <b class="vimtag"> <a name="faq-26.3">faq-26.3</a> </b>
26.3. How do I extend an existing filetype plugin?

You can extend an existing filetype plugin by creating a file in the
after/ directory in any of the <code class="badlink">'runtimepath'</code> directories.


- for small changes to be done after (and in addition to) what is
  already done by the ftplugin installed with Vim, use an after-directory,
  as follows (replacing foobar by the <code class="badlink">'filetype'</code> of the concerned
  files):
    - For changes private to one user:
        - on Windows:
            $HOME/vimfiles/after/ftplugin/foobar.vim
        - on Unix-like OSes:
            $HOME/.vim/after/ftplugin/foobar.vim
    - For changes affecting all users on the system:
        $VIM/vimfiles/after/ftplugin/foobar.vim

- when replacing the whole filetype-plugin by a different version, or
  when installing a new ftplugin for some filetype not yet supported by
  Vim out of the box: use the same paths without the after/ in them. In
  that case you should place near the start of your plugin an "if...
  finish... endif... let" block like the one in the plugins distributed
  with Vim.

All the above paths are given in Vim terminology (which is similar to
Unix terminology, but is understood even by Vim for Windows); they don't
exist by default, so the first time you need them you will have to
create them using mkdir (on any OS including DOS/Windows) or md (on
DOS/Windows only). $VIM and, on DOS/Windows, $HOME, do not necessarily
exist outside Vim. If $HOME has no value (or no valid value) inside Vim,
you can use $VIM instead; but on any but possibly very old versions of
Windows, $HOMEDRIVE and $HOMEPATH are defined by the system, and if
$HOME is undefined at Vim startup, Vim will set it by expanding
$HOMEDRIVE$HOMEPATH before sourcing your vimrc. To know which values Vim
uses, you can type (in a running Vim): 
<code class="example"></code>
<code class="example">    :echo $VIM</code>
<code class="example">    :echo $HOME</code>


If you placed the file in the after/ftplugin runtime directory, then Vim
will first source the existing filetype plugin file and then will source
the new file.  If you placed the file in the $VIMRTUNTIME/ftplugin runtime
directory, then Vim will first source the new file and then will source the
existing filetype plugin file.

更多详情请阅读:

     <code class="badlink">ftplugin-overrule</code> 
     <code class="badlink">filetype-plugin</code> 
     <code class="badlink">add-filetype-plugin</code> 
     <code class="badlink">'runtimepath'</code> 

                                                                <b class="vimtag"> <a name="faq-26.4">faq-26.4</a> </b>
26.4. How do I turn off loading the Vim plugins?

You can reset the <code class="badlink">'loadplugins'</code> option to turn off loading the plugins: 
<code class="example"></code>
<code class="example">    :set noloadplugins</code>

You can also specify the "--noplugin" command line argument to stop loading
the plugins: 
<code class="example"></code>
<code class="example">    $ vim --noplugin</code>

更多详情请阅读:

     <code class="badlink">'loadplugins'</code> 
     <code class="badlink">--noplugin</code> 
     <code class="badlink">load-plugins</code> 

                                                                <b class="vimtag"> <a name="faq-26.5">faq-26.5</a> </b>
26.5. How do I turn on/off loading the filetype plugins?

By default, Vim will not load the filetype plugins. You can configure Vim
to load filetype plugins using the command: 
<code class="example"></code>
<code class="example">    filetype plugin on</code>

You can turn off loading the filetype plugins using: 
<code class="example"></code>
<code class="example">    filetype plugin off</code>

更多详情请阅读:

     <code class="badlink">:filetype-plugin-on</code> 
     <code class="badlink">:filetype-plugin-off</code> 
     <code class="badlink">:filetype</code> 

                                                                <b class="vimtag"> <a name="faq-26.6">faq-26.6</a> </b>
26.6. How do I override settings made in a file type plugin in the global
      ftplugin directory for all the file types?

You can use an autocommand triggered on the FileType event: 
<code class="example"></code>
<code class="example">    au Filetype * set formatoptions=xyz</code>

This should at least be after "filetype on" in your vimrc. Best is to put
it in your "myfiletypefile" file, so that it's always last.

If you want to override a setting for a particular filetype, then create a
file with the same name as the original filetype plugin in the
~/.vim/after/ftplugin directory For example, to override a setting in the
c.vim filetype plugin, create a c.vim file in the ~/.vim/after/ftplugin
directory and add your preferences in this file.

更多详情请阅读:

     <code class="badlink">ftplugin-overrule</code> 
     <code class="badlink">ftplugins</code> 
     <code class="badlink">myfiletypefile</code> 

                                                                <b class="vimtag"> <a name="faq-26.7">faq-26.7</a> </b>
26.7. How do I disable the Vim directory browser plugin?

To disable the directory browsing Vim plugin, add the following line to
your .vimrc file: 
<code class="example"></code>
<code class="example">    let g:loaded_netrw = 1</code>

更多详情请阅读:

     <code class="badlink">netrw</code> 

                                                                <b class="vimtag"> <a name="faq-26.8">faq-26.8</a> </b>
26.8. How do I set the filetype option for files with names matching a
      particular pattern or depending on the file extension?

You can set the <code class="badlink">'filetype'</code> option for files with names matching a
particular pattern using an autocmd. For example, to set the <code class="badlink">'filetype'</code>
option to "c" for all files with extension ".x", you can use the following
autocmd: 
<code class="example"></code>
<code class="example">    autocmd! BufRead,BufNewFile *.x     setfiletype c</code>

A better alternative to the above approach is to create a filetype.vim file
in the ~/.vim directory (or in one of the directories specified in the
<code class="badlink">'runtimepath'</code> option) and add the following lines: 
<code class="example"></code>
<code class="example">    " my filetype file</code>
<code class="example">    if exists("did_load_filetypes")</code>
<code class="example">        finish</code>
<code class="example">    endif</code>
<code class="example">    augroup filetypedetect</code>
<code class="example">        au! BufRead,BufNewFile *.x       setfiletype c</code>
<code class="example">    augroup END</code>

更多详情请阅读:

     <code class="badlink">new-filetype</code> 
     <code class="badlink">43.2</code> 
     <code class="badlink">:setfiletype</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-27">faq-27</a> </b></h4><code class="section">SECTION 27 - EDITING PROGRAM FILES </code>

                                                                <b class="vimtag"> <a name="faq-27.1">faq-27.1</a> </b>
27.1. How do I enable automatic indentation for C/C++ files?

You can enable file-type based indentation using: 
<code class="example"></code>
<code class="example">    :filetype indent on</code>

If you want to only enable automatic C indentation, then use: 
<code class="example"></code>
<code class="example">    :set cindent</code>

更多详情请阅读:

     <code class="badlink">'cindent'</code> 
     <code class="badlink">C-indenting</code> 
     <code class="badlink">filetype</code> 

                                                                <b class="vimtag"> <a name="faq-27.2">faq-27.2</a> </b>
27.2. How do I configure the indentation used for C/C++ files?

You can configure the Vim C indentation by modifying the value of the
<code class="badlink">'cinoptions'</code>, <code class="badlink">'cinkeys'</code> and <code class="badlink">'cinwords'</code> options.

更多详情请阅读:

     <code class="badlink">'cindent'</code> 
     <code class="badlink">'cinoptions'</code> 
     <code class="badlink">'cinkeys'</code> 
     <code class="badlink">'cinwords'</code> 
     <code class="badlink">C-indenting</code> 
     <code class="badlink">cinoptions-values</code> 
     <code class="badlink">'smartindent'</code> 

                                                                <b class="vimtag"> <a name="faq-27.3">faq-27.3</a> </b>
27.3. How do I turn off the automatic indentation feature?

By default, the automatic indentation is not turned on. You must have
configured Vim to do automatic indentation in either .vimrc or .gvimrc
files. You can disable automatic indentation using either, 
<code class="example"></code>
<code class="example">    :filetype indent off</code>

or 
<code class="example"></code>
<code class="example">    :set nocindent</code>

Also, check the setting for the following options: 
<code class="example"></code>
<code class="example">    :set autoindent?</code>
<code class="example">    :set smartindent?</code>
<code class="example">    :set indentexpr?</code>

更多详情请阅读:

     <code class="badlink">'cindent'</code> 
     <code class="badlink">:filetype-indent-off</code> 
     <code class="badlink">'autoindent'</code> 
     <code class="badlink">'smartindent'</code> 
     <code class="badlink">'indentexpr'</code> 

                                                                <b class="vimtag"> <a name="faq-27.4">faq-27.4</a> </b>
27.4. How do I change the number of space characters used for the automatic
      indentation?

You can modify the <code class="badlink">'shiftwidth'</code> option to change the number of space
characters used for the automatic indentation: 
<code class="example"></code>
<code class="example">    :set shiftwidth=4</code>

更多详情请阅读:

     <code class="badlink">'shiftwidth'</code> 

                                                                <b class="vimtag"> <a name="faq-27.5">faq-27.5</a> </b>
27.5. I am editing a C program using Vim. How do I display the definition
      of a macro or a variable?

You can use the "[d" command to display the definition of a macro, "[i"
command to display the definition of a variable, "gd" to goto the local
declaration of a variable and "gD" to go to the global Declaration.

更多详情请阅读:

     <code class="badlink">[d</code> 
     <code class="badlink">[i</code> 
     <code class="badlink">gd</code> 
     <code class="badlink">gD</code> 
     <code class="badlink">include-search</code> 
     <code class="badlink">29.4</code> 
     <code class="badlink">29.5</code> 

                                                                <b class="vimtag"> <a name="faq-27.6">faq-27.6</a> </b>
27.6. I am editing a C program using Vim. How do I jump to the beginning or
      end of a code block from within the block?

You can use "[{" command to jump to the beginning of the code block and "]}"
to jump to the end of the code block from inside the block.

更多详情请阅读:

     <code class="badlink">[{</code> 
     <code class="badlink">]}</code> 
     <code class="badlink">various-motions</code> 

                                                                <b class="vimtag"> <a name="faq-27.7">faq-27.7</a> </b>
27.7. When editing C++ files and when inserting new lines above or below a
      comment (//) line, Vim automatically inserts the C++ comment
      character (//) at the beginning of the line. How do I disable this?

This automatic insertion of the comment leader (//) when new lines
are added is controlled by three flags in the <code class="badlink">'formatoptions'</code>
option:  "c", "r" and "o".  "c" enables auto-wrapping of comment
lines when typing extends beyond the right margin.  "r" enables the
automatic insertion of the comment leader when <code class="special">&lt;Enter&gt;</code> is pressed
while editing a comment line.  "o" enables the automatic insertion
of the comment leader when a new line is opened above or below an
existing comment line by typing O or o in Normal mode.

You can stop Vim from automatically inserting the comment leader
when typing <code class="special">&lt;Enter&gt;</code> within a comment or when opening a new line by
removing the "r" and "o" flags from <code class="badlink">'formatoptions'</code>.

   :set formatoptions-=r
   :set formatoptions-=o

The default filetype plugin for C and C++ files
($VIMRUNTIME/ftplugin/c.vim) adds the "r" and "o" flags to the
<code class="badlink">'formatoptions'</code> option.  If you want to override this for C++ files,
then you can add the above lines to the
~/.vim/after/ftplugin/cpp.vim file.

更多详情请阅读:

     <code class="badlink">formatoptions</code> 
     <code class="badlink">30.6</code> 
     <code class="badlink">format-comments</code> 
     <code class="badlink">filetype-plugins</code> 
     <code class="badlink">ftplugin-overrule</code> 

                                                                <b class="vimtag"> <a name="faq-27.8">faq-27.8</a> </b>
27.8. How do I add the comment character "#" to a set of lines at the
      beginning of each line?

First, select the first character in all the lines using visual block mode
(<code class="keystroke">CTRL-V</code>). Press "I" to start inserting characters at the beginning of the
line. Enter the comment character and then stop the insert mode by pressing
<code class="special">&lt;Esc&gt;</code>. Vim will automatically insert the entered characters at the
beginning of all the selected lines.

更多详情请阅读:

     <code class="badlink">visual-block</code> 
     <code class="badlink">blockwise-operators</code> 
     <code class="badlink">v_b_I</code> 

                                                                <b class="vimtag"> <a name="faq-27.9">faq-27.9</a> </b>
27.9. How do I edit a header file with the same name as the corresponding C
      source file?

You can use the following command to edit a header file with the same name
as the corresponding C source file: 
<code class="example"></code>
<code class="example">    :e %:t:r.h</code>

You can use the following command to edit the file in a new split window: 
<code class="example"></code>
<code class="example">    :sp %:t:r.h</code>

In the above commands, the percent sign expands to the name of the current
file.  The  <code class="badlink">:t</code>  modifier extracts the tail (last component) of the
filename. The  <code class="badlink">:r</code>  modifier extracts the root of the filename.  The .h is
appended to the resulting name to get the header filename.

Another approach is to use the following command: 
<code class="example"></code>
<code class="example">    :sfind %:t:r.h</code>

This command will search for the header file in the directories specified
in the <code class="badlink">'path'</code> option.

更多详情请阅读:

     <code class="badlink">cmdline-special</code> 
     <code class="badlink">filename-modifiers</code> 
     <code class="badlink">:sfind</code> 
     <code class="badlink">'path'</code> 

                                                                <b class="vimtag"> <a name="faq-27.10">faq-27.10</a> </b>
27.10. How do I automatically insert comment leaders while typing comments?

To automatically insert comment leaders while typing comments, add the "r"
and "o" flags to the <code class="badlink">'formatoptions'</code> option. 
<code class="example"></code>
<code class="example">    :set formatoptions+=ro</code>

You may also want to add the "c" flag to auto-wrap comments using the
<code class="badlink">'textwidth'</code> option setting and the "q" flag to format comments with the
"gq" command: 
<code class="example"></code>
<code class="example">    :set formatoptions=croq</code>

更多详情请阅读:

     <code class="badlink">30.6</code> 
     <code class="badlink">format-comments</code> 
     <code class="badlink">'comments'</code> 
     <code class="badlink">fo-table</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-28">faq-28</a> </b></h4><code class="section">SECTION 28 - QUICKFIX </code>

                                                                <b class="vimtag"> <a name="faq-28.1">faq-28.1</a> </b>
28.1. How do I build programs from Vim?

You can use the  <code class="badlink">:make</code>  command to build programs from Vim. The  <code class="badlink">:make</code> 
command runs the program specified by the <code class="badlink">'makeprg'</code> option.

更多详情请阅读:

     <code class="badlink">30.1</code> 
     <code class="badlink">:make_makeprg</code> 
     <code class="badlink">'makeprg'</code> 
     <code class="badlink">'makeef'</code> 
     <code class="badlink">:make</code> 
     <code class="badlink">quickfix</code> 

                                                                <b class="vimtag"> <a name="faq-28.2">faq-28.2</a> </b>
28.2. When I run the make command in Vim I get the errors listed as the
      compiler compiles the program. When it finishes this list disappears
      and I have to use the  <code class="badlink">:clist</code>  command to see the error message again.
      Is there any other way to see these error messages?

You can use the  <code class="badlink">:copen</code>  or  <code class="badlink">:cwindow</code>  command to open the quickfix window
that contains the compiler output. You can select different error lines
from this window and jump to the corresponding line in the source code.

更多详情请阅读:

     <code class="badlink">:copen</code> 
     <code class="badlink">:cwindow</code> 
     <code class="badlink">quickfix</code> 

                                                                <b class="vimtag"> <a name="faq-28.3">faq-28.3</a> </b>
28.3. How can I perform a command for each item in the quickfix/location
      list?

Starting from Vim 7.4.858 Vim provides the new commands  <code class="badlink">:cfdo</code> ,  <code class="badlink">:cdo</code> ,
 <code class="badlink">:lfdo</code>  and  <code class="badlink">:ldo.</code>  They work by iterating over all items in the quickfix
list and performing a command on each. The difference is, that the  <code class="badlink">:lfdo</code> 
and  <code class="badlink">:ldo</code>  commands iterate over the location list entries, while the
 <code class="badlink">:cfdo</code>  and  <code class="badlink">:cdo</code>  commands operate on the items in the quickfix list. Also,
the  <code class="badlink">:cfdo</code>  and  <code class="badlink">:lfdo</code>  operate on all different files, while the  <code class="badlink">:cdo</code>  and
 <code class="badlink">:ldo</code>  commands operate on each item in the quickfix/location list.

For example you could vimgrep all C files in the current directory for a
search string "Foobar": 
<code class="example"></code>
<code class="example">    :vimgrep /Foobar/ *.c</code>

and as this populates your quickfix list, you could simply replace all
occurences by using: 
<code class="example"></code>
<code class="example">    :cdo :%s/Foobar/Foobaz | upd</code>

更多详情请阅读:

     <code class="badlink">:cfdo</code> 
     <code class="badlink">:cdo</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-29">faq-29</a> </b></h4><code class="section">SECTION 29 - FOLDING </code>

                                                                <b class="vimtag"> <a name="faq-29.1">faq-29.1</a> </b>
29.1. How do I extend the Vim folding support?

You can use the <code class="badlink">'foldexpr'</code> option to fold using a user specified function.
For example, to fold subroutines of the following form into a single line: 
<code class="example"></code>
<code class="example">    sub foo {</code>
<code class="example">      my $barf;</code>
<code class="example">      $barf = 3;</code>
<code class="example">      return $barf;</code>
<code class="example">    }</code>

You can use the following commands: 
<code class="example"></code>
<code class="example">    set foldmethod=expr</code>
<code class="example">    set foldexpr=MyFoldExpr(v:lnum)</code>
<code class="example">    fun! MyFoldExpr(line)</code>
<code class="example">        let str = getline(a:line)</code>
<code class="example">        if str =~ '^sub\&gt;'</code>
<code class="example">            return '1'</code>
<code class="example">        elseif str =~ '^}'</code>
<code class="example">            return '&lt;1'</code>
<code class="example">        else</code>
<code class="example">            return foldlevel(a:line - 1)</code>
<code class="example">        endif</code>
<code class="example">    endfun</code>

更多详情请阅读:

     <code class="badlink">'foldexpr'</code> 
     <code class="badlink">fold-expr</code> 

                                                                <b class="vimtag"> <a name="faq-29.2">faq-29.2</a> </b>
29.2. When I enable folding by setting the <code class="badlink">'foldmethod'</code> option, all the
      folds are closed. How do I prevent this?

You can set the <code class="badlink">'foldlevelstart'</code> option to a particular value to close only
folds above the specified value. 
<code class="example"></code>
<code class="example">    :set foldlevelstart=99</code>

更多详情请阅读:

     <code class="badlink">'foldlevelstart'</code> 
     <code class="badlink">'foldlevel'</code> 
     <code class="badlink">fold-foldlevel</code> 

                                                                <b class="vimtag"> <a name="faq-29.3">faq-29.3</a> </b>
29.3. How do I control how many folds will be opened when I start editing a
      file?

You can modify the <code class="badlink">'foldlevelstart'</code> option to control the number of folds
that will be opened when you start editing a file. To start editing with
all the folds closed: 
<code class="example"></code>
<code class="example">    :set foldlevelstart=0</code>

To start editing with all the folds opened, you can use 
<code class="example"></code>
<code class="example">    :set foldlevelstart=999</code>

更多详情请阅读:

     <code class="badlink">'foldlevelstart'</code> 

                                                                <b class="vimtag"> <a name="faq-29.4">faq-29.4</a> </b>
29.4. How do I open and close folds using the mouse?

You can click on the + and - characters displayed at the leftmost column to
open and close fold. For this to work, you have to set the <code class="badlink">'foldcolumn'</code>
to a value greater than zero: 
<code class="example"></code>
<code class="example">    :set foldcolumn=2</code>

更多详情请阅读:

     <code class="badlink">'foldcolumn'</code> 

                                                                <b class="vimtag"> <a name="faq-29.5">faq-29.5</a> </b>
29.5. How do I change the text displayed for a closed fold?

You can use the <code class="badlink">'foldtext'</code> option to change the text displayed for a closed
fold.

更多详情请阅读:

     <code class="badlink">'foldtext'</code> 
     <code class="badlink">fold-foldtext</code> 
     <code class="badlink">'fillchars'</code> 

                                                                <b class="vimtag"> <a name="faq-29.6">faq-29.6</a> </b>
29.6. How do I store and restore manually created folds across different
      Vim invocations?

You can use the  <code class="badlink">:mkview</code>  command to store manually created folds. Later,
you can use the  <code class="badlink">:loadview</code>  command to restore the folds. For this to work,
the <code class="badlink">'viewoptions'</code> must contain "folds".

更多详情请阅读:

     <code class="badlink">28.4</code> 
     <code class="badlink">:mkview</code> 
     <code class="badlink">:loadview</code> 
     <code class="badlink">'viewoptions'</code> 
     <code class="badlink">'viewdir'</code> 
     <code class="badlink">:mksession</code> 
     <code class="badlink">'sessionoptions'</code> 

                                                                <b class="vimtag"> <a name="faq-29.7">faq-29.7</a> </b>
29.7. I have enabled syntax based folding. Why is Vim so slow?

Syntax based folding is currently rather slow in Vim and will possibly
slow down Vim considerably. There is an issue in the todo list to fix
this, but the todo list is rather long and it may take a while until
this will be fixed.

You can find the issue in the todo list, if you read

     <code class="badlink">todo.txt</code> 

followed by a search for "folding with <code class="badlink">'foldmethod'</code>"

A workaround is to temporarily set the foldmethod to manual while in
insert mode. This is described in the wiki at:

    <a href="http://vim.wikia.com/wiki/Keep_folds_closed_while_inserting_text">http://vim.wikia.com/wiki/Keep_folds_closed_while_inserting_text</a>

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-30">faq-30</a> </b></h4><code class="section">SECTION 30 - VIM WITH EXTERNAL APPLICATIONS </code>

                                                                <b class="vimtag"> <a name="faq-30.1">faq-30.1</a> </b>
30.1. Can I run a shell inside a Vim window?

Since Version 8.1 Vim comes with a terminal window included. It allows
to run a shell inside an ordinary Vim window (e.g. split) asynchronously
and interact with the shell using the normal Vim commands.

When the focus is in the terminal window, typed keys will be sent to
the job and is called terminal mode. You can click outside of the
terminal window to move keyboard focus elsewhere, alternatively one can
use <code class="keystroke">CTRL-W</code> to novigate between different Vim windows. To feed <code class="keystroke">CTRL-W</code> into the
terminal, one needs to use <code class="keystroke">CTRL-W</code> .

To map keys specifically for terminal mode, use the new  <code class="badlink">:tmap</code> 
command. After typing <code class="keystroke">CTRL-W</code> the terminal window will switch to
Terminal-Normal mode (this can be used to move the cursor around, scroll
the window, etc. Just like normal mode).

To interact between the terminal and Vim, Vim implements several
interfaces using term_sendkeys(), terminal-api and the client-server
mechanism.

更多详情请阅读:

     <code class="badlink">terminal</code> 
     <code class="badlink">mapmode-t</code> 
     <code class="badlink">Terminal-Normal</code> 
     <code class="badlink">terminal-communication</code> 

                                                                <b class="vimtag"> <a name="faq-30.2">faq-30.2</a> </b>
30.2. How do I pass the word under the cursor to an external command?

You can use the special keyword <code class="special">&lt;cword&gt;</code> to pass the word under the cursor
to an external command. For example: 
<code class="example"></code>
<code class="example">    :!dict &lt;cword&gt;</code>

更多详情请阅读:

     <code class="badlink">:&lt;cword&gt;</code> 

                                                                <b class="vimtag"> <a name="faq-30.3">faq-30.3</a> </b>
30.3. How do I get the output of a shell command into a Vim buffer?

You can use the `:r !` command to get the output of a shell command into a
Vim buffer. For example, to insert the output of the "ls" shell command,
you can use the following command: 
<code class="example"></code>
<code class="example">    :r !ls</code>

To insert the output of the shell command above the first line use the
following command: 
<code class="example"></code>
<code class="example">    :0r !ls</code>

更多详情请阅读:

     <code class="badlink">:r!</code> 

                                                                <b class="vimtag"> <a name="faq-30.4">faq-30.4</a> </b>
30.4. How do I pipe the contents of the current buffer to an external
      command and replace the contents of the buffer with the output from
      the command?

You can use the :! command to pipe the contents of the current buffer to an
external command and replace the contents of the buffer with the output
from the command. For example, to sort the contents of the current buffer,
using the Unix sort command, you can use the following command: 
<code class="example"></code>
<code class="example">    :%!sort</code>

To sort only lines 10-20, you can use the following command 
<code class="example"></code>
<code class="example">    :10,20!sort</code>

Also, if you want to pipe a buffer to an external command but not put the
results back in the buffer, you can use 
<code class="example"></code>
<code class="example">    :w !sort</code>

The above command will pipe the entire buffer to the sort command.  Note,
that the space between the "w" and the "!" is critical.  To pipe only a
range of lines, you can use 
<code class="example"></code>
<code class="example">    :10,20w !sort</code>

The above command will pipe the lines 10-20 to the sort command.

更多详情请阅读:

     <code class="badlink">:range!</code> 
     <code class="badlink">10.9</code> 
     <code class="badlink">:w_c</code> 

                                                                <b class="vimtag"> <a name="faq-30.5">faq-30.5</a> </b>
30.5. How do I sort a section of my file?

You use the  <code class="badlink">:sort</code>  command like this:

   :5,100sort

Using the  <code class="badlink">:sort</code>  command provides many options, you can sort numerical on
the first found decimal number using:

   :%sort n

Or you can specify to sort on the text, starting at virtual column 8:

   :%sort /.*\%8v/

Alternatively can pipe a section of the file to the Unix "sort" utility to
sort the file. For example: 
<code class="example"></code>
<code class="example">    :5,100!sort</code>

You can also use a visual block, and use the "!sort" command on the
selected block.

See also:
     <code class="badlink">:sort</code> 
     <code class="badlink">filter</code> 

                                                                <b class="vimtag"> <a name="faq-30.6">faq-30.6</a> </b>
30.6. How do I use Vim as a pager?

You can use Vim as a pager using the $VIMRUNTIME/macros/less.sh shell
script, supplied as part of the standard Vim distribution. This shell
script uses the $VIMRUNTIME/macros/less.vim Vim script to provide less like
key bindings.

更多详情请阅读:

     <code class="badlink">less</code> 

                                                                <b class="vimtag"> <a name="faq-30.7">faq-30.7</a> </b>
30.7. How do I view Unix man pages from inside Vim?

You can view Unix man pages, inside Vim, using the man.vim plugin supplied
as part of the standard Vim distribution. To use this plugin, add the
following line to your startup vimrc file: 
<code class="example"></code>
<code class="example">    runtime ftplugin/man.vim</code>

You can also press the K key to run the program specified by the
<code class="badlink">'keywordprg'</code> option with the keyword under the cursor. By default,
<code class="badlink">'keywordprg'</code> is set to run man on the keyword under the cursor.

更多详情请阅读:

     <code class="badlink">ft-man-plugin</code> 
     <code class="badlink">K</code> 
     <code class="badlink">'keywordprg'</code> 

                                                                <b class="vimtag"> <a name="faq-30.8">faq-30.8</a> </b>
30.8. How do I change the diff command used by the Vim diff support?

By default, the Vim diff support uses the <code class="badlink">'diff'</code> command. You can change
this by changing the <code class="badlink">'diffexpr'</code> option.

更多详情请阅读:

     <code class="badlink">diff-diffexpr</code> 
     <code class="badlink">'diffexpr'</code> 

                                                                <b class="vimtag"> <a name="faq-30.9">faq-30.9</a> </b>
30.9. How do I use the Vim diff mode without folding?

You can use the following command-line to start Vim with two filenames
and use the diff mode without folding: 
<code class="example"></code>
<code class="example">    $ vim -o file1 file2 "+windo set diff scrollbind scrollopt+=hor nowrap"</code>

If you like vertically split windows, then replace "-o" with "-O".

更多详情请阅读:

     <code class="badlink">vimdiff</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-31">faq-31</a> </b></h4><code class="section">SECTION 31 - GUI VIM </code>

                                                                <b class="vimtag"> <a name="faq-31.1">faq-31.1</a> </b>
31.1. How do I create buffer specific menus?

Adding support for buffer specific menus is in the Vim TODO list. In the
mean time, you can try Michael Geddes's plugin, buffermenu.vim:

    <a href="https://www.vim.org/scripts/script.php?script_id=246">https://www.vim.org/scripts/script.php?script_id=246</a>

                                                                <b class="vimtag"> <a name="faq-31.2">faq-31.2</a> </b>
31.2. How do I change the font used by GUI Vim?

You can change the <code class="badlink">'guifont'</code> option to change the font used by GUI Vim.  To
display the current value of this option, you can use 
<code class="example"></code>
<code class="example">    :set guifont?</code>

You can add the displayed font name to the .vimrc file to use the font
across Vim sessions. For example, add the following line to the .vimrc file
to use Andale Mono font. 
<code class="example"></code>
<code class="example">    set guifont=Andale_Mono:h10:cANSI</code>

For Win32, GTK and Photon version of Vim, you can use the following command
to bringup a dialog which will help you in changing the guifont: 
<code class="example"></code>
<code class="example">    :set guifont=*</code>

You can also use the -font Vim command line option to specify the font used
for normal text.

更多详情请阅读:

     <code class="badlink">'guifont'</code> 
     <code class="badlink">'guifontset'</code> 
     <code class="badlink">'guifontwide'</code> 
     <code class="badlink">font-sizes</code> 
     <code class="badlink">-font</code> 
     <code class="badlink">-boldfont</code> 
     <code class="badlink">-italicfont</code> 
     <code class="badlink">-menufont</code> 
     <code class="badlink">-menufontset</code> 

                                                                <b class="vimtag"> <a name="faq-31.3">faq-31.3</a> </b>
31.3. When starting GUI Vim, how do I specify the location of the GVIM
      window?

You can use the "-geometry" command line argument to specify the location
of the GUI Vim window. For example: 
<code class="example"></code>
<code class="example">    $ gvim -geometry 80x25+100+300</code>

更多详情请阅读:

     <code class="badlink">31.4</code> 
     <code class="badlink">-geom</code> 

                                                                <b class="vimtag"> <a name="faq-31.4">faq-31.4</a> </b>
31.4. How do I add a horizontal scrollbar in GVim?

You can enable the horizontal scrollbar by modifying the <code class="badlink">'guioptions'</code>
option: 
<code class="example"></code>
<code class="example">    :set guioptions+=b</code>

更多详情请阅读:

     <code class="badlink">'guioptions'</code> 
     <code class="badlink">gui-horiz-scroll</code> 

                                                                <b class="vimtag"> <a name="faq-31.5">faq-31.5</a> </b>
31.5. How do I make the scrollbar appear in the left side by default?

You can add the "l" flag to the <code class="badlink">'guioptions'</code> option to make the scrollbar
appear in the left side. 
<code class="example"></code>
<code class="example">    :set guioptions+=l</code>
<code class="example">    :set guioptions-=r</code>

更多详情请阅读:

     <code class="badlink">'guioptions'</code> 
     <code class="badlink">gui-scrollbars</code> 

                                                                <b class="vimtag"> <a name="faq-31.6">faq-31.6</a> </b>
31.6. How do I remove the Vim menubar?

You can remove the Vim menubar by removing the "m" flag from the
<code class="badlink">'guioptions'</code> option: 
<code class="example"></code>
<code class="example">    :set guioptions-=m</code>

更多详情请阅读:

     <code class="badlink">'guioptions'</code> 

                                                                <b class="vimtag"> <a name="faq-31.7">faq-31.7</a> </b>
31.7. I am using GUI Vim. When I press the <code class="special">&lt;Alt&gt;</code> key and a letter, the menu
      starting with that letter is selected. I don't want this behavior as
      I want to map the <code class="special">&lt;Alt&gt;</code>-<code class="special">&lt;key&gt;</code> combination. How do I do this?

You can use the <code class="badlink">'winaltkeys'</code> option to disable the use of the <code class="special">&lt;Alt&gt;</code> key to
select a menu item: 
<code class="example"></code>
<code class="example">    :set winaltkeys=no</code>

更多详情请阅读:

     <code class="badlink">'winaltkeys'</code> 
     <code class="badlink">:simalt</code> 

                                                                <b class="vimtag"> <a name="faq-31.8">faq-31.8</a> </b>
31.8. Is it possible to scroll the text by dragging the scrollbar so that
      the cursor stays in the original location?

The way Vim is designed, the cursor position has to be in a visible spot in
normal, visual, select and insert mode. This cannot be changed without
modifying Vim. When the scrollbar is used, the cursor will be moved so that
it is always visible. Another approach to solving this problem is to use
the Vim marks. You can mark the current cursor position using ma. Then
scroll to a different part of the text and jump back to the old position
using `a. You can also try the following suggestion from the Vim Online
website:

    <a href="http://vim.wikia.com/wiki/VimTip320">http://vim.wikia.com/wiki/VimTip320</a>

更多详情请阅读:

     <code class="badlink">mark-motions</code> 

                                                                <b class="vimtag"> <a name="faq-31.9">faq-31.9</a> </b>
31.9. How do I get gvim to start browsing files in a particular directory
      when using the  <code class="badlink">:browse</code>  command?

You can set the <code class="badlink">'browsedir'</code> option to the default directory to use for the
 <code class="badlink">:browse</code>  command. 
<code class="example"></code>
<code class="example">    :set browsedir='&lt;your_dir&gt;'</code>

更多详情请阅读:

     <code class="badlink">'browsedir'</code> 

                                                                <b class="vimtag"> <a name="faq-31.10">faq-31.10</a> </b>
31.10. For some questions, like when a file is changed outside of Vim, Vim
       displays a GUI dialog box. How do I replace this GUI dialog box with
       a console dialog box?

You can set the "c" flag in the <code class="badlink">'guioptions'</code> option to configure Vim to use
console dialogs instead of GUI dialogs: 
<code class="example"></code>
<code class="example">    :set guioptions+=c</code>

更多详情请阅读:

     <code class="badlink">'guioptions'</code> 

                                                                <b class="vimtag"> <a name="faq-31.11">faq-31.11</a> </b>
31.11. I am trying to use GUI Vim as the editor for my xxx application.
       When the xxx application launches GUI Vim to edit a file, the
       control immediately returns to the xxx application. How do I start
       GUI Vim, so that the control returns to the xxx application only
       after I quit Vim?

You have to start GUI Vim with the "-f" (foreground) command line option: 
<code class="example"></code>
<code class="example">    $ gvim -f</code>

By default, GUI Vim will disconnect from the program that started Vim. With
the '-f' option, GUI Vim will not disconnect from the program that started
it.

更多详情请阅读:

     <code class="badlink">gui-fork</code> 
     <code class="badlink">-f</code> 

                                                                <b class="vimtag"> <a name="faq-31.12">faq-31.12</a> </b>
31.12. Why does the "Select Font" dialog doesn't show all the fonts
       installed in my system?

Vim supports only fixed width (mono-spaced) fonts. Proportional fonts are
not supported.  In the "Select Font" dialog, only fixed width fonts will be
displayed.

更多详情请阅读:

     <code class="badlink">font-sizes</code> 
     <code class="badlink">'guifont'</code> 

                                                                <b class="vimtag"> <a name="faq-31.13">faq-31.13</a> </b>
31.13. How do I use the mouse in Vim command-line mode?

You can set the "c" flag in the <code class="badlink">'mouse'</code> option to use mouse in the Vim
command-line mode: 
<code class="example"></code>
<code class="example">    :set mouse+=c</code>

更多详情请阅读:

     <code class="badlink">mouse-using</code> 
     <code class="badlink">gui-mouse</code> 
     <code class="badlink">09.2</code> 

                                                                <b class="vimtag"> <a name="faq-31.14">faq-31.14</a> </b>
31.14. When I use the middle mouse button to scroll text, it pastes the
       last copied text. How do I disable this behavior?

You can map the middle mouse button to <code class="special">&lt;Nop&gt;</code> to disable the middle mouse
button: 
<code class="example"></code>
<code class="example">    :map  &lt;MiddleMouse&gt; &lt;Nop&gt;</code>
<code class="example">    :map! &lt;MiddleMouse&gt; &lt;Nop&gt;</code>

更多详情请阅读:

     <code class="badlink">gui-mouse-mapping</code> 
     <code class="badlink">&lt;Nop&gt;</code> 

                                                                <b class="vimtag"> <a name="faq-31.15">faq-31.15</a> </b>
31.15. How do I change the location and size of a GUI Vim window?

You can use the  <code class="badlink">:winpos</code>  command to change the Vim window position. To
change the size of the window, you can modify the <code class="badlink">'lines'</code> and <code class="badlink">'columns'</code>
options.

For example, the following commands will position the GUI Vim window at the
X,Y co-ordinates 50,50 and set the number of lines to 50 and the number of
columns to 80. 
<code class="example"></code>
<code class="example">    :winpos 50 50</code>
<code class="example">    :set lines=50</code>
<code class="example">    :set columns=80</code>

The arguments to the  <code class="badlink">:winpos</code>  command specify the pixel co-ordinates of the
Vim window. The <code class="badlink">'lines'</code> and <code class="badlink">'columns'</code> options specify the number of lines
and characters to use for the height and the width of the window
respectively.

更多详情请阅读:

     <code class="badlink">31.4</code> 
     <code class="badlink">:winpos</code> 
     <code class="badlink">'lines'</code> 
     <code class="badlink">'columns'</code> 
     <code class="badlink">GUIEnter</code> 

                                                                <b class="vimtag"> <a name="faq-31.16">faq-31.16</a> </b>
31.16. When splitting the Vim window vertically, Vim changes the position.

This is a known problem. When you are splitting the Vim window, Vim will
try to draw a scrollbar. Since this changes the gui window, Vim tries to
resize its main window to keep the same position and this will cause Vim
to move its position. This happens on Windows with a multi-window setup or
a window that was "snapped" to a certain position.

A workaournd to this problem is, to remove gui scrollbars, e.g. 
<code class="example"></code>
<code class="example">    :set guioptions-=L</code>


</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-32">faq-32</a> </b></h4><code class="section">SECTION 32 - VIM ON UNIX </code>

                                                                <b class="vimtag"> <a name="faq-32.1">faq-32.1</a> </b>
32.1. I am running Vim in a xterm. When I press the <code class="keystroke">CTRL-S</code> key, Vim
      freezes. What should I do now?

Many terminal emulators and real terminal drivers use the <code class="keystroke">CTRL-S</code> key to
stop the data from arriving so that you can stop a fast scrolling display
to look at it (also allowed older terminals to slow down the computer so
that it did not get buffer overflows).  You can start the output again by
pressing the <code class="keystroke">CTRL-Q</code> key.

When you press the <code class="keystroke">CTRL-S</code> key, the terminal driver will stop sending the
output data. As a result of this, it will look like Vim is hung. If you
press the <code class="keystroke">CTRL-Q</code> key, then everything will be back to normal.

You can turn off the terminal driver flow control using the "stty" command: 
<code class="example"></code>
<code class="example">    $ stty -ixon -ixoff</code>

or, you can change the keys used for the terminal flow control, using the
following commands: 
<code class="example"></code>
<code class="example">    $ stty stop &lt;char&gt;</code>
<code class="example">    $ stty start &lt;char&gt;</code>

                                                                <b class="vimtag"> <a name="faq-32.2">faq-32.2</a> </b>
32.2. I am seeing weird screen update problems in Vim. What can I do to
      solve this screen/display update problems?

You have to use a proper terminal emulator like xterm with correct TERM
settings (TERM=xterm) and a correct terminfo/termcap file.
更多详情请阅读:

     <code class="badlink">'term'</code> 

                                                                <b class="vimtag"> <a name="faq-32.3">faq-32.3</a> </b>
32.3. I am using the terminal/console version of Vim. In insertmode, When I
      press the backspace key, the character before the cursor is not
      erased. How do I configure Vim to do this?

You have to make sure that Vim gets the correct keycode for the backpspace
key. You can try using the command: 
<code class="example"></code>
<code class="example">    :fixdel</code>

Make sure the TERM environment variable is set to the correct terminal
name. You can try using the "stty" command: 
<code class="example"></code>
<code class="example">    $ stty erase ^H</code>

where, you have to enter the ^H character by pressing the <code class="keystroke">CTRL-V</code> key and
then the <code class="keystroke">CTRL-H</code> key. Also check the value of your <code class="badlink">'backspace'</code> setting.

更多详情请阅读:

     <code class="badlink">:fixdel</code> 
     <code class="badlink">Linux-backspace</code> 
     <code class="badlink">NetBSD-backspace</code> 
     <code class="badlink">'backspace'</code> 

                                                                <b class="vimtag"> <a name="faq-32.4">faq-32.4</a> </b>
32.4. I am using Vim in a xterm. When I quit Vim, the screen contents are
      restored back to the original contents. How do I disable this?

The xterm has a capability called "alternate screen".  If this capability
is present, vim switches to that alternate screen upon startup and back on
exit, thus restoring the original screen contents.  To disable this
feature, add the following line to your .vimrc file: 
<code class="example"></code>
<code class="example">    :set t_ti= t_te=</code>

更多详情请阅读:

     <code class="badlink">'restorescreen'</code> 
     <code class="badlink">xterm-screens</code> 

                                                                <b class="vimtag"> <a name="faq-32.5">faq-32.5</a> </b>
32.5. When I start Vim, it takes quite a few seconds to start. How do I
      minimize the startup time?

This may be related to Vim opening the X display for setting the xterm
title and using the X clipboard. Make sure the DISPLAY variable is set to
point to the correct host. Try using the command line: 
<code class="example"></code>
<code class="example">    $ vim -X</code>

This will prevent Vim from opening the X display. With this command-line
option, the X clipboard cannot be used and also Vim will not be able to
change the xterm title.

You can also set the <code class="badlink">'clipboard'</code> option to 
<code class="example"></code>
<code class="example">    :set clipboard=exclude:.*</code>

This has the same effect as using the -X command-line argument.

更多详情请阅读:

     <code class="badlink">-X</code> 
     <code class="badlink">'clipboard'</code> 

If the clipboard is not the cause of the slow startup, it might be a
plugin that slows down Vim. In that case, you can use the --startuptime
argument to debug this further. You can do: 
<code class="example"></code>
<code class="example">    $ vim --startuptime vim_startup.log</code>

and the timing will be written to the file vim_startup.log. For even
more advanced profiling, you can use the profiling feature, that is
available in huge builds of Vim. To do so, call Vim like this: 
<code class="example"></code>
<code class="example">    $ vim --cmd 'profile start profile.log' \</code>
<code class="example">      --cmd 'profile func *' \</code>
<code class="example">      --cmd 'profile file *' \</code>
<code class="example">      -c 'profdel func *' \</code>
<code class="example">      -c 'profdel file *' \</code>
<code class="example">      -c 'qa!'</code>

After running this, you will have a file profile.log in your current
directory. To further analyse this, open the file profile.log and run: 
<code class="example"></code>
<code class="example">    " Open profile.log file in vim first</code>
<code class="example">    :let timings=[]</code>
<code class="example">    :g/^SCRIPT/call add(timings, [getline('.')[len('SCRIPT  '):], matchstr(getline(line('.')+1), '^Sourced \zs\d\+')]+map(getline(line('.')+2, line('.')+3), 'matchstr(v:val, ''\d\+\.\d\+$'')'))</code>
<code class="example">    :enew</code>
<code class="example">    :call setline('.', ['count total (s)   self (s)  script']+map(copy(timings), 'printf("%5u %9s   %8s  %s", v:val[1], v:val[2], v:val[3], v:val[0])'))</code>

更多详情请阅读:

     <code class="badlink">--startuptime</code> 
     <code class="badlink">profiling</code> 

                                                                <b class="vimtag"> <a name="faq-32.6">faq-32.6</a> </b>
32.6. How can I make the cursor in gvim in unix stop blinking?

You can modify the <code class="badlink">'guicursor'</code> option, to stop the cursor from blinking.
For example: 
<code class="example"></code>
<code class="example">    :set guicursor=a:blinkon0</code>

更多详情请阅读:

     <code class="badlink">'guicursor'</code> 

                                                                <b class="vimtag"> <a name="faq-32.7">faq-32.7</a> </b>
32.7. How do I change the menu font on GTK Vim?

You can modify the ~/.gtkrc file to change the menu font on GTK Vim. For
example: 
<code class="example"></code>
<code class="example">    style "default"</code>
<code class="example">    { font ="smooth09" }</code>
<code class="example">    class "*" style "default"</code>

The last line changes the font of all widgets.

更多详情请阅读:

     <code class="badlink">gui-gtk</code> 

                                                                <b class="vimtag"> <a name="faq-32.8">faq-32.8</a> </b>
32.8. How do I prevent <code class="keystroke">CTRL-Z</code> from suspending Vim?

You can map <code class="keystroke">CTRL-Z</code> to prevent the suspending. Here are some suggestions:

- Make <code class="keystroke">CTRL-Z</code> do nothing: 
<code class="example"></code>
<code class="example">    :map &lt;C-Z&gt; &lt;Nop&gt;</code>

- Make <code class="keystroke">CTRL-Z</code> start a shell: 
<code class="example"></code>
<code class="example">    :map &lt;C-Z&gt; :shell&lt;CR&gt;</code>

- Make <code class="keystroke">CTRL-Z</code> give an error message: 
<code class="example"></code>
<code class="example">    :map &lt;C-Z&gt; :"suspending disabled&lt;CR&gt;</code>

For the last example, the double quote is necessary in order to keep the
message on the status line.

                                                                <b class="vimtag"> <a name="faq-32.9">faq-32.9</a> </b>
32.9. When I kill the xterm running Vim, the Vim process continues to run
      and takes up a lot of CPU (99%) time. Why is this happening?

When Vim is built with support for Python interface, you will have this
problem. This is a known problem with the python thread library and Vim.  To
solve this problem, use a Vim binary built without the Python interface.

更多详情请阅读:

     <code class="badlink">+python</code> 
     <code class="badlink">python</code> 

                                                                <b class="vimtag"> <a name="faq-32.10">faq-32.10</a> </b>
32.10. How do I get the Vim syntax highlighting to work in a Unix terminal?

The easiest and simplest way to get Vim syntax highlighting is to use the
GUI version of Vim (GVIM). To get syntax highlighting to work in the
console/terminal version of Vim, you have to run a terminal emulator (like
Xfree86 xterm or rxvt or dtterm) that supports color. <code class="note">Note </code>that if a
terminal emulator supports changing the background and foreground colors,
that does not mean that it also supports ANSI escape sequences for changing
the color. You can download the latest version of Xfree86 xterm from
<a href="https://invisible-island.net/xterm/xterm.html">https://invisible-island.net/xterm/xterm.html</a>
You can download the latest version of rxvt from <a href="https://rxvt.org">https://rxvt.org</a>
You have to install the terminfo/termcap file that supports colors for the
terminal emulator. Also, set the TERM environment variable to the correct
name of the term that supports colors.

You can use the colortest.vim script supplied with the Vim runtime
package to test the color setup. To use this script, follow these steps: 
<code class="example"></code>
<code class="example">    :e $VIMRUNTIME/syntax/colortest.vim</code>
<code class="example">    :source %</code>

更多详情请阅读:

     <code class="badlink">06.2</code> 
     <code class="badlink">terminal-colors</code> 
     <code class="badlink">termcap-colors</code> 
     <code class="badlink">startup-terminal</code> 
     <code class="badlink">xterm-color</code> 
     <code class="badlink">colortest.vim</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-33">faq-33</a> </b></h4><code class="section">SECTION 33 - VIM ON MS-WINDOWS </code>

                                                                <b class="vimtag"> <a name="faq-33.1">faq-33.1</a> </b>
33.1. In MS-Windows, <code class="keystroke">CTRL-V</code> doesn't start the blockwise visual mode. What
      happened?

The mswin.vim script provides key mappings and options to make Vim behave
like a MS-Windows application. One of the keys mapped is <code class="keystroke">CTRL-V</code> which is
used for pasting text in MS-Windows applications. This will disable the use
of <code class="keystroke">CTRL-V</code> to start the blockwise visual mode. The mswin.vim script maps
<code class="keystroke">CTRL-Q</code> for staring the blockwise visual mode. So you can use <code class="keystroke">CTRL-Q</code> instead
of <code class="keystroke">CTRL-V</code>.

更多详情请阅读:

     <code class="badlink">CTRL-V</code> 
     <code class="badlink">CTRL-V-alternative</code> 
     <code class="badlink">CTRL-Q</code> 
     <code class="badlink">10.5</code> 

                                                                <b class="vimtag"> <a name="faq-33.2">faq-33.2</a> </b>
33.2. When I press the <code class="keystroke">CTRL-Y</code> key, it acts like the <code class="keystroke">CTRL-R</code> key. How do I
      configure Vim to treat <code class="keystroke">CTRL-Y</code> as <code class="keystroke">CTRL-Y</code>?

The mapping of the <code class="keystroke">CTRL-Y</code> key to the <code class="keystroke">CTRL-R</code> key is done by the mswin.vim
script. The mswin.vim script maps <code class="keystroke">CTRL-Y</code> to make Vim behave like a standard
MS-Windows application. This is explained in `:help <code class="keystroke">CTRL-Y</code>`. You can either
comment out the line in mswin.vim that maps the <code class="keystroke">CTRL-Y</code> key or you can
remove the line in your .vimrc file that sources the mswin.vim script.

                                                                <b class="vimtag"> <a name="faq-33.3">faq-33.3</a> </b>
33.3. How do I start GUI Vim in a maximized window always?

You can use the  <code class="badlink">:simalt</code>  command to maximize the Vim window. You can use
the GUIEnter autocmd to maximize the Vim window on startup: 
<code class="example"></code>
<code class="example">    autocmd GUIEnter * simalt ~x</code>

更多详情请阅读:

     <code class="badlink">:simalt</code> 
     <code class="badlink">GUIEnter</code> 
     <code class="badlink">gui-win32-maximized</code> 

                                                                <b class="vimtag"> <a name="faq-33.4">faq-33.4</a> </b>
33.4. After doing some editing operations, Vim freezes. The cursor becomes
      an empty rectangle. I am not able enter any characters. What is
      happening?

Most probably, you used the mouse wheel to scroll the text in Vim. There is
a known problem in using intellimouse mouse wheel with Vim. To avoid this
problem, disable Universal scrolling support for Vim.

更多详情请阅读:

     <code class="badlink">intellimouse-wheel-problems</code> 

                                                                <b class="vimtag"> <a name="faq-33.5">faq-33.5</a> </b>
33.5. I am using Windows XP, the display speed of maximized GVim is very
      slow. What can I do to speed the display updates?

This may be due to the fact that you have enabled 'Smooth edges of screen
fonts' in the display properties. Try turning off font smoothing or try
changing the smoothing method to "Standard".

                                                                <b class="vimtag"> <a name="faq-33.6">faq-33.6</a> </b>
33.6. What are the recommended settings for using Vim with cygwin?

You may want to set the following shell related Vim settings: 
<code class="example"></code>
<code class="example">    :set shellcmdflag=-c</code>
<code class="example">    :set shellquote=</code>
<code class="example">    :set shellslash          " Use the forward slash for expansion.</code>
<code class="example">    :set shellxquote=\"</code>
<code class="example">    :set shell=d:\cygwin\bin\bash.exe " Use the bash shell</code>
<code class="example">    :set shellpipe=2&gt;&amp;1| tee</code>
<code class="example">    :set shellredir=&gt;%s 2&gt;&amp;1</code>

                                                                <b class="vimtag"> <a name="faq-33.7">faq-33.7</a> </b>
33.7. I am trying to use GNU diff with Vim diff mode. When I run the diff
      from command line, it works. When I try to use the diff with Vim it
      doesn't work. What should I do now?

There is a problem with using GNU diff with Vim. You can try using the
GNU diff.exe built by Ron Aaron from the following link:

    <a href="http://www.mossbayeng.com/~ron/vim/builds.html">http://www.mossbayeng.com/~ron/vim/builds.html</a>
(This page no longer exists.)

                                                                <b class="vimtag"> <a name="faq-33.8">faq-33.8</a> </b>
33.8. Is it possible to use Vim as an external editor for MS-Windows
      Outlook email client?

You can use the "cubiclevim" COM Add-In to use Vim as an external editor
for MS-Windows Outlook email client. Visit the following URL for more
information:

    <a href="https://sourceforge.net/projects/cubiclevim/">https://sourceforge.net/projects/cubiclevim/</a>

Note, that currently this works only with MS-Office 2000 and XP.

Also the plugin OutlookVim might be worth a look:

    <a href="https://www.vim.org/scripts/script.php?script_id=3087">https://www.vim.org/scripts/script.php?script_id=3087</a>

                                                                <b class="vimtag"> <a name="faq-33.9">faq-33.9</a> </b>
33.9. I am using Vim to edit HTML files. How do I start internet explorer
      with the current file to preview the HTML file?

You can use the following command: 
<code class="example"></code>
<code class="example">    :!start c:\progra~1\intern~1\iexplore.exe file://%:p&lt;CR&gt;</code>

                                                                <b class="vimtag"> <a name="faq-33.10">faq-33.10</a> </b>
33.10. I would like to use Vim with Microsoft Visual Studio. How do I do
       this?

You have to download and use the OLE version of Vim (for example:
gvim61ole.zip). This file also contains instructions on how to use Vim with
Visual Studio.

更多详情请阅读:

     <code class="badlink">MSVisualStudio</code> 

                                                                <b class="vimtag"> <a name="faq-33.11">faq-33.11</a> </b>
33.11. Where do I place the _vimrc and _gvimrc files?

You can place the _vimrc and _gvimrc files under the directory pointed to
by the VIM environment variable. If you are sharing this system with other
users, then you can place the files in a directory and set the HOME
environment variable to this directory.

更多详情请阅读:

     <code class="badlink">$HOME-use</code> 
     <code class="badlink">_vimrc</code> 

                                                                <b class="vimtag"> <a name="faq-33.12">faq-33.12</a> </b>
33.12. Every time I save a file, Vim warns about the file being changed
       outside of Vim. Why?

If you get the following warning message, every time you save a file: 
<code class="example"></code>
<code class="example">    WARNING: The file has been changed since reading it!!!</code>
<code class="example">    Do you really want to write to it (y/n)?</code>

then this problem could be related to a bug in MS-Windows on the day
daylight saving time starts.  Vim remembers the timestamp of the file after
it was written.  Just before the next write the timestamp is obtained again
to check if the file was changed outside of Vim.  This works correctly,
except on the day daylight saving time starts.

This problem will go away the next day after the day the daylight saving
time starts.

更多详情请阅读:

     <code class="badlink">W11</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-34">faq-34</a> </b></h4><code class="section">SECTION 34 - PRINTING </code>

                                                                <b class="vimtag"> <a name="faq-34.1">faq-34.1</a> </b>
34.1. How do I print a file along with line numbers for all the lines?

You can set the <code class="badlink">'printoptions'</code> option and use the  <code class="badlink">:hardcopy</code>  command to
print your file: 
<code class="example"></code>
<code class="example">    :set printoptions=number:y</code>
<code class="example">    :hardcopy</code>

更多详情请阅读:

     <code class="badlink">'printoptions'</code> 
     <code class="badlink">:hardcopy</code> 

                                                                <b class="vimtag"> <a name="faq-34.2">faq-34.2</a> </b>
34.2. How do I print a file with the Vim syntax highlighting colors?

You can use the  <code class="badlink">:hardcopy</code>  command to print a file with the Vim syntax
highlighting colors. You can also convert your file to a HTML file using
the 2html.vim script and print the HTML file.

更多详情请阅读:

     <code class="badlink">syntax-printing</code> 
     <code class="badlink">2html.vim</code> 
     <code class="badlink">:hardcopy</code> 
     <code class="badlink">printing</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-35">faq-35</a> </b></h4><code class="section">SECTION 35 - BUILDING VIM FROM SOURCE </code>

                                                                <b class="vimtag"> <a name="faq-35.1">faq-35.1</a> </b>
35.1. How do I build Vim from the sources on a Unix system?

For a Unix system, follow these steps to build Vim from the sources:

- Download the source and run-time files archive (vim-##.tar.bz2) from the
  ftp://ftp.vim.org/pub/vim/unix directory.
- Extract the archive using the bzip2 and tar utilities using the command: 
<code class="example"></code>
<code class="example">        $ bunzip2 -c &lt;filename&gt; | tar -xf -</code>

- Alternatively, download the source from the git repository:
  <a href="https://github.com/vim/vim/releases/">https://github.com/vim/vim/releases/</a>
- Alternatively, download the source from the mercurial repository:
  <a href="https://bitbucket.org/vim-mirror/vim/downloads/">https://bitbucket.org/vim-mirror/vim/downloads/</a>
- Run the "make" command to configure and build Vim with the default
  configuration.
- Run "make install" command to install Vim in the default directory.

To enable/disable various Vim features, before running the "make" command
you can run the "configure" command with different flags to include/exclude
the various Vim features. To list all the available options for the
"configure" command, use: 
<code class="example"></code>
<code class="example">    $ configure --help</code>

更多详情请阅读:

     <code class="badlink">install</code> 

                                                                <b class="vimtag"> <a name="faq-35.2">faq-35.2</a> </b>
35.2. How do I install Vim in my home directory or a directory other
      than the default installation directory in Unix?

To install Vim in a directory other than the default installation
directory, you have to specify the directory using the --prefix option
while running the configure script. 
<code class="example"></code>
<code class="example">    $ ./configure --prefix=/users/xyz</code>

You can enable/disable various Vim feature by supplying different arguments
to the configure script. For more information about all these options, run: 
<code class="example"></code>
<code class="example">    $ ./configure --help</code>

更多详情请阅读:

     <code class="badlink">install-home</code> 
     <code class="badlink">install</code> 

                                                                <b class="vimtag"> <a name="faq-35.3">faq-35.3</a> </b>
35.3. How do I build Vim from the sources on a MS-Windows system?

For a MS-Windows system, Vim can be built using either the Visual C++
compiler or the Borland C++ compiler or the Ming GCC compiler or the cygwin
gcc compiler. Follow these steps to build Vim from the sources for
MS-Windows:
    - Download the source (vim##src.zip), runtime (vim##rt.zip) and the
      extra (vim-##-extra.tar.gz) archives from the
      ftp://ftp.vim.org/pub/vim/pc directory.
    - Extract the archives into a directory (for example, c:\vimsrc)
    - Alternatively, download the source from the git repository:
      <a href="https://github.com/vim/vim/releases/">https://github.com/vim/vim/releases/</a>
    - Alternatively, download the source from the mercurial repository:
      <a href="https://bitbucket.org/vim-mirror/vim/downloads/">https://bitbucket.org/vim-mirror/vim/downloads/</a>
    - Depending on the installed compiler, you can use the corresponding
      makefile to build the Vim sources. For Visual C++ use the
      Make_mvc.mak makefile, for borland C++ use the Make_bc5.mak makefile,
      for ming GCC use the Make_ming.mak makefile, for cygwin gcc use the
      Make_cyg.mak makefile.

Depending on whether you want to build the GUI version of Vim or the
console version of Vim, you have to pass different arguments to the
makefiles. After successfully building the sources, you can copy the
vim.exe or gvim.exe file to the desired directory along with the files from
the runtime archive.

更多详情请阅读:

     <code class="badlink">install</code> 

                                                                <b class="vimtag"> <a name="faq-35.4">faq-35.4</a> </b>
35.4. The Vim help, syntax, indent files are missing from my Vim
      installation. How do I install these files?

The Vim help, syntax, indent and other runtime files are part of the Vim
runtime package. You need to download and install the Vim runtime package.
For example, for MS-Windows, the name of the Vim 6.1 runtime package is
vim61rt.zip.

更多详情请阅读:

     <code class="badlink">install</code> 

                                                                <b class="vimtag"> <a name="faq-35.5">faq-35.5</a> </b>
35.5. I have built Vim from the source and installed the Vim package using
      "make install". Do I need to keep the Vim source directory?

No. Once you have built and installed Vim in some directory other than the
original source directory (for example, /usr/bin or /usr/local/bin), then
you can remove the source directory.

                                                                <b class="vimtag"> <a name="faq-35.6">faq-35.6</a> </b>
35.6. How do I determine the Vim features which are enabled at compile
      time?

You can use the  <code class="badlink">:version</code>  command to determine the Vim features that are
enabled at compile time. The features that are enabled will be prefixed
with a "+". The features that are not enabled will be prefixed with a "-".

If you want to test for a feature in a script, you can use the has()
function: 
<code class="example"></code>
<code class="example">    if has("menu")</code>
<code class="example">        " Set up some menus</code>
<code class="example">    endif</code>

更多详情请阅读:

     <code class="badlink">:version</code> 
     <code class="badlink">+feature-list</code> 
     <code class="badlink">has()</code> 

                                                                <b class="vimtag"> <a name="faq-35.7">faq-35.7</a> </b>
35.7. Can I build Vim without the GUI support?

Yes. You can build Vim by optionally enabling/disabling many of the
features including GUI.

更多详情请阅读:

     <code class="badlink">install</code> 

                                                                <b class="vimtag"> <a name="faq-35.8">faq-35.8</a> </b>
35.8. When building Vim on a Unix system, I am getting "undefined reference
      to term_set_winsize" error. How do I resolve this error?

You will get this error when the build process is not able to locate the
termlib, termcap or ncurses library. You have to install the ncurses-dev
package to resolve this error.

                                                                <b class="vimtag"> <a name="faq-35.9">faq-35.9</a> </b>
35.9. Vim configure keeps complaining about the lack of gtk-config while
      trying to use GTK 2.03. This is correct, since in GTK 2 they moved to
      using the generic pkg-config. I can get pkg-config to list the
      various includes and libs for gtk, but for some reason the configure
      script still isn't picking this up.

Use the following shell script named gtk-config: 
<code class="example"></code>
<code class="example">    #!/bin/sh</code>
<code class="example">    pkg-config gtk+-2.0 $1 $2</code>

                                                                <b class="vimtag"> <a name="faq-35.10">faq-35.10</a> </b>
35.10. I did successfully download the sources and compiled Vim on
        Unix. But feature ... still does not work. What is wrong and
        how can I fix it?

You should first check, that you are actually running your self compiled
Vim and not the system's provided version. So first check your $PATH
setting.

Depending on your compile options, some features might not be included in
your build of Vim. You can use the  <code class="badlink">:version</code>  command to determine the Vim
features that are enabled at compile time. The features that are enabled
will be prefixed with a "+". The features that are not enabled will be
prefixed with a "-".

The easiest way to include all features is to build the huge version. To do
this, you have to specify the --with-features option while running the
configure script: 
<code class="example"></code>
<code class="example">    $ ./configure --with-features=huge</code>

Nevertheless, a feature could still be disabled at compile time, if the
configure script can't find the required libraries for those features (e.g.
for clipboard integration, your Vim needs to be linked against the X11
development libraries).

There are several ways to install the required libraries:

1) On a Debian based distribution, you can use the package manager "apt"
   to install all required dependencies. As superuser, run the command:

   $ apt-get build-dep vim-gtk

   This makes sure all required libraries needed to compile the vim-gtk
   package will be installed. (This requires, that your sources list
   contains deb-src entries. See your distribution manual on how to
   enable this, if the above command did not work.)

2) In openSUSE you can use the package manager "zypper" to install all
   required libraries. This requires, that there is a source version of
   the package installable from a configured repository (which by
   default is not the case). Use:

   $ zypper search -t srcpackage vim

   to find out, whether or not there exists a source version in the
   repository. If there is none, you'll need to add a source repository.
   For openSUSE 11.2 you could use, e.g.

   $ zypper ar
   <a href="http://download.opensuse.org/source/distribution/11.2/repo/oss/src-11.2">http://download.opensuse.org/source/distribution/11.2/repo/oss/src-11.2</a>

   (one line)

   Once you have a source version available in your repositories, use
   this command to install all needed requirements:

   $ zypper source-install --build-deps-only vim

3) On a Fedora/RedHat based system, you can use

   $ yum-builddep vim-enhanced

4) Run configure with your options and watch for missing libraries:

   $ ./configure --with-features=huge 2&gt;&amp;1 |tee logfile

   This will run configure and record the output into the file "logfile".
   You need to check the logfile for missing dependencies. Consider this
   output: 
<code class="example"></code>
<code class="example">    checking --disable-gtktest argument... gtk test enabled</code>
<code class="example">    checking for pkg-config... /usr/bin/pkg-config</code>
<code class="example">    checking for GTK - version &gt;= 2.2.0... no</code>

    Here you can see, that the gtk libraries are missing and therefore
    no GTK gui version can't be build. So you need to install the GTK
    library in your system, with your package manager or by compiling it
    yourself. Then run the configure script again and check, that it
    finds the library.

In theory, those provided dependencies by your distribution might still
lack some libraries, that are needed for features, that simply are not
enabled in your distribution and therefore those commands in 1-3 won't
install it. At the very least, this provides a jumping point and you need
to track down the required missing packages using method 4 from above. But
usually, this works good enough for most people and you won't have to
bother with the fourth method.

更多详情请阅读:

     <code class="badlink">:version</code> 
     <code class="badlink">+feature-list</code> 

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-36">faq-36</a> </b></h4><code class="section">SECTION 36 - VARIOUS </code>

                                                                <b class="vimtag"> <a name="faq-36.1">faq-36.1</a> </b>
36.1. How do I edit binary files with Vim?

You can set the following options to edit binary files in Vim: 
<code class="example"></code>
<code class="example">    :set binary</code>
<code class="example">    :set display=uhex</code>

You can also use the "-b" command-line option to edit a binary file: 
<code class="example"></code>
<code class="example">    $ vim -b &lt;binary_file_name&gt;</code>

You can also use the xxd utility (part of the Vim distribution) to edit
binary files.

更多详情请阅读:

     <code class="badlink">23.4</code> 
     <code class="badlink">edit-binary</code> 
     <code class="badlink">hex-editing</code> 
     <code class="badlink">-b</code> 
     <code class="badlink">'binary'</code> 
     <code class="badlink">'endofline'</code> 
     <code class="badlink">'display'</code> 

                                                                <b class="vimtag"> <a name="faq-36.2">faq-36.2</a> </b>
36.2. How do I disable the visual error flash and the error beep?

You can disable both the visual error flash and the error beep using the
following command: 
<code class="example"></code>
<code class="example">    :set visualbell t_vb=</code>

更多详情请阅读:

     <code class="badlink">'visualbell'</code> 
     <code class="badlink">'errorbells'</code> 
     <code class="badlink">t_vb</code> 

                                                                <b class="vimtag"> <a name="faq-36.3">faq-36.3</a> </b>
36.3. How do I display the ascii value of a character displayed in a
      buffer?

You can use the "ga" command to display the ascii value of a displayed
character.

更多详情请阅读:

     <code class="badlink">ga</code> 
     <code class="badlink">:ascii</code> 

                                                                <b class="vimtag"> <a name="faq-36.4">faq-36.4</a> </b>
36.4. Can I use zero as a count for a Vim command?

You cannot use zero as a count for a Vim command, as "0" is a command on
its own, moving to the first column of the line.

更多详情请阅读:

     <code class="badlink">0</code> 
     <code class="badlink">count</code> 

                                                                <b class="vimtag"> <a name="faq-36.5">faq-36.5</a> </b>
36.5. How do I disable the Vim welcome screen?

You can disable the Vim welcome screen, by adding the "I" flag to the
<code class="badlink">'shortmess'</code> option: 
<code class="example"></code>
<code class="example">    :set shortmess+=I</code>

更多详情请阅读:

     <code class="badlink">:intro</code> 
     <code class="badlink">'shortmess'</code> 

                                                                <b class="vimtag"> <a name="faq-36.6">faq-36.6</a> </b>
36.6. How do I avoid the "hit enter to continue" prompt?

Vim will prompt you with the "hit enter to continue" prompt, if there are
some messages on the screen for you to read and the screen is about to be
redrawn.  You can add the "T" flag to the <code class="badlink">'shortmess'</code> option to truncate
all messages. This will help in avoiding the hit-enter prompt: 
<code class="example"></code>
<code class="example">    :set shortmess+=T</code>

You can also increase the command height by setting the <code class="badlink">'cmdheight'</code> option: 
<code class="example"></code>
<code class="example">    :set cmdheight=2</code>

更多详情请阅读:

     <code class="badlink">hit-enter</code> 
     <code class="badlink">avoid-hit-enter</code> 
     <code class="badlink">'shortmess'</code> 
     <code class="badlink">'cmdheight'</code> 

                                                                <b class="vimtag"> <a name="faq-36.7">faq-36.7</a> </b>
36.7. How do I invoke Vim from command line to run a group of commands on a
      group of files?

There are several ways to invoke Vim from command line to run a group of
commands on a group of files. You can use a set of  "-c" command line
options to specify a group of commands: 
<code class="example"></code>
<code class="example">    $ vim -c "&lt;ex_command_1&gt;" -c "&lt;ex_command_2&gt;" *.txt</code>

Each of the ex-command specified with the "-c" command line option is
executed one by one sequentially. You can also use a single "-c" command
line option and the "|" character to separate the ex commands: 
<code class="example"></code>
<code class="example">    $ vim -c "&lt;ex_command_1&gt; | &lt;ex_command_2&gt;" *.txt</code>

In the above command, if an ex command fails, then all the remaining ex
commands will not be executed.

For example, to replace "ABC" with "DEF" in a file from the command-line,
you can use the following command: 
<code class="example"></code>
<code class="example">    $ vim -c "%s/ABC/DEF/ge | update" myfile.txt</code>

To replace "ABC" with "DEF" in multiple files from the command-line,
you can use the following command: 
<code class="example"></code>
<code class="example">    $ vim -c "argdo %s/ABC/DEF/ge | update" *.txt</code>

You can store the group of commands into a file and use the "-s" command
line option to run the commands on a set of files. For example, if the
group of commands are stored in the file mycmds.txt, then you can use the
following command: 
<code class="example"></code>
<code class="example">    $ vim -s mycmds.txt *.pl</code>

更多详情请阅读:

     <code class="badlink">-c</code> 
     <code class="badlink">-s</code> 

                                                                <b class="vimtag"> <a name="faq-36.8">faq-36.8</a> </b>
36.8. How do I use a normal mode command from insert mode without leaving
      the insert mode?

You can use a normal command from insert mode, without leaving the insert
mode, by first pressing the <code class="keystroke">CTRL-O</code> key and then follow that with a single
normal mode command.

To execute more than one normal mode command, press the <code class="keystroke">CTRL-L</code> key,
followed by any number of normal mode commands and then press <code class="special">&lt;Esc&gt;</code> to get
back to the insert mode. (This only works, when the <code class="badlink">'insertmode'</code> option
is set).

更多详情请阅读:

     <code class="badlink">i_CTRL-O</code> 
     <code class="badlink">i_CTRL-L</code> 

                                                                <b class="vimtag"> <a name="faq-36.9">faq-36.9</a> </b>
36.9. How do I start Vim in insert mode?

You can start Vim in insert mode using the  <code class="badlink">:startinsert</code>  ex command. 
<code class="example"></code>
<code class="example">    $ vim +startinsert myfile.txt</code>

The above command will open the file "myfile.txt" and start insert mode
with the cursor in front of the first character on the first line.  To open
the file and start appending after the last character on the last line,
you can use the following command: 
<code class="example"></code>
<code class="example">    $ vim + +startinsert! myfile.txt</code>

更多详情请阅读:

     <code class="badlink">:startinsert</code> 

                                                                <b class="vimtag"> <a name="faq-36.10">faq-36.10</a> </b>
36.10. How do I use Copy and Paste with Vim?

You should first check the output of the  <code class="badlink">:version</code>  command and make
sure that +xterm-clipboard is present.

When running Vim in an xterm, you can either let Vim control the mouse
or let xterm control the mouse. This is configured by the <code class="badlink">'mouse'</code> option.

If the <code class="badlink">'mouse'</code> option is not set (or set to the default value), then Vim will
not control the mouse. You cannot move the Vim text cursor using the
mouse. When you select some text using the mouse, xterm will copy
it to the X11 cut buffer. When you press both the mouse buttons,
xterm will paste the text from the cut buffer.

If the <code class="badlink">'mouse'</code> option is set to "a" or some other value, then Vim controls
the mouse. The mode (normal or insert or visual, etc) in which Vim
controls the mouse is configured by the <code class="badlink">'mouse'</code> option. You can move
the Vim text cursor using the mouse. When you select some text,
the <code class="badlink">'clipboard'</code> option setting is used to determine whether to transfer
the selected text to the clipboard or not. The default setting is to
transfer the selected text to the clipboard. If you want to use the
xterm selection mechanism in this mode, then you can press the
<code class="special">&lt;Shift&gt;</code> key. If you press <code class="special">&lt;Shift&gt;</code> key when selecting text using the
mouse, then Vim doesn't control the mouse and xterm controls the
mouse.

In the GUI mode, Copy and Paste should just work, depending on the <code class="badlink">'mouse'</code>
setting. 更多详情请阅读:

     <code class="badlink">'clipboard'</code> 
     <code class="badlink">x11-selection</code> 
     <code class="badlink">clipboard</code> 
     <code class="badlink">'go-a'</code> 
     <code class="badlink">'mouse'</code> 
     <code class="badlink">xterm-copy-paste</code> 
     <code class="badlink">09.3</code> 

                                                                <b class="vimtag"> <a name="faq-36.11">faq-36.11</a> </b>
36.11. Why shouldn't I modify the files in the system runtime directory?

Just be careful about modifying files under $VIMRUNTIME, which usually
is /usr/share/vim/vimXX (Unix) or C:\Program Files\vim\vimXX
(Windows) and XX being the version for which it applies, e.g. 73 for Vim
7.3.

One should generally avoid modifying those files because they may be
replaced during an upgrade of your Vim installation and your changes
will be lost.  Also, if you upgrade to a new major or minor revision of
Vim (e.g., from 7.3 to 7.4), the new version of Vim will use a different
$VIMRUNTIME directory and while your changes won't be lost, they will be
ignored.

Consequently, take a look at

     <code class="badlink">filetypes</code> 

for an explanation of several ways to modify Vim's response to
different filetypes and where to put those modifications so that
they will not be overwritten.

</section><hr class="doubleline" /><section class=inner>
<h4>                                                                <b class="vimtag"> <a name="faq-37">faq-37</a> </b></h4><code class="section">SECTION 37 - UNICODE </code>
Author: Tony Mechelynck &lt;antoine.mechelynck AT belgacom.net&gt;

                                                                <b class="vimtag"> <a name="faq-37.1">faq-37.1</a> </b>
37.1. Is it possible to create Unicode files using Vim?

Yes. It may be more or less complicated depending on the keyboard and fonts
available to you, but it is always possible to encode any possible Unicode
codepoint (and some illegal ones) into a file. To create a Unicode file
using Vim, you should have compiled Vim with the "+multi_byte" compile-time
option.  You can get more information about Unicode from the following
sites:

    <a href="http://www.unicode.org">http://www.unicode.org</a>
    <a href="https://www.cl.cam.ac.uk/~mgk25/unicode.html">https://www.cl.cam.ac.uk/~mgk25/unicode.html</a>

更多详情请阅读:

     <code class="badlink">multibyte</code> 
     <code class="badlink">usr_45.txt</code> 

                                                                <b class="vimtag"> <a name="faq-37.2">faq-37.2</a> </b>
37.2. Which Vim settings are particularly important for editing Unicode
      files?

The most important are the various "encoding" options, i.e., <code class="badlink">'encoding'</code>,
<code class="badlink">'fileencoding'</code>, <code class="badlink">'fileencodings'</code> and <code class="badlink">'termencoding'</code>. The boolean option
<code class="badlink">'bomb'</code> is also significant.

更多详情请阅读:

     <code class="badlink">'encoding'</code> 
     <code class="badlink">'fileencoding'</code> 
     <code class="badlink">'fileencodings'</code> 
     <code class="badlink">'termencoding'</code> 
     <code class="badlink">'bomb'</code> 

                                                                <b class="vimtag"> <a name="faq-37.3">faq-37.3</a> </b>
37.3. What is the <code class="badlink">'encoding'</code> option?

Basically, the <code class="badlink">'encoding'</code> option defines how Vim will represent your data
internally.  However, all Unicode encodings are represented internally as
utf-8 and converted (if necessary) when reading and writing.

更多详情请阅读:

     <code class="badlink">'encoding'</code> 

                                                                <b class="vimtag"> <a name="faq-37.4">faq-37.4</a> </b>
37.4. How does Vim name the various Unicode encodings?

Utf-8 is called utf-8 or utf8; utf-16 is called ucs-2 or ucs2; utf-32 is
called ucs-4 or ucs4. Also, you may specify endianness (except for utf-8
which does not vary for endianness) by appending le for little-endian or be
for big-endian. If you create a file with an encoding of ucs-2 or ucs-4
without specifying endianness, Vim will use what is typical of your
machine.

更多详情请阅读:

     <code class="badlink">encoding-names</code> 
     <code class="badlink">encoding-values</code> 
     <code class="badlink">encoding-table</code> 

                                                                <b class="vimtag"> <a name="faq-37.5">faq-37.5</a> </b>
37.5. How does Vim specify the presence or absence of a byte-order mark?

When reading a file, if the <code class="badlink">'fileencodings'</code> option includes "ucs-bom", Vim
will check for a byte-order mark. When writing a file, if the <code class="badlink">'bomb'</code> option
is set, Vim will write a byte-order mark on files whose encoding warrants
it.

更多详情请阅读:

     <code class="badlink">'fileencodings'</code> 
     <code class="badlink">'bomb'</code> 

                                                                <b class="vimtag"> <a name="faq-37.6">faq-37.6</a> </b>
37.6. What is the <code class="badlink">'fileencoding'</code> option?

The <code class="badlink">'fileencoding'</code> option defines the particular encoding which Vim will
use to write a file. If empty, then the value of the <code class="badlink">'encoding'</code> option is
the default.

更多详情请阅读:

     <code class="badlink">'fileencoding'</code> 

                                                                <b class="vimtag"> <a name="faq-37.7">faq-37.7</a> </b>
37.7. What is the <code class="badlink">'fileencodings'</code> option?

The <code class="badlink">'fileencodings'</code> option defines the heuristics used by Vim when opening
an existing file. It is a comma separated list of encodings. A special
name, "ucs-bom" is used to indicate that Vim should check for the presence
of a byte-order mark; however, it will not be recognised if it comes after
"utf-8".  Normally, "ucs-bom" (if present) should be first in the list.

When Vim opens a file, it checks it against the encodings listed in
<code class="badlink">'fileencodings'</code>. The first one that matches is used. If there is no match,
then Vim sets <code class="badlink">'fileencoding'</code> to the null string, i.e., the value of
<code class="badlink">'encoding'</code> will be used.

更多详情请阅读:

     <code class="badlink">'fileencodings'</code> 
     <code class="badlink">'encoding'</code> 

                                                                <b class="vimtag"> <a name="faq-37.8">faq-37.8</a> </b>
37.8. What is the <code class="badlink">'termencoding'</code> option?

The <code class="badlink">'termencoding'</code> option defines how your keyboard encodes the data you
type.  If empty, Vim assumes that it has the same value as <code class="badlink">'encoding'</code>.
Usually it should be set to something that matches your locale.

更多详情请阅读:

     <code class="badlink">'termencoding'</code> 
     <code class="badlink">locale</code> 

                                                                <b class="vimtag"> <a name="faq-37.9">faq-37.9</a> </b>
37.9. What is the <code class="badlink">'bomb'</code> option?

When reading a file with "ucs-bom" present in the <code class="badlink">'fileencodings'</code> option,
Vim will set the <code class="badlink">'bomb'</code> option on or off depending on the presence or
absence of a byte-order mark at the start of the file. When writing, Vim
will write a byte-order mark if the <code class="badlink">'bomb'</code> option is set. You may set or
unset it manually do make Vim write, or not write, the b.o.m.

更多详情请阅读:

     <code class="badlink">'bomb'</code> 

                                                                <b class="vimtag"> <a name="faq-37.10">faq-37.10</a> </b>
37.10. Where can I find an example of a typical use of all these options?

There is a "tip", with explains them in different words with an example, at

    <a href="http://vim.wikia.com/wiki/VimTip246">http://vim.wikia.com/wiki/VimTip246</a>

                                                                <b class="vimtag"> <a name="faq-37.11">faq-37.11</a> </b>
37.11. How can I insert Unicode characters into a file using Vim?

Several methods are available:

- Characters present on your keyboard can be typed in the usual way, even
  those which require a "dead-key" prefix, like (for instance) the
  circumflex on French keyboards.
- Characters for which a digraph is defined can be typed as two characters
  prefixed by <code class="keystroke">CTRL-K</code>.
- If you have set the <code class="badlink">'digraph'</code> option, you can enter the characters for
  which a digraph is defined as <code class="special">&lt;char1&gt;</code><code class="special">&lt;BS&gt;</code><code class="special">&lt;char2&gt;</code>.
- Any character can be entered by using a <code class="keystroke">CTRL-V</code> prefix (or <code class="keystroke">CTRL-Q</code> if
  <code class="keystroke">CTRL-V</code> is remapped to paste from the clipboard).

更多详情请阅读:

     <code class="badlink">digraphs</code> 
     <code class="badlink">'digraph'</code> 
     <code class="badlink">i_CTRL-V_digit</code> 

                                                                <b class="vimtag"> <a name="faq-37.12">faq-37.12</a> </b>
37.12. How can I know which digraphs are defined and for which characters?

First set the <code class="badlink">'encoding'</code> option properly (for instance, to utf-8), then use
the  <code class="badlink">:digraphs</code>  command to list the currently defined digraphs.

Alternatively, the help file contains the complete set of all digraphs.
So you can easily search that list there.

更多详情请阅读:

     <code class="badlink">:digraphs</code> 
     <code class="badlink">'encoding'</code> 
     <code class="badlink">digraph-table</code> 


 vim:tw=78:ts=8:ft=help:norl:
</section>
</article>
<footer>
Generated by vim2html
</footer>
</body>
</html>
